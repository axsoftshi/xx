var __awaiter = this && this.__awaiter || function(n, t, e, r) {
		return new(e || (e = Promise))((function(i, o) {
			function u(n) {
				try {
					a(r.next(n))
				} catch (n) {
					o(n)
				}
			}

			function c(n) {
				try {
					a(r.throw(n))
				} catch (n) {
					o(n)
				}
			}

			function a(n) {
				n.done ? i(n.value) : new e((function(t) {
					t(n.value)
				})).then(u, c)
			}
			a((r = r.apply(n, t || [])).next())
		}))
	},
	__generator = this && this.__generator || function(n, t) {
		var e, r, i, o, u = {
			label: 0,
			sent: function() {
				if (1 & i[0]) throw i[1];
				return i[1]
			},
			trys: [],
			ops: []
		};
		return o = {
			next: c(0),
			throw: c(1),
			return: c(2)
		}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
			return this
		}), o;

		function c(o) {
			return function(c) {
				return function(o) {
					if (e) throw new TypeError("Generator is already executing.");
					for (; u;) try {
						if (e = 1, r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done) return i;
						switch (r = 0, i && (o = [0, i.value]), o[0]) {
							case 0:
							case 1:
								i = o;
								break;
							case 4:
								return u.label++, {
									value: o[1],
									done: !1
								};
							case 5:
								u.label++, r = o[1], o = [0];
								continue;
							case 7:
								o = u.ops.pop(), u.trys.pop();
								continue;
							default:
								if (!(i = (i = u.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
									u = 0;
									continue
								}
								if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
									u.label = o[1];
									break
								}
								if (6 === o[0] && u.label < i[1]) {
									u.label = i[1], i = o;
									break
								}
								if (i && u.label < i[2]) {
									u.label = i[2], u.ops.push(o);
									break
								}
								i[2] && u.ops.pop(), u.trys.pop();
								continue
						}
						o = t.call(n, u)
					} catch (n) {
						o = [6, n], r = 0
					} finally {
						e = i = 0
					}
					if (5 & o[0]) throw o[1];
					return {
						value: o[0] ? o[1] : void 0,
						done: !0
					}
				}([o, c])
			}
		}
	};
var __decorate = this && this.__decorate || function(e, t, c, f) {
	var o, r = arguments.length,
		l = r < 3 ? t : null === f ? f = Object.getOwnPropertyDescriptor(t, c) : f;
	if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) l = Reflect.decorate(e, t, c, f);
	else
		for (var n = e.length - 1; n >= 0; n--)(o = e[n]) && (l = (r < 3 ? o(l) : r > 3 ? o(t, c, l) : o(t, c)) || l);
	return r > 3 && l && Object.defineProperty(t, c, l), l
};
var __extends = this && this.__extends || function(n, i) {
	function t() {
		this.constructor = n
	}
	for (var s in i) i.hasOwnProperty(s) && (n[s] = i[s]);
	t.prototype = i.prototype, n.prototype = new t
};
var __reflect = this && this.__reflect || function(t, i, c) {
	t.__class__ = i, c ? c.push(i) : c = [i], t.__types__ = t.__types__ ? c.concat(t.__types__) : c
};
if (void 0 === global) var global = window;
if (void 0 === __global) var __global = global;
var __define = this && this.__define || function(t, e, n, r) {
	Object.defineProperty(t, e, {
		configurable: !0,
		enumerable: !0,
		get: n,
		set: r
	})
};
! function(t) {
	t.$hashCount = 1;
	var e = function() {
		function e() {
			this.$hashCode = t.$hashCount++
		}
		return Object.defineProperty(e.prototype, "hashCode", {
			get: function() {
				return this.$hashCode
			},
			enumerable: !0,
			configurable: !0
		}), e
	}();
	t.HashObject = e, __reflect(e.prototype, "egret.HashObject", ["egret.IHashObject"])
}(egret || (egret = {})),
function(t) {
	var e = [],
		n = function(n) {
			function r(t) {
				void 0 === t && (t = null);
				var e = n.call(this) || this;
				return e.$EventDispatcher = {
					0: t || e,
					1: {},
					2: {},
					3: 0
				}, e
			}
			return __extends(r, n), r.prototype.$getEventMap = function(t) {
				var e = this.$EventDispatcher;
				return t ? e[2] : e[1]
			}, r.prototype.addEventListener = function(t, e, n, r, s) {
				this.$addListener(t, e, n, r, s)
			}, r.prototype.once = function(t, e, n, r, s) {
				this.$addListener(t, e, n, r, s, !0)
			}, r.prototype.$addListener = function(t, e, n, r, s, h) {
				var u = this.$EventDispatcher,
					o = r ? u[2] : u[1],
					a = o[t];
				a ? 0 !== u[3] && (o[t] = a = a.concat()) : a = o[t] = [], this.$insertEventBin(a, t, e, n, r, s, h)
			}, r.prototype.$insertEventBin = function(t, e, n, r, s, h, u) {
				h = 0 | +h;
				for (var o = -1, a = t.length, c = 0; c < a; c++) {
					var f = t[c];
					if (f.listener == n && f.thisObject == r && f.target == this) return !1; - 1 == o && f.priority < h && (o = c)
				}
				var l = {
					type: e,
					listener: n,
					thisObject: r,
					priority: h,
					target: this,
					useCapture: s,
					dispatchOnce: !!u
				};
				return -1 !== o ? t.splice(o, 0, l) : t.push(l), !0
			}, r.prototype.clearEventListener = function() {
				var t = this.$EventDispatcher;
				t[0] = this, t[2] = {}, t[1] = {}, t[3] = 0
			}, r.prototype.removeEventListener = function(t, e, n, r) {
				var s = this.$EventDispatcher,
					h = r ? s[2] : s[1],
					u = h[t];
				u && (0 !== s[3] && (h[t] = u = u.concat()), this.$removeEventBin(u, e, n), 0 == u.length && (h[t] = null))
			}, r.prototype.$removeEventBin = function(t, e, n) {
				for (var r = t.length, s = 0; s < r; s++) {
					var h = t[s];
					if (h.listener == e && h.thisObject == n && h.target == this) return t.splice(s, 1), !0
				}
				return !1
			}, r.prototype.hasEventListener = function(t) {
				var e = this.$EventDispatcher;
				return !(!e[1][t] && !e[2][t])
			}, r.prototype.willTrigger = function(t) {
				return this.hasEventListener(t)
			}, r.prototype.dispatchEvent = function(t) {
				return t.$currentTarget = this.$EventDispatcher[0], t.$setTarget(t.$currentTarget), this.$notifyListener(t, !1)
			}, r.prototype.$notifyListener = function(t, n) {
				var r = this.$EventDispatcher,
					s = (n ? r[2] : r[1])[t.$type];
				if (!s) return !0;
				var h = s.length;
				if (0 == h) return !0;
				var u = e;
				r[3]++;
				for (var o = 0; o < h && ((a = s[o]).listener.call(a.thisObject, t), a.dispatchOnce && u.push(a), !t.$isPropagationImmediateStopped); o++);
				for (r[3]--; u.length;) {
					var a;
					(a = u.pop()).target.removeEventListener(a.type, a.listener, a.thisObject, a.useCapture)
				}
				return !t.$isDefaultPrevented
			}, r.prototype.dispatchEventWith = function(e, n, r, s) {
				if (n || this.hasEventListener(e)) {
					var h = t.Event.create(t.Event, e, n, s);
					h.data = r;
					var u = this.dispatchEvent(h);
					return t.Event.release(h), u
				}
				return !0
			}, r
		}(t.HashObject);
	t.EventDispatcher = n, __reflect(n.prototype, "egret.EventDispatcher", ["egret.IEventDispatcher"])
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n() {
			var n = e.call(this) || this;
			return n.type = null, n.$id = null, n.paddingTop = 0, n.paddingBottom = 0, n.paddingLeft = 0, n.paddingRight = 0, n.$uniforms = {}, t.nativeRender && egret_native.NativeDisplayObject.createFilter(n), n
		}
		return __extends(n, e), n.prototype.$toJson = function() {
			return ""
		}, n.prototype.updatePadding = function() {}, n.prototype.onPropertyChange = function() {
			this.updatePadding(), t.nativeRender && (egret_native.NativeDisplayObject.setFilterPadding(this.$id, this.paddingTop, this.paddingBottom, this.paddingLeft, this.paddingRight), egret_native.NativeDisplayObject.setDataToFilter(this))
		}, n
	}(t.HashObject);
	t.Filter = e, __reflect(e.prototype, "egret.Filter")
}(egret || (egret = {})),
function(t) {
	function e(t) {
		return (t %= 360) > 180 ? t -= 360 : t < -180 && (t += 360), t
	}
	var n = function(n) {
		function r() {
			var e = n.call(this) || this;
			return e.$children = null, e.$name = "", e.$parent = null, e.hidePauseMC = !1, e.hideNotPauseTween = !1, e.$stage = null, e.$nestLevel = 0, e.$useTranslate = !1, e.$matrix = new t.Matrix, e.$matrixDirty = !1, e.$x = 0, e.$y = 0, e.$scaleX = 1, e.$scaleY = 1, e.$z = 0, e.$rotation = 0, e.$skewX = 0, e.$skewXdeg = 0, e.$skewY = 0, e.$skewYdeg = 0, e.$explicitWidth = NaN, e.$explicitHeight = NaN, e.$anchorOffsetX = 0, e.$anchorOffsetY = 0, e.$visible = !0, e.$modal = !1, e.$displayList = null, e.$cacheAsBitmap = !1, e.$cacheDirty = !1, e.$alpha = 1, e.$touchEnabled = r.defaultTouchEnabled, e.$scrollRect = null, e.$blendMode = 0, e.$maskedObject = null, e.$mask = null, e.$maskRect = null, e.$parentDisplayList = null, e.$renderNode = null, e.$renderDirty = !1, e.$renderMode = null, e._tint = 0, e.$tintRGB = 0, e.$sortDirty = !1, e._zIndex = 0, e.$lastSortedIndex = 0, e.sortableChildren = !1, t.nativeRender && e.createNativeDisplayObject(), e.tint = 16777215, e
		}
		return __extends(r, n), r.prototype.createNativeDisplayObject = function() {
			this.$nativeDisplayObject = new egret_native.NativeDisplayObject(0)
		}, Object.defineProperty(r.prototype, "name", {
			get: function() {
				return this.$name
			},
			set: function(t) {
				this.$name = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "parent", {
			get: function() {
				return this.$parent
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setParent = function(t) {
			this.$parent = t
		}, r.prototype.$onAddToStage = function(e, n) {
			this.$stage = e, this.$nestLevel = n, this.$hasAddToStage = !0, t.Sprite.$EVENT_ADD_TO_STAGE_LIST.push(this), this.$modal && (this.$stage.modalObj = this)
		}, r.prototype.$onRemoveFromStage = function() {
			this.$nestLevel = 0, t.Sprite.$EVENT_REMOVE_FROM_STAGE_LIST.push(this), this.$modal && this.$stage.modalObj == this && (this.$stage.modalObj = null)
		}, r.prototype.$onVisibleChanged = function(t) {}, r.prototype.$updateUseTransform = function() {
			1 == this.$scaleX && 1 == this.$scaleY && 0 == this.$skewX && 0 == this.$skewY ? this.$useTranslate = !1 : this.$useTranslate = !0
		}, Object.defineProperty(r.prototype, "stage", {
			get: function() {
				return this.$stage
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "matrix", {
			get: function() {
				return this.$getMatrix().clone()
			},
			set: function(t) {
				this.$setMatrix(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getMatrix = function() {
			return this.$matrixDirty && (this.$matrixDirty = !1, this.$matrix.$updateScaleAndRotation(this.$scaleX, this.$scaleY, this.$skewX, this.$skewY)), this.$matrix.tx = this.$x, this.$matrix.ty = this.$y, this.$matrix
		}, r.prototype.$setMatrix = function(n, r) {
			void 0 === r && (r = !0);
			var s = this.$matrix;
			s.a = n.a, s.b = n.b, s.c = n.c, s.d = n.d, this.$x = n.tx, this.$y = n.ty, this.$matrixDirty = !1, 1 == s.a && 0 == s.b && 0 == s.c && 1 == s.d ? this.$useTranslate = !1 : this.$useTranslate = !0, r && (this.$scaleX = s.$getScaleX(), this.$scaleY = s.$getScaleY(), this.$skewX = n.$getSkewX(), this.$skewY = n.$getSkewY(), this.$skewXdeg = e(180 * this.$skewX / Math.PI), this.$skewYdeg = e(180 * this.$skewY / Math.PI), this.$rotation = e(180 * this.$skewY / Math.PI)), t.nativeRender && this.$nativeDisplayObject.setMatrix(n.a, n.b, n.c, n.d, n.tx, n.ty)
		}, r.prototype.$getConcatenatedMatrix = function() {
			var e = this.$concatenatedMatrix;
			e || (e = this.$concatenatedMatrix = new t.Matrix), this.$parent ? this.$parent.$getConcatenatedMatrix().$preMultiplyInto(this.$getMatrix(), e) : e.copyFrom(this.$getMatrix());
			var n = this.$anchorOffsetX,
				r = this.$anchorOffsetY,
				s = this.$scrollRect;
			return s ? e.$preMultiplyInto(t.$TempMatrix.setTo(1, 0, 0, 1, -s.x - n, -s.y - r), e) : 0 == n && 0 == r || e.$preMultiplyInto(t.$TempMatrix.setTo(1, 0, 0, 1, -n, -r), e), this.$concatenatedMatrix
		}, r.prototype.$getInvertedConcatenatedMatrix = function() {
			return this.$invertedConcatenatedMatrix || (this.$invertedConcatenatedMatrix = new t.Matrix), this.$getConcatenatedMatrix().$invertInto(this.$invertedConcatenatedMatrix), this.$invertedConcatenatedMatrix
		}, Object.defineProperty(r.prototype, "x", {
			get: function() {
				return this.$getX()
			},
			set: function(t) {
				this.$setX(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getX = function() {
			return this.$x
		}, r.prototype.$setX = function(e) {
			return this.$x != e && (this.$x = e, t.nativeRender ? this.$nativeDisplayObject.setX(e) : this.markDirtyUp(!1), !0)
		}, Object.defineProperty(r.prototype, "y", {
			get: function() {
				return this.$getY()
			},
			set: function(t) {
				this.$setY(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getY = function() {
			return this.$y
		}, r.prototype.$setY = function(e) {
			return this.$y != e && (this.$y = e, t.nativeRender ? this.$nativeDisplayObject.setY(e) : this.markDirtyUp(!1), !0)
		}, Object.defineProperty(r.prototype, "scaleX", {
			get: function() {
				return this.$getScaleX()
			},
			set: function(t) {
				this.$setScaleX(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getScaleX = function() {
			return this.$scaleX
		}, r.prototype.$setScaleX = function(e) {
			this.$scaleX != e && (this.$scaleX = e, this.$matrixDirty = !0, this.$updateUseTransform(), t.nativeRender ? this.$nativeDisplayObject.setScaleX(e) : this.markDirtyUp(!1))
		}, Object.defineProperty(r.prototype, "scaleY", {
			get: function() {
				return this.$getScaleY()
			},
			set: function(t) {
				this.$setScaleY(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getScaleY = function() {
			return this.$scaleY
		}, r.prototype.$setScaleY = function(e) {
			this.$scaleY != e && (this.$scaleY = e, this.$matrixDirty = !0, this.$updateUseTransform(), t.nativeRender ? this.$nativeDisplayObject.setScaleY(e) : this.markDirtyUp(!1))
		}, Object.defineProperty(r.prototype, "z", {
			get: function() {
				return this.$getZ()
			},
			set: function(t) {
				this.$setZ(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getZ = function() {
			return this.$z
		}, r.prototype.$setZ = function(e) {
			if (this.$z == e) return !1;
			this.$z = e;
			var n = this.$parent;
			if (n) {
				var r = n.$children.indexOf(this);
				n.$childRemoved(this, r), n.$children.splice(r, 1);
				for (var s = 0; s < n.$children.length && !(this.$z < n.$children[s].$z); s++);
				n.$children.splice(s, 0, this), n.$childAdded(this, s), t.nativeRender ? (n.$nativeDisplayObject.removeChild(this.$nativeDisplayObject.id), n.$nativeDisplayObject.addChildAt(this.$nativeDisplayObject.id, s)) : this.markDirtyUp(!1)
			}
			return !0
		}, Object.defineProperty(r.prototype, "rotation", {
			get: function() {
				return this.$getRotation()
			},
			set: function(t) {
				this.$setRotation(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getRotation = function() {
			return this.$rotation
		}, r.prototype.$setRotation = function(n) {
			if ((n = e(n)) != this.$rotation) {
				var r = (n - this.$rotation) / 180 * Math.PI;
				this.$skewX += r, this.$skewY += r, this.$rotation = n, this.$matrixDirty = !0, this.$updateUseTransform(), t.nativeRender ? this.$nativeDisplayObject.setRotation(n) : this.markDirtyUp(!1)
			}
		}, Object.defineProperty(r.prototype, "skewX", {
			get: function() {
				return this.$skewXdeg
			},
			set: function(t) {
				this.$setSkewX(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setSkewX = function(n) {
			n != this.$skewXdeg && (this.$skewXdeg = n, n = (n = e(n)) / 180 * Math.PI, this.$skewX = n, this.$matrixDirty = !0, this.$updateUseTransform(), t.nativeRender ? this.$nativeDisplayObject.setSkewX(this.$skewXdeg) : this.markDirtyUp(!1))
		}, Object.defineProperty(r.prototype, "skewY", {
			get: function() {
				return this.$skewYdeg
			},
			set: function(t) {
				this.$setSkewY(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setSkewY = function(n) {
			n != this.$skewYdeg && (this.$skewYdeg = n, n = ((n = e(n)) + this.$rotation) / 180 * Math.PI, this.$skewY = n, this.$matrixDirty = !0, this.$updateUseTransform(), t.nativeRender ? this.$nativeDisplayObject.setSkewY(this.$skewYdeg) : this.markDirtyUp(!1))
		}, Object.defineProperty(r.prototype, "width", {
			get: function() {
				return this.$getWidth()
			},
			set: function(t) {
				this.$setWidth(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getWidth = function() {
			return isNaN(this.$explicitWidth) ? this.$getOriginalBounds().width : this.$explicitWidth
		}, r.prototype.$setWidth = function(t) {
			t = isNaN(t) ? NaN : t, this.$explicitWidth != t && (this.$explicitWidth = t)
		}, Object.defineProperty(r.prototype, "height", {
			get: function() {
				return this.$getHeight()
			},
			set: function(t) {
				this.$setHeight(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getHeight = function() {
			return isNaN(this.$explicitHeight) ? this.$getOriginalBounds().height : this.$explicitHeight
		}, r.prototype.$setHeight = function(t) {
			t = isNaN(t) ? NaN : t, this.$explicitHeight != t && (this.$explicitHeight = t)
		}, Object.defineProperty(r.prototype, "measuredWidth", {
			get: function() {
				return this.$getOriginalBounds().width
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "measuredHeight", {
			get: function() {
				return this.$getOriginalBounds().height
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "anchorOffsetX", {
			get: function() {
				return this.$anchorOffsetX
			},
			set: function(t) {
				this.$setAnchorOffsetX(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setAnchorOffsetX = function(e) {
			this.$anchorOffsetX != e && (this.$anchorOffsetX = e, t.nativeRender ? this.$nativeDisplayObject.setAnchorOffsetX(e) : this.markDirtyUp(!1))
		}, Object.defineProperty(r.prototype, "anchorOffsetY", {
			get: function() {
				return this.$anchorOffsetY
			},
			set: function(t) {
				this.$setAnchorOffsetY(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setAnchorOffsetY = function(e) {
			this.$anchorOffsetY != e && (this.$anchorOffsetY = e, t.nativeRender ? this.$nativeDisplayObject.setAnchorOffsetY(e) : this.markDirtyUp(!1))
		}, Object.defineProperty(r.prototype, "visible", {
			get: function() {
				return this.$visible
			},
			set: function(t) {
				this.$setVisible(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setVisible = function(e) {
			this.$visible != e && (this.$visible = e, t.nativeRender ? this.$nativeDisplayObject.setVisible(e) : (this.$updateRenderMode(), this.markDirtyUp(!1)), this.$modal && this.$stage && (this.$visible ? this.$stage.modalObj = this : this.$stage.modalObj == this && (this.$stage.modalObj = null)), this.$parent && this.$parent.isVisible && this.$onVisibleChanged(this.$visible))
		}, Object.defineProperty(r.prototype, "isVisible", {
			get: function() {
				if (!this.$stage || !this.$visible) return !1;
				for (var t = this; t && t !== this.$stage;) {
					if (!t.$visible) return !1;
					t = t.parent
				}
				return !0
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "modal", {
			get: function() {
				return this.$modal
			},
			set: function(t) {
				this.$modal = t, this.$stage && this.$visible && (this.$modal ? this.$stage.modalObj = this : this.$stage.modalObj == this && (this.$stage.modalObj = null))
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "cacheAsBitmap", {
			get: function() {
				return this.$cacheAsBitmap
			},
			set: function(e) {
				this.$cacheAsBitmap = e, t.nativeRender ? this.$nativeDisplayObject.setCacheAsBitmap(e) : this.$setHasDisplayList(e)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setHasDisplayList = function(e) {
			if (!!this.$displayList != e)
				if (e) {
					var n = t.sys.DisplayList.create(this);
					n && (this.$displayList = n, this.$cacheDirty = !0)
				} else this.$displayList = null
		}, r.prototype.$cacheDirtyUp = function() {
			var t = this.$parent;
			t && !t.$cacheDirty && (t.$cacheDirty = !0, t.$cacheDirtyUp())
		}, r.prototype.markDirtyUp = function(t) {
			void 0 === t && (t = !0), t && (this.$renderDirty = !0), this.$cacheDirtyUp();
			var e = this.$maskedObject;
			e && !e.$cacheDirty && (e.$cacheDirty = !0, e.$cacheDirtyUp())
		}, Object.defineProperty(r.prototype, "alpha", {
			get: function() {
				return this.$alpha
			},
			set: function(t) {
				this.$setAlpha(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setAlpha = function(e) {
			this.$alpha != e && (this.$alpha = e, t.nativeRender ? this.$nativeDisplayObject.setAlpha(e) : (this.$updateRenderMode(), this.markDirtyUp(!1)))
		}, Object.defineProperty(r.prototype, "touchEnabled", {
			get: function() {
				return this.$getTouchEnabled()
			},
			set: function(t) {
				this.$setTouchEnabled(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$getTouchEnabled = function() {
			return this.$touchEnabled
		}, r.prototype.$setTouchEnabled = function(t) {
			this.$touchEnabled = !!t
		}, Object.defineProperty(r.prototype, "scrollRect", {
			get: function() {
				return this.$scrollRect
			},
			set: function(t) {
				this.$setScrollRect(t)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setScrollRect = function(e) {
			e || this.$scrollRect ? (e ? (this.$scrollRect || (this.$scrollRect = new t.Rectangle), this.$scrollRect.copyFrom(e), t.nativeRender && this.$nativeDisplayObject.setScrollRect(e.x, e.y, e.width, e.height)) : (this.$scrollRect = null, t.nativeRender && this.$nativeDisplayObject.setScrollRect(0, 0, 0, 0)), t.nativeRender || (this.$updateRenderMode(), this.markDirtyUp(!1))) : this.$updateRenderMode()
		}, Object.defineProperty(r.prototype, "blendMode", {
			get: function() {
				return t.sys.numberToBlendMode(this.$blendMode)
			},
			set: function(e) {
				var n = t.sys.blendModeToNumber(e);
				this.$blendMode != n && (this.$blendMode = n, t.nativeRender ? this.$nativeDisplayObject.setBlendMode(n) : (this.$updateRenderMode(), this.markDirtyUp(!1)))
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "mask", {
			get: function() {
				return this.$mask ? this.$mask : this.$maskRect
			},
			set: function(e) {
				if (e !== this) {
					if (e)
						if (e instanceof r) {
							if (e == this.$mask) return;
							e.$maskedObject && (e.$maskedObject.mask = null), e.$maskedObject = this, this.$mask = e, t.nativeRender || e.$updateRenderMode(), this.$maskRect && (t.nativeRender && this.$nativeDisplayObject.setMaskRect(0, 0, 0, 0), this.$maskRect = null), t.nativeRender && this.$nativeDisplayObject.setMask(e.$nativeDisplayObject.id)
						} else this.$maskRect || (this.$maskRect = new t.Rectangle), this.$maskRect.copyFrom(e), t.nativeRender && this.$nativeDisplayObject.setMaskRect(e.x, e.y, e.width, e.height), this.$mask && (this.$mask.$maskedObject = null, t.nativeRender || this.$mask.$updateRenderMode()), this.mask && (t.nativeRender && this.$nativeDisplayObject.setMask(-1), this.$mask = null);
					else this.$mask && (this.$mask.$maskedObject = null, t.nativeRender || this.$mask.$updateRenderMode()), this.mask && (t.nativeRender && this.$nativeDisplayObject.setMask(-1), this.$mask = null), this.$maskRect && (t.nativeRender && this.$nativeDisplayObject.setMaskRect(0, 0, 0, 0), this.$maskRect = null);
					t.nativeRender || this.$updateRenderMode()
				}
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.$setMaskRect = function(e) {
			(e || this.$maskRect) && (e ? (this.$maskRect || (this.$maskRect = new t.Rectangle), this.$maskRect.copyFrom(e)) : this.$maskRect = null)
		}, Object.defineProperty(r.prototype, "filters", {
			get: function() {
				return this.$filters
			},
			set: function(e) {
				if (!this.$filters && !e) return this.$filters = e, void(t.nativeRender ? this.$nativeDisplayObject.setFilters(null) : (this.$updateRenderMode(), this.markDirtyUp(!1)));
				e && e.length ? (e = e.concat(), this.$filters = e, t.nativeRender && this.$nativeDisplayObject.setFilters(e)) : (this.$filters = e, t.nativeRender && this.$nativeDisplayObject.setFilters(null)), t.nativeRender || (this.$updateRenderMode(), this.markDirtyUp(!1))
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.getTransformedBounds = function(t, e) {
			return t = t || this, this.$getTransformedBounds(t, e)
		}, r.prototype.getBounds = function(t, e) {
			return void 0 === e && (e = !0), t = this.$getTransformedBounds(this, t), e && (0 != this.$anchorOffsetX && (t.x -= this.$anchorOffsetX), 0 != this.$anchorOffsetY && (t.y -= this.$anchorOffsetY)), t
		}, r.prototype.$getTransformedBounds = function(e, n) {
			var r, s = this.$getOriginalBounds();
			return n || (n = new t.Rectangle), n.copyFrom(s), e == this || (e ? (r = t.$TempMatrix, e.$getInvertedConcatenatedMatrix().$preMultiplyInto(this.$getConcatenatedMatrix(), r)) : r = this.$getConcatenatedMatrix(), r.$transformBounds(n)), n
		}, r.prototype.globalToLocal = function(e, n, r) {
			if (void 0 === e && (e = 0), void 0 === n && (n = 0), t.nativeRender) {
				egret_native.updateNativeRender();
				var s = egret_native.nrGlobalToLocal(this.$nativeDisplayObject.id, e, n).split(","),
					h = parseFloat(s[0]),
					u = parseFloat(s[1]);
				return r ? r.setTo(h, u) : r = new t.Point(h, u), r
			}
			return this.$getInvertedConcatenatedMatrix().transformPoint(e, n, r)
		}, r.prototype.localToGlobal = function(e, n, r) {
			if (void 0 === e && (e = 0), void 0 === n && (n = 0), t.nativeRender) {
				egret_native.updateNativeRender();
				var s = egret_native.nrLocalToGlobal(this.$nativeDisplayObject.id, e, n).split(","),
					h = parseFloat(s[0]),
					u = parseFloat(s[1]);
				return r ? r.setTo(h, u) : r = new t.Point(h, u), r
			}
			return this.$getConcatenatedMatrix().transformPoint(e, n, r)
		}, r.prototype.$getOriginalBounds = function() {
			var t = this.$getContentBounds();
			this.$measureChildBounds(t);
			var e = this.$measureFiltersOffset(!1);
			return e && (t.x += e.minX, t.y += e.minY, t.width += -e.minX + e.maxX, t.height += -e.minY + e.maxY), t
		}, r.prototype.$measureChildBounds = function(t) {}, r.prototype.$getContentBounds = function() {
			var e = t.$TempRectangle;
			return e.setEmpty(), this.$measureContentBounds(e), e
		}, r.prototype.$measureContentBounds = function(t) {}, r.prototype.$getRenderNode = function() {
			var t = this.$renderNode;
			return t ? (this.$renderDirty && (t.cleanBeforeRender(), this.$updateRenderNode(), this.$renderDirty = !1, t = this.$renderNode), t) : null
		}, r.prototype.$updateRenderMode = function() {
			!this.$visible || this.$alpha <= 0 || this.$maskedObject ? this.$renderMode = 1 : this.filters && this.filters.length > 0 ? this.$renderMode = 2 : 0 !== this.$blendMode || this.$mask && this.$mask.$stage ? this.$renderMode = 3 : this.$scrollRect || this.$maskRect ? this.$renderMode = 4 : this.$renderMode = null
		}, r.prototype.$measureFiltersOffset = function(e) {
			for (var n = this, r = 0, s = 0, h = 0, u = 0; n;) {
				var o = n.$filters;
				if (o && o.length)
					for (var a = o.length, c = 0; c < a; c++) {
						var f = o[c];
						if ("blur" == f.type) r -= l = f.blurX, s -= v = f.blurY, h += l, u += v;
						else if ("glow" == f.type) {
							var l, v;
							r -= l = f.blurX, s -= v = f.blurY, h += l, u += v;
							var g = f.distance || 0,
								b = f.angle || 0,
								d = 0,
								m = 0;
							0 != g && (r += d = (d = g * t.NumberUtils.cos(b)) > 0 ? Math.ceil(d) : Math.floor(d), h += d, s += m = (m = g * t.NumberUtils.sin(b)) > 0 ? Math.ceil(m) : Math.floor(m), u += m)
						} else if ("custom" == f.type) {
							var _ = f.padding;
							r -= _, s -= _, h += _, u += _
						}
					}
				n = e ? n.$parent : null
			}
			return {
				minX: r = Math.min(r, 0),
				minY: s = Math.min(s, 0),
				maxX: h = Math.max(h, 0),
				maxY: u = Math.max(u, 0)
			}
		}, r.prototype.$getConcatenatedMatrixAt = function(e, n) {
			var r = e.$getInvertedConcatenatedMatrix();
			if (0 === r.a || 0 === r.d) {
				var s = this,
					h = e.$nestLevel;
				for (n.identity(); s.$nestLevel > h;) {
					var u = s.$scrollRect;
					u && n.concat(t.$TempMatrix.setTo(1, 0, 0, 1, -u.x, -u.y)), n.concat(s.$getMatrix()), s = s.$parent
				}
			} else r.$preMultiplyInto(n, n)
		}, r.prototype.$updateRenderNode = function() {}, r.prototype.$hitTest = function(e, n) {
			if (!t.nativeRender && !this.$renderNode || !this.$visible || 0 == this.$scaleX || 0 == this.$scaleY) return null;
			var r = this.$getInvertedConcatenatedMatrix();
			if (0 == r.a && 0 == r.b && 0 == r.c && 0 == r.d) return null;
			var s = this.$getContentBounds(),
				h = r.a * e + r.c * n + r.tx,
				u = r.b * e + r.d * n + r.ty;
			if (s.contains(h, u)) {
				if (!this.$children) {
					var o = this.$scrollRect ? this.$scrollRect : this.$maskRect;
					if (o && !o.contains(h, u)) return null;
					if (this.$mask && !this.$mask.$hitTest(e, n)) return null
				}
				return this
			}
			return null
		}, r.prototype.hitTestPoint = function(e, n, r) {
			if (r) {
				f = (a = this.$getInvertedConcatenatedMatrix()).a * e + a.c * n + a.tx, l = a.b * e + a.d * n + a.ty;
				var s = void 0;
				if (t.nativeRender) {
					(u = t.sys.customHitTestBuffer).resize(3, 3), egret_native.forHitTest = !0, egret_native.activateBuffer(u), egret_native.updateNativeRender(), egret_native.nrRenderDisplayObject2(this.$nativeDisplayObject.id, 1 - f, 1 - l, !0);
					try {
						s = new Uint8Array(4), egret_native.nrGetPixels(1, 1, 1, 1, s)
					} catch (e) {
						throw new Error(t.sys.tr(1039))
					}
					return egret_native.activateBuffer(null), egret_native.forHitTest = !1, 0 !== s[3]
				}
				var h = this.$displayList;
				if (h) {
					var u = h.renderBuffer;
					try {
						s = u.getPixels(f - h.offsetX, l - h.offsetY)
					} catch (e) {
						throw new Error(t.sys.tr(1039))
					}
				} else {
					(u = t.sys.customHitTestBuffer).resize(3, 3);
					var o = t.Matrix.create();
					o.identity(), o.translate(1 - f, 1 - l), t.sys.systemRenderer.render(this, u, o, !0), t.Matrix.release(o);
					try {
						s = u.getPixels(1, 1)
					} catch (e) {
						throw new Error(t.sys.tr(1039))
					}
				}
				return 0 !== s[3]
			}
			if (0 == this.$scaleX || 0 == this.$scaleY) return !1;
			var a = this.$getInvertedConcatenatedMatrix(),
				c = this.getBounds(null, !1),
				f = a.a * e + a.c * n + a.tx,
				l = a.b * e + a.d * n + a.ty;
			if (c.contains(f, l)) {
				var v = this.$scrollRect ? this.$scrollRect : this.$maskRect;
				return !(v && !v.contains(f, l))
			}
			return !1
		}, r.prototype.$addListener = function(e, s, h, u, o, a) {
			n.prototype.$addListener.call(this, e, s, h, u, o, a);
			var c = e == t.Event.ENTER_FRAME;
			if (c || e == t.Event.RENDER) {
				var f = c ? r.$enterFrameCallBackList : r.$renderCallBackList; - 1 == f.indexOf(this) && f.push(this)
			}
		}, r.prototype.removeEventListener = function(e, s, h, u) {
			n.prototype.removeEventListener.call(this, e, s, h, u);
			var o = e == t.Event.ENTER_FRAME;
			if ((o || e == t.Event.RENDER) && !this.hasEventListener(e)) {
				var a = o ? r.$enterFrameCallBackList : r.$renderCallBackList,
					c = a.indexOf(this); - 1 !== c && a.splice(c, 1)
			}
		}, r.prototype.dispatchEvent = function(t) {
			if (!t.$bubbles) return n.prototype.dispatchEvent.call(this, t);
			var e = this.$getPropagationList(this),
				r = .5 * e.length;
			return t.$setTarget(this), this.$dispatchPropagationEvent(t, e, r), !t.$isDefaultPrevented
		}, r.prototype.$getPropagationList = function(t) {
			for (var e = []; t;) e.push(t), t = t.$parent;
			var n = e.concat();
			return n.reverse(), n.concat(e)
		}, r.prototype.$dispatchPropagationEvent = function(t, e, n) {
			for (var r = e.length, s = n - 1, h = 0; h < r; h++) {
				var u = e[h];
				if (t.$currentTarget = u, t.$eventPhase = h < s ? 1 : h == n || h == s ? 2 : 3, u.$notifyListener(t, h < n), t.$isPropagationStopped || t.$isPropagationImmediateStopped) return
			}
		}, r.prototype.willTrigger = function(t) {
			for (var e = this; e;) {
				if (e.hasEventListener(t)) return !0;
				e = e.$parent
			}
			return !1
		}, Object.defineProperty(r.prototype, "tint", {
			get: function() {
				return this._tint
			},
			set: function(t) {
				this._tint = t, this.$tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)
			},
			enumerable: !0,
			configurable: !0
		}), r.prototype.sortChildren = function() {
			this.$sortDirty = !1
		}, Object.defineProperty(r.prototype, "zIndex", {
			get: function() {
				return this._zIndex
			},
			set: function(t) {
				this._zIndex = t, this.parent && (this.parent.$sortDirty = !0)
			},
			enumerable: !0,
			configurable: !0
		}), r.defaultTouchEnabled = !1, r.$enterFrameCallBackList = [], r.$renderCallBackList = [], r
	}(t.EventDispatcher);
	t.DisplayObject = n, __reflect(n.prototype, "egret.DisplayObject")
}(egret || (egret = {})),
function(t) {
	t.$TextureScaleFactor = 1;
	var e = function(e) {
		function n() {
			var t = e.call(this) || this;
			return t.disposeBitmapData = !0, t.$bitmapX = 0, t.$bitmapY = 0, t.$bitmapWidth = 0, t.$bitmapHeight = 0, t.$offsetX = 0, t.$offsetY = 0, t.$textureWidth = 0, t.$textureHeight = 0, t.$sourceWidth = 0, t.$sourceHeight = 0, t.$bitmapData = null, t.$ktxData = null, t.$rotated = !1, t
		}
		return __extends(n, e), Object.defineProperty(n.prototype, "textureWidth", {
			get: function() {
				return this.$getTextureWidth()
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$getTextureWidth = function() {
			return this.$textureWidth
		}, Object.defineProperty(n.prototype, "textureHeight", {
			get: function() {
				return this.$getTextureHeight()
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$getTextureHeight = function() {
			return this.$textureHeight
		}, n.prototype.$getScaleBitmapWidth = function() {
			return this.$bitmapWidth * t.$TextureScaleFactor
		}, n.prototype.$getScaleBitmapHeight = function() {
			return this.$bitmapHeight * t.$TextureScaleFactor
		}, Object.defineProperty(n.prototype, "bitmapData", {
			get: function() {
				return this.$bitmapData
			},
			set: function(t) {
				this._setBitmapData(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype._setBitmapData = function(e) {
			if (this.$ktxData = null, !t.nativeRender && this.$bitmapData && this.dispose(), e) {
				this.$bitmapData = e;
				var n = t.$TextureScaleFactor,
					r = e.noBlankWidth * n,
					s = e.noBlankHeight * n;
				this.$initData(0, 0, r, s, 0, 0, r, s, e.width, e.height)
			}
		}, Object.defineProperty(n.prototype, "ktxData", {
			get: function() {
				return this.$ktxData
			},
			set: function(t) {
				this._setKtxData(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype._setKtxData = function(e) {
			if (e) {
				if (e != this.$ktxData) {
					var n = new t.KTXContainer(e, 1);
					if (n.isInvalid) t.error("ktx data is invalid");
					else {
						this.$ktxData = e;
						var r = new t.BitmapData(e);
						r.format = "ktx", n.uploadLevels(r, !1), this._setBitmapData(r)
					}
				}
			} else t.error("ktx data is null")
		}, n.prototype.$initData = function(e, n, r, s, h, u, o, a, c, f, l) {
			void 0 === l && (l = !1);
			var v = t.$TextureScaleFactor;
			this.$bitmapX = e / v, this.$bitmapY = n / v, this.$bitmapWidth = r / v, this.$bitmapHeight = s / v, this.$offsetX = h, this.$offsetY = u, this.$textureWidth = o, this.$textureHeight = a, this.$sourceWidth = c, this.$sourceHeight = f, this.$rotated = l, t.BitmapData.$invalidate(this.$bitmapData)
		}, n.prototype.getPixel32 = function(t, e) {
			throw new Error
		}, n.prototype.getPixels = function(t, e, n, r) {
			throw void 0 === n && (n = 1), void 0 === r && (r = 1), new Error
		}, n.prototype.toDataURL = function(t, e, n) {
			throw new Error
		}, n.prototype.saveToFile = function(t, e, n) {
			throw new Error
		}, n.prototype.dispose = function() {}, n
	}(t.HashObject);
	t.Texture = e, __reflect(e.prototype, "egret.Texture")
}(egret || (egret = {})),
function(t) {
	var e = function(t) {
		function e(e, n, r, s) {
			var h = t.call(this) || this;
			return h.$eventPhase = 2, h.$currentTarget = null, h.$target = null, h.$isDefaultPrevented = !1, h.$isPropagationStopped = !1, h.$isPropagationImmediateStopped = !1, h.$type = e, h.$bubbles = !!n, h.$cancelable = !!r, h.data = s, h
		}
		return __extends(e, t), Object.defineProperty(e.prototype, "type", {
			get: function() {
				return this.$type
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "bubbles", {
			get: function() {
				return this.$bubbles
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "cancelable", {
			get: function() {
				return this.$cancelable
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "eventPhase", {
			get: function() {
				return this.$eventPhase
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "currentTarget", {
			get: function() {
				return this.$currentTarget
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "target", {
			get: function() {
				return this.$target
			},
			enumerable: !0,
			configurable: !0
		}), e.prototype.$setTarget = function(t) {
			return this.$target = t, !0
		}, e.prototype.isDefaultPrevented = function() {
			return this.$isDefaultPrevented
		}, e.prototype.preventDefault = function() {
			this.$cancelable && (this.$isDefaultPrevented = !0)
		}, e.prototype.stopPropagation = function() {
			this.$bubbles && (this.$isPropagationStopped = !0)
		}, e.prototype.stopImmediatePropagation = function() {
			this.$bubbles && (this.$isPropagationImmediateStopped = !0)
		}, e.prototype.clean = function() {
			this.data = this.$currentTarget = null, this.$setTarget(null)
		}, e.dispatchEvent = function(t, n, r, s) {
			void 0 === r && (r = !1);
			var h = e.create(e, n, r),
				u = e._getPropertyData(e);
			null != s && (u.data = s), h.data = s;
			var o = t.dispatchEvent(h);
			return e.release(h), o
		}, e._getPropertyData = function(t) {
			var e = t._props;
			return e || (e = t._props = {}), e
		}, e.create = function(t, e, n, r) {
			var s;
			if (t.hasOwnProperty("eventPool") && (s = t.eventPool), s || (s = t.eventPool = []), s.length) {
				for (var h = s.pop(); h && !(h instanceof t);) {
					if (0 == s.length) {
						h = null;
						break
					}
					h = s.pop()
				}
				if (h) return h.$type = e, h.$bubbles = !!n, h.$cancelable = !!r, h.$isDefaultPrevented = !1, h.$isPropagationStopped = !1, h.$isPropagationImmediateStopped = !1, h.$eventPhase = 2, h
			}
			return new t(e, n, r)
		}, e.release = function(t) {
			t.clean(), Object.getPrototypeOf(t).constructor.eventPool.push(t)
		}, e.ADDED_TO_STAGE = "addedToStage", e.REMOVED_FROM_STAGE = "removedFromStage", e.ADDED = "added", e.REMOVED = "removed", e.ENTER_FRAME = "enterFrame", e.RENDER = "render", e.RESIZE = "resize", e.CHANGE = "change", e.CHANGING = "changing", e.COMPLETE = "complete", e.LOOP_COMPLETE = "loopComplete", e.FOCUS_IN = "focusIn", e.FOCUS_OUT = "focusOut", e.SEND_TEXT = "sendText", e.ENDED = "ended", e.ACTIVATE = "activate", e.DEACTIVATE = "deactivate", e.CLOSE = "close", e.CONNECT = "connect", e.LEAVE_STAGE = "leaveStage", e.SOUND_COMPLETE = "soundComplete", e.MOUSE_ENTER = "mouseEnter", e.MOUSE_LEAVE = "mouseLeave", e.MOUSE_MOVED = "mouseMoved", e
	}(t.HashObject);
	t.Event = e, __reflect(e.prototype, "egret.Event")
}(egret || (egret = {})),
function(t) {
	t.getString = function() {
		return ""
	}, t.$error = function(t) {
		throw new Error("#" + t)
	}, t.$warn = function() {}, t.$markCannotUse = function() {}
}(egret || (egret = {})),
function(t) {
	var e = [],
		n = Math.PI / 180,
		r = function(r) {
			function s(t, e) {
				void 0 === t && (t = 0), void 0 === e && (e = 0);
				var n = r.call(this) || this;
				return n.x = t, n.y = e, n
			}
			return __extends(s, r), s.release = function(t) {
				t && e.push(t)
			}, s.create = function(t, n) {
				var r = e.pop();
				return r || (r = new s), r.setTo(t, n)
			}, Object.defineProperty(s.prototype, "length", {
				get: function() {
					return Math.sqrt(this.x * this.x + this.y * this.y)
				},
				enumerable: !0,
				configurable: !0
			}), s.prototype.setTo = function(t, e) {
				return this.x = t, this.y = e, this
			}, s.prototype.clone = function() {
				return new s(this.x, this.y)
			}, s.prototype.equals = function(t) {
				return this.x == t.x && this.y == t.y
			}, s.distance = function(t, e) {
				return Math.sqrt((t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y))
			}, s.prototype.copyFrom = function(t) {
				this.x = t.x, this.y = t.y
			}, s.prototype.add = function(t) {
				return new s(this.x + t.x, this.y + t.y)
			}, s.interpolate = function(t, e, n) {
				var r = 1 - n;
				return new s(t.x * n + e.x * r, t.y * n + e.y * r)
			}, s.prototype.normalize = function(t) {
				if (0 != this.x || 0 != this.y) {
					var e = t / this.length;
					this.x *= e, this.y *= e
				}
			}, s.prototype.offset = function(t, e) {
				this.x += t, this.y += e
			}, s.polar = function(e, r) {
				return new s(e * t.NumberUtils.cos(r / n), e * t.NumberUtils.sin(r / n))
			}, s.prototype.subtract = function(t) {
				return new s(this.x - t.x, this.y - t.y)
			}, s.prototype.toString = function() {
				return "(x=" + this.x + ", y=" + this.y + ")"
			}, s
		}(t.HashObject);
	t.Point = r, __reflect(r.prototype, "egret.Point"), t.$TempPoint = new r
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n() {
			var t = e.call(this) || this;
			return t.$touchChildren = !0, t.$children = [], t
		}
		return __extends(n, e), Object.defineProperty(n.prototype, "numChildren", {
			get: function() {
				return this.$children.length
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setChildrenSortMode = function(e) {
			t.nativeRender && this.$nativeDisplayObject.setChildrenSortMode && this.$nativeDisplayObject.setChildrenSortMode(e)
		}, n.prototype.addChild = function(t) {
			var e = 0;
			for (t.$parent == this && (e = this.$children.indexOf(t)); e < this.$children.length && !(t.$z < this.$children[e].$z); e++);
			return t.$parent == this && e--, this.$doAddChild(t, e)
		}, n.prototype.addChildAt = function(t, e) {
			return ((e = 0 | +e) < 0 || e >= this.$children.length) && (e = this.$children.length, t.$parent == this && e--), this.$doAddChild(t, e)
		}, n.prototype.newIndex = function(t, e) {
			for (var n = 0; n < this.$children.length && !(t.$z <= this.$children[n].$z); n++);
			for (var r = this.$children.length - 1; r >= 0 && !(t.$z >= this.$children[r].$z); r--);
			return e < n ? n : e > r + 1 ? r + 1 : e
		}, n.prototype.$doAddChild = function(e, r, s) {
			void 0 === s && (s = !0);
			var h = e.$parent;
			if (h == this) return this.doSetChildIndex(e, r), e;
			h && h.removeChild(e), r = this.newIndex(e, r), this.$children.splice(r, 0, e), e.$setParent(this), t.nativeRender && this.$nativeDisplayObject.addChildAt(e.$nativeDisplayObject.id, r);
			var u = this.$stage;
			if (u && e.$onAddToStage(u, this.$nestLevel + 1), s && e.dispatchEventWith(t.Event.ADDED, !0), u)
				for (var o = n.$EVENT_ADD_TO_STAGE_LIST; o.length;) {
					var a = o.shift();
					a.$stage && s && a.dispatchEventWith(t.Event.ADDED_TO_STAGE)
				}
			return t.nativeRender || (e.$maskedObject && e.$maskedObject.$updateRenderMode(), this.$cacheDirty || (this.$cacheDirty = !0, this.markDirtyUp(!1))), this.$childAdded(e, r), e
		}, n.prototype.contains = function(t) {
			for (; t;) {
				if (t == this) return !0;
				t = t.$parent
			}
			return !1
		}, n.prototype.getChildAt = function(t) {
			return (t = 0 | +t) >= 0 && t < this.$children.length ? this.$children[t] : null
		}, n.prototype.getChildIndex = function(t) {
			return this.$children.indexOf(t)
		}, n.prototype.getChildByName = function(t) {
			for (var e, n = this.$children, r = n.length, s = 0; s < r; s++)
				if ((e = n[s]).name == t) return e;
			return null
		}, n.prototype.removeChild = function(t) {
			var e = this.$children.indexOf(t);
			return e >= 0 ? this.$doRemoveChild(e) : null
		}, n.prototype.removeChildAt = function(t) {
			return (t = 0 | +t) >= 0 && t < this.$children.length ? this.$doRemoveChild(t) : null
		}, n.prototype.$doRemoveChild = function(e, r) {
			void 0 === r && (r = !0), e = 0 | +e;
			var s = this.$children,
				h = s[e];
			if (this.$childRemoved(h, e), r && h.dispatchEventWith(t.Event.REMOVED, !0), this.$stage) {
				h.$onRemoveFromStage();
				for (var u = n.$EVENT_REMOVE_FROM_STAGE_LIST; u.length > 0;) {
					var o = u.shift();
					r && o.$hasAddToStage && (o.$hasAddToStage = !1, o.dispatchEventWith(t.Event.REMOVED_FROM_STAGE)), o.$hasAddToStage = !1, o.$stage = null
				}
			}
			h.$setParent(null);
			var a = s.indexOf(h);
			return -1 != a && s.splice(a, 1), t.nativeRender ? this.$nativeDisplayObject.removeChild(h.$nativeDisplayObject.id) : (h.$maskedObject && h.$maskedObject.$updateRenderMode(), this.$cacheDirty || (this.$cacheDirty = !0, this.markDirtyUp(!1))), h
		}, n.prototype.setChildIndex = function(t, e) {
			((e = 0 | +e) < 0 || e >= this.$children.length) && (e = this.$children.length - 1), this.doSetChildIndex(t, e)
		}, n.prototype.doSetChildIndex = function(e, n) {
			var r = this.$children.indexOf(e);
			r != n && (this.$childRemoved(e, r), this.$children.splice(r, 1), n = this.newIndex(e, n), this.$children.splice(n, 0, e), this.$childAdded(e, n), t.nativeRender ? (this.$nativeDisplayObject.removeChild(e.$nativeDisplayObject.id), this.$nativeDisplayObject.addChildAt(e.$nativeDisplayObject.id, n)) : this.$cacheDirty || (this.$cacheDirty = !0, this.markDirtyUp(!1)))
		}, n.prototype.swapChildrenAt = function(t, e) {
			e = 0 | +e, (t = 0 | +t) >= 0 && t < this.$children.length && e >= 0 && e < this.$children.length && this.doSwapChildrenAt(t, e)
		}, n.prototype.swapChildren = function(t, e) {
			var n = this.$children.indexOf(t),
				r = this.$children.indexOf(e); - 1 == n || -1 == r || this.doSwapChildrenAt(n, r)
		}, n.prototype.doSwapChildrenAt = function(e, n) {
			if (e > n) {
				var r = n;
				n = e, e = r
			} else if (e == n) return;
			var s, h = this.$children,
				u = h[e],
				o = h[n];
			this.$childRemoved(u, e), this.$childRemoved(o, n), h[e] = o, h[n] = u, this.$childAdded(o, e), this.$childAdded(u, n), s = [o.$z, u.$z], u.$z = s[0], o.$z = s[1], t.nativeRender ? this.$nativeDisplayObject.swapChild(e, n) : this.$cacheDirty || (this.$cacheDirty = !0, this.markDirtyUp(!1))
		}, n.prototype.removeChildren = function() {
			for (var t = this.$children.length - 1; t >= 0; t--) this.$doRemoveChild(t)
		}, n.prototype.$childAdded = function(t, e) {}, n.prototype.$childRemoved = function(t, e) {}, n.prototype.$onAddToStage = function(t, n) {
			e.prototype.$onAddToStage.call(this, t, n);
			var r = this.$children.length;
			n++;
			for (var s = 0; s < r; s++) {
				var h = this.$children[s];
				h.$onAddToStage(t, n), h.$maskedObject && h.$maskedObject.$updateRenderMode()
			}
		}, n.prototype.$onRemoveFromStage = function() {
			e.prototype.$onRemoveFromStage.call(this);
			for (var t = this.$children, n = t.length, r = 0; r < n; r++) t[r].$onRemoveFromStage()
		}, n.prototype.$onVisibleChanged = function(t) {
			e.prototype.$onVisibleChanged.call(this, t);
			for (var n = this.$children, r = n.length, s = 0; s < r; s++) {
				var h = n[s];
				h.visible && h.$onVisibleChanged(t)
			}
		}, n.prototype.$measureChildBounds = function(e) {
			var n = this.$children,
				r = n.length;
			if (0 != r) {
				for (var s = 0, h = 0, u = 0, o = 0, a = !1, c = -1; c < r; c++) {
					var f = void 0; - 1 == c ? f = e : (n[c].getBounds(t.$TempRectangle), n[c].$getMatrix().$transformBounds(t.$TempRectangle), f = t.$TempRectangle), f.isEmpty() || (a ? (s = Math.min(s, f.x), h = Math.max(h, f.x + f.width), u = Math.min(u, f.y), o = Math.max(o, f.y + f.height)) : (a = !0, h = (s = f.x) + f.width, o = (u = f.y) + f.height))
				}
				e.setTo(s, u, h - s, o - u)
			}
		}, Object.defineProperty(n.prototype, "touchChildren", {
			get: function() {
				return this.$getTouchChildren()
			},
			set: function(t) {
				this.$setTouchChildren(!!t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$getTouchChildren = function() {
			return this.$touchChildren
		}, n.prototype.$setTouchChildren = function(t) {
			return this.$touchChildren != t && (this.$touchChildren = t, !0)
		}, n.prototype.$setChildNoFoud = function(t) {
			return this.$childNoFoud != t && (this.$childNoFoud = t, !0)
		}, n.prototype.$getChildNoFoud = function() {
			return this.$childNoFoud
		}, Object.defineProperty(n.prototype, "childNoFoud", {
			get: function() {
				return this.$getChildNoFoud()
			},
			set: function(t) {
				this.$setChildNoFoud(!!t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$hitTest = function(t, n) {
			if (!this.$visible) return null;
			var r = this.$getInvertedConcatenatedMatrix(),
				s = r.a * t + r.c * n + r.tx,
				h = r.b * t + r.d * n + r.ty,
				u = this.$scrollRect ? this.$scrollRect : this.$maskRect;
			if (u && !u.contains(s, h)) return null;
			if (this.$mask && !this.$mask.$hitTest(t, n)) return null;
			for (var o = this.$children, a = !1, c = null, f = o.length - 1; f >= 0; f--) {
				var l = o[f];
				if (!l.$maskedObject && (c = l.$hitTest(t, n))) {
					if (a = !0, c.$touchEnabled) break;
					c = null, this.$childNoFoud && (a = !1)
				}
			}
			return c ? this.$touchChildren ? c : this : a ? this : e.prototype.$hitTest.call(this, t, n)
		}, n.prototype._sortChildrenFunc = function(t, e) {
			return t.zIndex === e.zIndex ? t.$lastSortedIndex - e.$lastSortedIndex : t.zIndex - e.zIndex
		}, n.prototype.sortChildren = function() {
			e.prototype.sortChildren.call(this), this.$sortDirty = !1;
			for (var t = !1, n = this.$children, r = null, s = 0, h = n.length; s < h; ++s)(r = n[s]).$lastSortedIndex = s, t || 0 === r.zIndex || (t = !0);
			t && n.length > 1 && n.sort(this._sortChildrenFunc)
		}, n.$EVENT_ADD_TO_STAGE_LIST = [], n.$EVENT_REMOVE_FROM_STAGE_LIST = [], n
	}(t.DisplayObject);
	t.DisplayObjectContainer = e, __reflect(e.prototype, "egret.DisplayObjectContainer")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(n) {
			var r = e.call(this) || this;
			return r._bitmapX = 0, r._bitmapY = 0, r._textureMap = t.createMap(), r.$texture = n, r._bitmapX = n.$bitmapX - n.$offsetX, r._bitmapY = n.$bitmapY - n.$offsetY, r
		}
		return __extends(n, e), n.prototype.getTexture = function(t) {
			return this._textureMap[t]
		}, n.prototype.createTexture = function(e, n, r, s, h, u, o, a, c) {
			void 0 === u && (u = 0), void 0 === o && (o = 0), void 0 === a && (a = u + s), void 0 === c && (c = o + h);
			var f = new t.Texture;
			return f.disposeBitmapData = !1, f.$bitmapData = this.$texture.$bitmapData, f.$initData(this._bitmapX + n, this._bitmapY + r, s, h, u, o, a, c, this.$texture.$sourceWidth, this.$texture.$sourceHeight), this._textureMap[e] = f, f
		}, n.prototype.dispose = function() {
			this.$texture && (this.$texture.dispose(), this.$texture = null)
		}, n
	}(t.HashObject);
	t.SpriteSheet = e, __reflect(e.prototype, "egret.SpriteSheet")
}(egret || (egret = {})),
function(t) {
	t.$locale_strings = t.$locale_strings || {}, t.$language = "en_US"
}(egret || (egret = {})),
function(t) {
	(t.sys || (t.sys = {})).tr = function(e) {
		for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
		var s = t.$locale_strings[t.$language][e];
		if (!s) return "{" + e + "}";
		for (var h = n.length, u = 0; u < h; u++) s = s.replace("{" + u + "}", n[u]);
		return s
	}
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(r) {
			var s = e.call(this) || this;
			return s.$texture = null, s.$bitmapData = null, s.$bitmapX = 0, s.$bitmapY = 0, s.$bitmapWidth = 0, s.$bitmapHeight = 0, s.$offsetX = 0, s.$offsetY = 0, s.$textureWidth = 0, s.$textureHeight = 0, s.$sourceWidth = 0, s.$sourceHeight = 0, s.$smoothing = n.defaultSmoothing, s.$explicitBitmapWidth = NaN, s.$explicitBitmapHeight = NaN, s.$scale9Grid = null, s.$fillMode = "scale", s._pixelHitTest = !1, s.$renderNode = new t.sys.NormalBitmapNode, s.$renderNode.bitmap = s, s.$setTexture(r), r && (s.$renderNode.rotated = r.$rotated), s
		}
		return __extends(n, e), n.prototype.createNativeDisplayObject = function() {
			this.$nativeDisplayObject = new egret_native.NativeDisplayObject(1)
		}, n.prototype.$onAddToStage = function(n, r) {
			e.prototype.$onAddToStage.call(this, n, r);
			var s = this.$texture;
			s && s.$bitmapData && (t.BitmapData.$addDisplayObject(this, s.$bitmapData), this.isVisible && s.$bitmapData.addReference()), t.is(this, "eui.Image") && this.onAddToStageImage()
		}, n.prototype.$onRemoveFromStage = function() {
			e.prototype.$onRemoveFromStage.call(this);
			var n = this.$texture;
			n && (t.BitmapData.$removeDisplayObject(this, n.$bitmapData), this.isVisible && n.$bitmapData && n.$bitmapData.removeReference()), t.is(this, "eui.Image") && this.onRemoveFromStageImage()
		}, n.prototype.$onVisibleChanged = function(t) {
			if (this.$stage) {
				var e = this.$texture;
				e && e.$bitmapData && (t ? e.$bitmapData.addReference() : e.$bitmapData.removeReference())
			}
		}, Object.defineProperty(n.prototype, "texture", {
			get: function() {
				return this.$texture
			},
			set: function(t) {
				this.$setTexture(t), t && this.$renderNode && (this.$renderNode.rotated = t.$rotated)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$setTexture = function(e) {
			var n = this.$texture;
			if (e == n) return !1;
			if (this.$texture = e, this.$stage && this.isVisible && (this.$texture && this.$texture.$bitmapData && this.$texture.$bitmapData.addReference(), n && n.$bitmapData && n.$bitmapData.removeReference()), !e) return n && t.BitmapData.$removeDisplayObject(this, n.$bitmapData), this.setImageData(null, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), this.markDirtyUp(), t.nativeRender && this.setBitmapDataToWasm(null), !0;
			if (this.$refreshImageData(), this.$stage) {
				if (n && n.$bitmapData) {
					if (n.$bitmapData.hashCode == (e.$bitmapData ? e.$bitmapData.hashCode : -1)) return this.markDirtyUp(), !0;
					t.BitmapData.$removeDisplayObject(this, n.$bitmapData)
				}
				t.BitmapData.$addDisplayObject(this, e.$bitmapData)
			}
			return this.markDirtyUp(), !0
		}, n.prototype.$setBitmapData = function(t) {
			this.$setTexture(t)
		}, n.prototype.setBitmapDataToWasm = function(t) {
			this.$nativeDisplayObject.setTexture(t)
		}, n.prototype.$refreshImageData = function() {
			var e = this.$texture;
			e ? (t.nativeRender && this.setBitmapDataToWasm(e), this.setImageData(e.$bitmapData, e.$bitmapX, e.$bitmapY, e.$bitmapWidth, e.$bitmapHeight, e.$offsetX, e.$offsetY, e.$getTextureWidth(), e.$getTextureHeight(), e.$sourceWidth, e.$sourceHeight)) : t.nativeRender && this.setBitmapDataToWasm(null)
		}, n.prototype.setImageData = function(t, e, n, r, s, h, u, o, a, c, f) {
			this.$bitmapData = t, this.$bitmapX = e, this.$bitmapY = n, this.$bitmapWidth = r, this.$bitmapHeight = s, this.$offsetX = h, this.$offsetY = u, this.$textureWidth = o, this.$textureHeight = a, this.$sourceWidth = c, this.$sourceHeight = f
		}, Object.defineProperty(n.prototype, "scale9Grid", {
			get: function() {
				return this.$scale9Grid
			},
			set: function(t) {
				this.$setScale9Grid(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$setScale9Grid = function(e) {
			this.$scale9Grid = e, this.$renderDirty = !0, t.nativeRender ? e ? this.$nativeDisplayObject.setScale9Grid(e.x, e.y, e.width, e.height) : this.$nativeDisplayObject.setScale9Grid(0, 0, -1, -1) : this.markDirtyUp(!1)
		}, Object.defineProperty(n.prototype, "fillMode", {
			get: function() {
				return this.$fillMode
			},
			set: function(t) {
				this.$setFillMode(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$setFillMode = function(e) {
			return e != this.$fillMode && (this.$fillMode = e, t.nativeRender ? this.$nativeDisplayObject.setBitmapFillMode(this.$fillMode) : this.markDirtyUp(), !0)
		}, Object.defineProperty(n.prototype, "smoothing", {
			get: function() {
				return this.$smoothing
			},
			set: function(e) {
				e != this.$smoothing && (this.$smoothing = e, this.$renderNode.smoothing = e, t.nativeRender || this.markDirtyUp(!1))
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$setWidth = function(e) {
			return !(e < 0 || e == this.$explicitBitmapWidth || (this.$explicitBitmapWidth = e, this.$renderDirty = !0, t.nativeRender ? this.$nativeDisplayObject.setWidth(e) : this.markDirtyUp(!1), 0))
		}, n.prototype.$setHeight = function(e) {
			return !(e < 0 || e == this.$explicitBitmapHeight || (this.$explicitBitmapHeight = e, this.$renderDirty = !0, t.nativeRender ? this.$nativeDisplayObject.setHeight(e) : this.markDirtyUp(!1), 0))
		}, n.prototype.$getWidth = function() {
			return isNaN(this.$explicitBitmapWidth) ? this.$getContentBounds().width : this.$explicitBitmapWidth
		}, n.prototype.$getHeight = function() {
			return isNaN(this.$explicitBitmapHeight) ? this.$getContentBounds().height : this.$explicitBitmapHeight
		}, n.prototype.$measureContentBounds = function(t) {
			if (this.$bitmapData) {
				var e = isNaN(this.$explicitBitmapWidth) ? this.$textureWidth : this.$explicitBitmapWidth,
					n = isNaN(this.$explicitBitmapHeight) ? this.$textureHeight : this.$explicitBitmapHeight;
				t.setTo(0, 0, e, n)
			} else e = isNaN(this.$explicitBitmapWidth) ? 0 : this.$explicitBitmapWidth, n = isNaN(this.$explicitBitmapHeight) ? 0 : this.$explicitBitmapHeight, t.setTo(0, 0, e, n)
		}, n.prototype.$updateRenderNode = function() {
			if (this.$texture) {
				var e = isNaN(this.$explicitBitmapWidth) ? this.$textureWidth : this.$explicitBitmapWidth,
					n = isNaN(this.$explicitBitmapHeight) ? this.$textureHeight : this.$explicitBitmapHeight,
					r = this.scale9Grid || this.$texture.scale9Grid;
				r ? (this.$renderNode instanceof t.sys.NormalBitmapNode && (this.$renderNode = new t.sys.BitmapNode, this.$renderNode.bitmap = this), t.sys.BitmapNode.$updateTextureDataWithScale9Grid(this.$renderNode, this.$bitmapData, r, this.$bitmapX, this.$bitmapY, this.$bitmapWidth, this.$bitmapHeight, this.$offsetX, this.$offsetY, this.$textureWidth, this.$textureHeight, e, n, this.$sourceWidth, this.$sourceHeight, this.$smoothing)) : (this.fillMode == t.BitmapFillMode.REPEAT && this.$renderNode instanceof t.sys.NormalBitmapNode && (this.$renderNode = new t.sys.BitmapNode, this.$renderNode.bitmap = this), t.sys.BitmapNode.$updateTextureData(this.$renderNode, this.$bitmapData, this.$bitmapX, this.$bitmapY, this.$bitmapWidth, this.$bitmapHeight, this.$offsetX, this.$offsetY, this.$textureWidth, this.$textureHeight, e, n, this.$sourceWidth, this.$sourceHeight, this.$fillMode, this.$smoothing))
			}
		}, Object.defineProperty(n.prototype, "pixelHitTest", {
			get: function() {
				return this._pixelHitTest
			},
			set: function(t) {
				this._pixelHitTest = !!t
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$hitTest = function(t, n) {
			var r = e.prototype.$hitTest.call(this, t, n);
			return r && this._pixelHitTest && (this.hitTestPoint(t, n, !0) || (r = null)), r
		}, n.defaultSmoothing = !0, n
	}(t.DisplayObject);
	t.Bitmap = e, __reflect(e.prototype, "egret.Bitmap")
}(egret || (egret = {})),
function(t) {
	var e, n;
	e = t.sys || (t.sys = {}), n = function() {
		function t() {
			this.type = 0, this.drawData = [], this.renderCount = 0
		}
		return t.prototype.cleanBeforeRender = function() {
			this.drawData.length = 0, this.renderCount = 0
		}, t.prototype.$getRenderCount = function() {
			return this.renderCount
		}, t
	}(), e.RenderNode = n, __reflect(n.prototype, "egret.sys.RenderNode")
}(egret || (egret = {})),
function(t) {
	var e, n;
	e = t.sys || (t.sys = {}), n = function() {
		function t() {
			this.type = 0, this.$commands = [], this.$data = [], this.commandPosition = 0, this.dataPosition = 0, this.$lastX = 0, this.$lastY = 0
		}
		return t.prototype.moveTo = function(t, e) {
			this.$commands[this.commandPosition++] = 1;
			var n = this.dataPosition;
			this.$data[n++] = t, this.$data[n++] = e, this.dataPosition = n
		}, t.prototype.lineTo = function(t, e) {
			this.$commands[this.commandPosition++] = 2;
			var n = this.dataPosition;
			this.$data[n++] = t, this.$data[n++] = e, this.dataPosition = n
		}, t.prototype.curveTo = function(t, e, n, r) {
			this.$commands[this.commandPosition++] = 3;
			var s = this.dataPosition;
			this.$data[s++] = t, this.$data[s++] = e, this.$data[s++] = n, this.$data[s++] = r, this.dataPosition = s
		}, t.prototype.cubicCurveTo = function(t, e, n, r, s, h) {
			this.$commands[this.commandPosition++] = 4;
			var u = this.dataPosition;
			this.$data[u++] = t, this.$data[u++] = e, this.$data[u++] = n, this.$data[u++] = r, this.$data[u++] = s, this.$data[u++] = h, this.dataPosition = u
		}, t.prototype.drawRect = function(t, e, n, r) {
			var s = t + n,
				h = e + r;
			this.moveTo(t, e), this.lineTo(s, e), this.lineTo(s, h), this.lineTo(t, h), this.lineTo(t, e)
		}, t.prototype.drawRoundRect = function(t, e, n, r, s, h) {
			var u = .5 * s | 0,
				o = h ? .5 * h | 0 : u;
			if (u && o) {
				var a = .5 * n,
					c = .5 * r;
				if (u > a && (u = a), o > c && (o = c), a !== u || c !== o) {
					var f = t + n,
						l = e + r,
						v = t + u,
						g = f - u,
						b = e + o,
						d = l - o;
					this.moveTo(f, d), this.curveTo(f, l, g, l), this.lineTo(v, l), this.curveTo(t, l, t, d), this.lineTo(t, b), this.curveTo(t, e, v, e), this.lineTo(g, e), this.curveTo(f, e, f, b), this.lineTo(f, d)
				} else u === o ? this.drawCircle(t + u, e + o, u) : this.drawEllipse(t, e, 2 * u, 2 * o)
			} else this.drawRect(t, e, n, r)
		}, t.prototype.drawCircle = function(t, e, n) {
			this.arcToBezier(t, e, n, n, 0, 2 * Math.PI)
		}, t.prototype.drawEllipse = function(t, e, n, r) {
			var s = .5 * n,
				h = .5 * r;
			t += s, e += h, this.arcToBezier(t, e, s, h, 0, 2 * Math.PI)
		}, t.prototype.drawArc = function(t, e, n, r, s, h) {
			h ? s >= r && (s -= 2 * Math.PI) : s <= r && (s += 2 * Math.PI), this.arcToBezier(t, e, n, n, r, s, h)
		}, t.prototype.arcToBezier = function(t, e, n, r, s, h, u) {
			var o = .5 * Math.PI,
				a = s,
				c = a;
			u ? (c += -o - a % o) < h && (c = h) : (c += o - a % o) > h && (c = h);
			var f = t + Math.cos(a) * n,
				l = e + Math.sin(a) * r;
			this.$lastX == f && this.$lastY == l || this.moveTo(f, l);
			for (var v = Math.cos(a), g = Math.sin(a), b = 0; b < 4; b++) {
				var d = c - a,
					m = 4 * Math.tan(d / 4) / 3,
					_ = f - g * m * n,
					p = l + v * m * r,
					w = (f = t + (v = Math.cos(c)) * n) + (g = Math.sin(c)) * m * n,
					O = (l = e + g * r) - v * m * r;
				if (this.cubicCurveTo(_, p, w, O, f, l), c === h) break;
				a = c, u ? (c = a - o) < h && (c = h) : (c = a + o) > h && (c = h)
			}
		}, t
	}(), e.Path2D = n, __reflect(n.prototype, "egret.sys.Path2D")
}(egret || (egret = {})),
function(t) {
	t.fontMapping = {}
}(egret || (egret = {})),
function(t) {
	t.createMap = function() {
		var t = Object.create(null);
		return t.__v8__ = void 0, delete t.__v8__, t
	}
}(egret || (egret = {})),
function(t) {
	var e = function(t) {
		function e(e, n, r, s, h, u, o, a) {
			void 0 === e && (e = 16711680), void 0 === n && (n = 1), void 0 === r && (r = 6), void 0 === s && (s = 6), void 0 === h && (h = 2), void 0 === u && (u = 1), void 0 === o && (o = !1), void 0 === a && (a = !1);
			var c = t.call(this) || this,
				f = c;
			return f.type = "glow", f.$color = e, f.$blue = 255 & e, f.$green = (65280 & e) >> 8, f.$red = e >> 16, f.$alpha = n, f.$blurX = r, f.$blurY = s, f.$strength = h, f.$quality = u, f.$inner = o, f.$knockout = a, f.$uniforms.color = {
				x: c.$red / 255,
				y: c.$green / 255,
				z: c.$blue / 255,
				w: 1
			}, f.$uniforms.alpha = n, f.$uniforms.blurX = r, f.$uniforms.blurY = s, f.$uniforms.strength = h, f.$uniforms.inner = o ? 1 : 0, f.$uniforms.knockout = a ? 0 : 1, f.$uniforms.dist = 0, f.$uniforms.angle = 0, f.$uniforms.hideObject = 0, f.onPropertyChange(), c
		}
		return __extends(e, t), Object.defineProperty(e.prototype, "color", {
			get: function() {
				return this.$color
			},
			set: function(t) {
				this.$color != t && (this.$color = t, this.$blue = 255 & t, this.$green = (65280 & t) >> 8, this.$red = t >> 16, this.$uniforms.color.x = this.$red / 255, this.$uniforms.color.y = this.$green / 255, this.$uniforms.color.z = this.$blue / 255)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "alpha", {
			get: function() {
				return this.$alpha
			},
			set: function(t) {
				this.$alpha != t && (this.$alpha = t, this.$uniforms.alpha = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "blurX", {
			get: function() {
				return this.$blurX
			},
			set: function(t) {
				this.$blurX != t && (this.$blurX = t, this.$uniforms.blurX = t, this.onPropertyChange())
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "blurY", {
			get: function() {
				return this.$blurY
			},
			set: function(t) {
				this.$blurY != t && (this.$blurY = t, this.$uniforms.blurY = t, this.onPropertyChange())
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "strength", {
			get: function() {
				return this.$strength
			},
			set: function(t) {
				this.$strength != t && (this.$strength = t, this.$uniforms.strength = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "quality", {
			get: function() {
				return this.$quality
			},
			set: function(t) {
				this.$quality != t && (this.$quality = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "inner", {
			get: function() {
				return this.$inner
			},
			set: function(t) {
				this.$inner != t && (this.$inner = t, this.$uniforms.inner = t ? 1 : 0)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "knockout", {
			get: function() {
				return this.$knockout
			},
			set: function(t) {
				this.$knockout != t && (this.$knockout = t, this.$uniforms.knockout = t ? 0 : 1)
			},
			enumerable: !0,
			configurable: !0
		}), e.prototype.$toJson = function() {
			return '{"color": ' + this.$color + ', "red": ' + this.$red + ', "green": ' + this.$green + ', "blue": ' + this.$blue + ', "alpha": ' + this.$alpha + ', "blurX": ' + this.$blurX + ', "blurY": ' + this.blurY + ', "strength": ' + this.$strength + ', "quality": ' + this.$quality + ', "inner": ' + this.$inner + ', "knockout": ' + this.$knockout + "}"
		}, e.prototype.updatePadding = function() {
			this.paddingLeft = this.blurX, this.paddingRight = this.blurX, this.paddingTop = this.blurY, this.paddingBottom = this.blurY
		}, e
	}(t.Filter);
	t.GlowFilter = e, __reflect(e.prototype, "egret.GlowFilter")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n() {
			var n = e.call(this) || this;
			return n.$stageWidth = 0, n.$stageHeight = 0, n.$scaleMode = t.StageScaleMode.SHOW_ALL, n.$orientation = t.OrientationMode.AUTO, n.$maxTouches = 99, n.$modalDisplayObject = null, n.$modalStackObjs = [], n.$stage = n, n.$nestLevel = 1, n
		}
		return __extends(n, e), n.prototype.createNativeDisplayObject = function() {
			this.$nativeDisplayObject = new egret_native.NativeDisplayObject(13)
		}, Object.defineProperty(n.prototype, "textAdapter", {
			get: function() {
				return this.$textAdapter
			},
			set: function(t) {
				this.$textAdapter != t && (this.$textAdapter = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "frameRate", {
			get: function() {
				return t.ticker.$frameRate
			},
			set: function(e) {
				t.ticker.$setFrameRate(e)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "stageWidth", {
			get: function() {
				return this.$stageWidth
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "stageHeight", {
			get: function() {
				return this.$stageHeight
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "displayHeight", {
			get: function() {
				return this.$displayHeight
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "displayWidth", {
			get: function() {
				return this.$displayWidth
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.invalidate = function() {
			t.sys.$invalidateRenderFlag = !0
		}, n.prototype.registerImplementation = function(e, n) {
			t.registerImplementation(e, n)
		}, n.prototype.getImplementation = function(e) {
			return t.getImplementation(e)
		}, Object.defineProperty(n.prototype, "scaleMode", {
			get: function() {
				return this.$scaleMode
			},
			set: function(t) {
				this.$scaleMode != t && (this.$scaleMode = t, this.$screen.updateScreenSize())
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "orientation", {
			get: function() {
				return this.$orientation
			},
			set: function(t) {
				this.$orientation != t && (this.$orientation = t, this.$screen.updateScreenSize())
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "textureScaleFactor", {
			get: function() {
				return t.$TextureScaleFactor
			},
			set: function(e) {
				t.$TextureScaleFactor = e
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "maxTouches", {
			get: function() {
				return this.$maxTouches
			},
			set: function(t) {
				this.$maxTouches != t && (this.$maxTouches = t, this.$screen.updateMaxTouches())
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setContentSize = function(t, e) {
			this.$screen.setContentSize(t, e)
		}, n.prototype.removeObjFromStack = function(t) {
			if (t) {
				var e = this.$modalStackObjs.indexOf(t); - 1 !== e && this.$modalStackObjs.splice(e, 1)
			}
		}, Object.defineProperty(n.prototype, "modalObj", {
			get: function() {
				return this.$modalDisplayObject
			},
			set: function(t) {
				this.$modalDisplayObject !== t && (this.removeObjFromStack(this.$modalDisplayObject), t ? (this.removeObjFromStack(t), this.$modalDisplayObject && this.$modalStackObjs.push(this.$modalDisplayObject), this.$modalDisplayObject = t) : this.$modalDisplayObject = this.$modalStackObjs.pop() || null)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$hitTestWithModal = function(e, n) {
			var r = this.$hitTest(e, n);
			return this.$modalDisplayObject && this.$modalDisplayObject.isVisible && (this.$modalDisplayObject instanceof t.DisplayObjectContainer && this.$modalDisplayObject.contains(r) || (r = this.$modalDisplayObject)), r
		}, n
	}(t.DisplayObjectContainer);
	t.Stage = e, __reflect(e.prototype, "egret.Stage")
}(egret || (egret = {})),
function(t) {
	var e = function() {
		function t() {}
		return t.NORMAL = "normal", t.ADD = "add", t.ERASE = "erase", t
	}();
	t.BlendMode = e, __reflect(e.prototype, "egret.BlendMode")
}(egret || (egret = {})),
function(t) {
	! function(t) {
		for (var e = ["normal", "add", "erase"], n = {}, r = e.length, s = 0; s < r; s++) n[e[s]] = s;
		t.blendModeToNumber = function(t) {
			var e = n[t];
			return void 0 === e ? 0 : e
		}, t.numberToBlendMode = function(t) {
			var n = e[t];
			return void 0 === n ? "normal" : n
		}
	}(t.sys || (t.sys = {}))
}(egret || (egret = {})),
function(t) {
	t.ChildrenSortMode = {
		DEFAULT: "default",
		INCREASE_Y: "increaseY",
		DECREASE_Y: "decreaseY"
	}
}(egret || (egret = {})),
function(t) {
	t.CapsStyle = {
		NONE: "none",
		ROUND: "round",
		SQUARE: "square"
	}
}(egret || (egret = {})),
function(t) {
	var e = function() {
		function e() {}
		return e.compileProgram = function(n, r, s) {
			var h = e.compileFragmentShader(n, s),
				u = e.compileVertexShader(n, r),
				o = n.createProgram();
			return n.attachShader(o, u), n.attachShader(o, h), n.linkProgram(o), n.getProgramParameter(o, n.LINK_STATUS) || t.$warn(1020), o
		}, e.compileFragmentShader = function(t, n) {
			return e._compileShader(t, n, t.FRAGMENT_SHADER)
		}, e.compileVertexShader = function(t, n) {
			return e._compileShader(t, n, t.VERTEX_SHADER)
		}, e._compileShader = function(t, e, n) {
			var r = t.createShader(n);
			return t.shaderSource(r, e), t.compileShader(r), t.getShaderParameter(r, t.COMPILE_STATUS) ? r : null
		}, e.checkCanUseWebGL = function() {
			if (null == e.canUseWebGL) try {
				var t = document.createElement("canvas");
				e.canUseWebGL = !(!window.WebGLRenderingContext || !t.getContext("webgl") && !t.getContext("experimental-webgl"))
			} catch (t) {
				e.canUseWebGL = !1
			}
			return e.canUseWebGL
		}, e.deleteWebGLTexture = function(e) {
			if (e && !e[t.engine_default_empty_texture]) {
				var n = e[t.glContext];
				n && n.deleteTexture(e)
			}
		}, e.premultiplyTint = function(t, e) {
			if (1 === e) return (255 * e << 24) + t;
			if (0 === e) return 0;
			var n = t >> 16 & 255,
				r = t >> 8 & 255,
				s = 255 & t;
			return (255 * e << 24) + ((n = n * e + .5 | 0) << 16) + ((r = r * e + .5 | 0) << 8) + (s * e + .5 | 0)
		}, e
	}();
	t.WebGLUtils = e, __reflect(e.prototype, "egret.WebGLUtils")
}(egret || (egret = {})),
function(t) {
	var e = function(t) {
		function e(e, n, r) {
			return void 0 === n && (n = !1), void 0 === r && (r = !1), t.call(this, e, n, r) || this
		}
		return __extends(e, t), e.FOCUS_IN = "focusIn", e.FOCUS_OUT = "focusOut", e
	}(t.Event);
	t.FocusEvent = e, __reflect(e.prototype, "egret.FocusEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(e, t), e.PERMISSION_DENIED = "permissionDenied", e.UNAVAILABLE = "unavailable", e
	}(t.Event);
	t.GeolocationEvent = e, __reflect(e.prototype, "egret.GeolocationEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(t, n, r) {
			void 0 === n && (n = !1), void 0 === r && (r = !1);
			var s = e.call(this, t, n, r) || this;
			return s._status = 0, s
		}
		return __extends(n, e), Object.defineProperty(n.prototype, "status", {
			get: function() {
				return this._status
			},
			enumerable: !0,
			configurable: !0
		}), n.dispatchHTTPStatusEvent = function(e, r) {
			var s = t.Event.create(n, n.HTTP_STATUS);
			s._status = r;
			var h = e.dispatchEvent(s);
			return t.Event.release(s), h
		}, n.HTTP_STATUS = "httpStatus", n
	}(t.Event);
	t.HTTPStatusEvent = e, __reflect(e.prototype, "egret.HTTPStatusEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(t, n, r) {
			return void 0 === n && (n = !1), void 0 === r && (r = !1), e.call(this, t, n, r) || this
		}
		return __extends(n, e), n.dispatchIOErrorEvent = function(e) {
			var r = t.Event.create(n, n.IO_ERROR),
				s = e.dispatchEvent(r);
			return t.Event.release(r), s
		}, n.IO_ERROR = "ioError", n
	}(t.Event);
	t.IOErrorEvent = e, __reflect(e.prototype, "egret.IOErrorEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(e, t), e
	}(t.Event);
	t.MotionEvent = e, __reflect(e.prototype, "egret.MotionEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(e, t), e
	}(t.Event);
	t.OrientationEvent = e, __reflect(e.prototype, "egret.OrientationEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(t, n, r, s, h) {
			void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 === s && (s = 0), void 0 === h && (h = 0);
			var u = e.call(this, t, n, r) || this;
			return u.bytesLoaded = 0, u.bytesTotal = 0, u.bytesLoaded = s, u.bytesTotal = h, u
		}
		return __extends(n, e), n.dispatchProgressEvent = function(e, r, s, h) {
			void 0 === s && (s = 0), void 0 === h && (h = 0);
			var u = t.Event.create(n, r);
			u.bytesLoaded = s, u.bytesTotal = h;
			var o = e.dispatchEvent(u);
			return t.Event.release(u), o
		}, n.PROGRESS = "progress", n.SOCKET_DATA = "socketData", n
	}(t.Event);
	t.ProgressEvent = e, __reflect(e.prototype, "egret.ProgressEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(t, n, r) {
			return void 0 === n && (n = !1), void 0 === r && (r = !1), e.call(this, t, n, r) || this
		}
		return __extends(n, e), n.dispatchStageOrientationEvent = function(e, r) {
			var s = t.Event.create(n, r),
				h = e.dispatchEvent(s);
			return t.Event.release(s), h
		}, n.ORIENTATION_CHANGE = "orientationChange", n
	}(t.Event);
	t.StageOrientationEvent = e, __reflect(e.prototype, "egret.StageOrientationEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(t, n, r, s) {
			void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 === s && (s = "");
			var h = e.call(this, t, n, r) || this;
			return h.text = s, h
		}
		return __extends(n, e), n.dispatchTextEvent = function(e, r, s) {
			var h = t.Event.create(n, r);
			h.text = s;
			var u = e.dispatchEvent(h);
			return t.Event.release(h), u
		}, n.LINK = "link", n
	}(t.Event);
	t.TextEvent = e, __reflect(e.prototype, "egret.TextEvent")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n(t, n, r) {
			return e.call(this, t, n, r) || this
		}
		return __extends(n, e), n.prototype.updateAfterEvent = function() {
			t.sys.$requestRenderingFlag = !0
		}, n.dispatchTimerEvent = function(e, r, s, h) {
			var u = t.Event.create(n, r, s, h),
				o = e.dispatchEvent(u);
			return t.Event.release(u), o
		}, n.TIMER = "timer", n.TIMER_COMPLETE = "timerComplete", n
	}(t.Event);
	t.TimerEvent = e, __reflect(e.prototype, "egret.TimerEvent")
}(egret || (egret = {})),
function(t) {
	var e = function() {};
	t.CompressedTextureData = e, __reflect(e.prototype, "egret.CompressedTextureData"), t.etc_alpha_mask = "etc_alpha_mask", t.vertical_alpha_mask = "vertical_alpha_mask", t.horizontal_alpha_mask = "horizontal_alpha_mask", t.engine_default_empty_texture = "engine_default_empty_texture", t.is_compressed_texture = "is_compressed_texture", t.glContext = "glContext", t.UNPACK_PREMULTIPLY_ALPHA_WEBGL = "UNPACK_PREMULTIPLY_ALPHA_WEBGL";
	var n = function(e) {
		function n(n) {
			var r = e.call(this) || this;
			if (r.format = "image", r.$deleteSource = !0, r.$valid = !0, r.$reloading = !1, r.compressedTextureData = [], r.debugCompressedTextureURL = "", r.etcAlphaMask = null, r.verticalAlphaMask = !1, r.horizontalAlphaMask = !1, r.url = "", r.$referenceCount = 0, r.$releaseTimeStamp = Date.now(), t.nativeRender) {
				var s = new egret_native.NativeBitmapData;
				s.$init(), r.$nativeBitmapData = s
			}
			return r.source = n, r.source && (r.$width = r.$noBlankWidth = +n.width, r.$height = r.$noBlankHeight = +n.height, r.source.type && "CompressedTexture2D" === r.source.type && (r.$noBlankWidth = r.source.noBlankWidth, r.$noBlankHeight = r.source.noBlankHeight, r.compressedTextureData.push([]), r.compressedTextureData[0].push({
				glInternalFormat: r.source.format,
				width: r.source.width,
				height: r.source.height,
				byteArray: r.source.src,
				face: 0,
				level: 0
			}))), r.$valid = !0, r
		}
		return __extends(n, e), n.prototype.reload = function(e) {
			this.$valid || this.$reloading || t.reloadBitmapData && (this.$reloading = !0, t.reloadBitmapData(this, e))
		}, n.prototype.valid = function() {
			return this.$valid
		}, Object.defineProperty(n.prototype, "referenceCount", {
			get: function() {
				return this.$referenceCount
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "releaseTimeStamp", {
			get: function() {
				return this.$releaseTimeStamp
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.addReference = function() {
			this.$referenceCount += 1
		}, n.prototype.removeReference = function() {
			this.$referenceCount -= 1, 0 === this.$referenceCount && (this.$releaseTimeStamp = Date.now())
		}, Object.defineProperty(n.prototype, "noBlankWidth", {
			get: function() {
				return this.$noBlankWidth
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "noBlankHeight", {
			get: function() {
				return this.$noBlankHeight
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "width", {
			get: function() {
				return this.$width
			},
			set: function(t) {
				this.$width = this.$noBlankWidth = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "height", {
			get: function() {
				return this.$height
			},
			set: function(t) {
				this.$height = this.$noBlankHeight = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "source", {
			get: function() {
				return this.$source
			},
			set: function(e) {
				this.$source = e, t.nativeRender && egret_native.NativeDisplayObject.setSourceToNativeBitmapData(this.$nativeBitmapData, e)
			},
			enumerable: !0,
			configurable: !0
		}), n.create = function(e, r, s) {
			var h, u = "",
				o = "image/png";
			if ("/" === (u = "arraybuffer" === e ? t.Base64Util.encode(r.slice(0, 8)) : r.substr(0, 8)).charAt(0) ? o = "image/jpeg" : "R" === u.charAt(0) ? o = "image/gif" : "i" === u.charAt(0) && (o = "image/png"), "arraybuffer" === e)
				if (window.Blob && window.URL && window.URL.createObjectURL) {
					var a = new Blob([new Uint8Array(r)], {
						type: o
					});
					h = window.URL.createObjectURL(a)
				} else h = "data:" + o + ";base64," + t.Base64Util.encode(r);
			else h = "data:" + o + ";base64," + r;
			var c = new Image;
			c.src = h;
			var f = new n(c);
			return c.onload = function() {
				c.onload = void 0, f.source = c, f.height = c.height, f.width = c.width, s && s(f)
			}, f
		}, n.createFromImageData = function(t) {
			return new n(t)
		}, n.createFromArrayBuffer = function(t, e, r) {
			return new n({
				data: t,
				width: e,
				height: r,
				type: "ArrayBuffer"
			})
		}, n.createFromCompressedTexture2D = function(t, e, r, s, h, u) {
			return new n({
				src: t,
				width: e,
				height: r,
				noBlankWidth: s,
				noBlankHeight: h,
				format: u,
				type: "CompressedTexture2D"
			})
		}, n.prototype.$dispose = function() {
			"webgl" == t.Capabilities.renderMode && this.webGLTexture && (t.WebGLUtils.deleteWebGLTexture(this.webGLTexture), this.webGLTexture = null), this.source && this.source.dispose && this.source.dispose(), this.source && this.source.src && (this.source.src = ""), this.source = null, this.$valid = !1, this.clearCompressedTextureData(), this.debugCompressedTextureURL = "", this.etcAlphaMask && (this.etcAlphaMask.$dispose(), this.etcAlphaMask = null), t.nativeRender && egret_native.NativeDisplayObject.disposeNativeBitmapData(this.$nativeBitmapData), n.$dispose(this)
		}, n.$addDisplayObject = function(t, e) {
			if (e) {
				var r = e.hashCode;
				if (r)
					if (n._displayList[r]) {
						var s = n._displayList[r];
						s.indexOf(t) < 0 && s.push(t)
					} else n._displayList[r] = [t]
			}
		}, n.$removeDisplayObject = function(t, e) {
			if (e) {
				var r = e.hashCode;
				if (r && n._displayList[r]) {
					var s = n._displayList[r],
						h = s.indexOf(t);
					h >= 0 && s.splice(h, 1)
				}
			}
		}, n.$invalidate = function(e) {
			if (e) {
				var r = e.hashCode;
				if (r && n._displayList[r])
					for (var s = n._displayList[r], h = 0; h < s.length; h++) s[h] instanceof t.Bitmap && s[h].$refreshImageData(), s[h].markDirtyUp()
			}
		}, n.$dispose = function(e) {
			if (e) {
				var r = e.hashCode;
				if (r && n._displayList[r]) {
					for (var s = 0, h = n._displayList[r]; s < h.length; s++) {
						var u = h[s];
						t.Bitmap, u.markDirtyUp()
					}
					delete n._displayList[r]
				}
			}
		}, n.prototype._getCompressedTextureData = function(t, e) {
			var n = this.compressedTextureData[t];
			return n ? n[e] : null
		}, n.prototype.getCompressed2dTextureData = function() {
			return this._getCompressedTextureData(0, 0)
		}, n.prototype.hasCompressed2d = function() {
			return !!this.getCompressed2dTextureData()
		}, n.prototype.clearCompressedTextureData = function() {
			this.compressedTextureData.length = 0
		}, n.prototype.validWithBitmapData = function(t, e) {
			!this.valid() && this !== t && t && (this.source = t.source, this.compressedTextureData = [], this.source && (this.$width = this.$noBlankWidth = +this.source.width, this.$height = this.$noBlankHeight = +this.source.height, this.source.type && "CompressedTexture2D" === this.source.type && (this.$noBlankWidth = this.source.noBlankWidth, this.$noBlankHeight = this.source.noBlankHeight, this.compressedTextureData.push([]), this.compressedTextureData[0].push({
				glInternalFormat: this.source.format,
				width: this.source.width,
				height: this.source.height,
				byteArray: this.source.src,
				face: 0,
				level: 0
			}))), this.etcAlphaMask = t.etcAlphaMask, this.verticalAlphaMask = t.verticalAlphaMask, this.horizontalAlphaMask = t.horizontalAlphaMask, t.source = null, t.compressedTextureData.length = 0, t.etcAlphaMask = null, this.$valid = !0, this.$reloading = !1, e && e.markDirtyUp())
		}, n._displayList = t.createMap(), n
	}(t.HashObject);
	t.BitmapData = n, __reflect(n.prototype, "egret.BitmapData")
}(egret || (egret = {})),
function(t) {
	var e = new t.Point,
		n = function(n) {
			function r(t, e, r, s, h, u) {
				var o = n.call(this, t, e, r) || this;
				return o.targetChanged = !0, o.touchDown = !1, o.$initTo(s, h, u), o
			}
			return __extends(r, n), r.prototype.$initTo = function(t, e, n) {
				this.touchPointID = +n || 0, this.$stageX = +t || 0, this.$stageY = +e || 0
			}, Object.defineProperty(r.prototype, "stageX", {
				get: function() {
					return this.$stageX
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(r.prototype, "stageY", {
				get: function() {
					return this.$stageY
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(r.prototype, "localX", {
				get: function() {
					return this.targetChanged && this.getLocalXY(), this._localX
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(r.prototype, "localY", {
				get: function() {
					return this.targetChanged && this.getLocalXY(), this._localY
				},
				enumerable: !0,
				configurable: !0
			}), r.prototype.getLocalXY = function() {
				this.targetChanged = !1, this.$target.$getInvertedConcatenatedMatrix().transformPoint(this.$stageX, this.$stageY, e), this._localX = e.x, this._localY = e.y
			}, r.prototype.$setTarget = function(t) {
				return this.$target = t, this.targetChanged = !!t, !0
			}, r.prototype.updateAfterEvent = function() {
				t.sys.$requestRenderingFlag = !0
			}, r.dispatchTouchEvent = function(e, n, s, h, u, o, a, c) {
				if (void 0 === c && (c = !1), !s && !e.hasEventListener(n)) return !0;
				var f = t.Event.create(r, n, s, h);
				f.$initTo(u, o, a), f.touchDown = c;
				var l = e.dispatchEvent(f);
				return t.Event.release(f), l
			}, r.TOUCH_MOVE = "touchMove", r.TOUCH_BEGIN = "touchBegin", r.TOUCH_END = "touchEnd", r.TOUCH_CANVAS = "touchCanvas", r.TOUCH_CANCEL = "touchCancel", r.TOUCH_TAP = "touchTap", r.TOUCH_TAP_OUTSIDE = "touchTapOutside", r.TOUCH_RELEASE_OUTSIDE = "touchReleaseOutside", r
		}(t.Event);
	t.TouchEvent = n, __reflect(n.prototype, "egret.TouchEvent")
}(egret || (egret = {})), egret || (egret = {}),
	function(t) {
		var e = function(e) {
			function s(t, s, h) {
				void 0 === t && (t = 4), void 0 === s && (s = 4), void 0 === h && (h = 1);
				var u = e.call(this) || this,
					o = u;
				return o.type = "blur", o.$blurX = t, o.$blurY = s, o.$quality = h, o.blurXFilter = new n(t), o.blurYFilter = new r(s), o.onPropertyChange(), u
			}
			return __extends(s, e), Object.defineProperty(s.prototype, "blurX", {
				get: function() {
					return this.$blurX
				},
				set: function(t) {
					this.$blurX != t && (this.$blurX = t, this.blurXFilter.blurX = t, this.onPropertyChange())
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(s.prototype, "blurY", {
				get: function() {
					return this.$blurY
				},
				set: function(t) {
					this.$blurY != t && (this.$blurY = t, this.blurYFilter.blurY = t, this.onPropertyChange())
				},
				enumerable: !0,
				configurable: !0
			}), s.prototype.$toJson = function() {
				return '{"blurX": ' + this.$blurX + ', "blurY": ' + this.$blurY + ', "quality": 1}'
			}, s.prototype.updatePadding = function() {
				this.paddingLeft = this.blurX, this.paddingRight = this.blurX, this.paddingTop = this.blurY, this.paddingBottom = this.blurY
			}, s.prototype.onPropertyChange = function() {
				this.updatePadding(), t.nativeRender && (egret_native.NativeDisplayObject.setFilterPadding(this.blurXFilter.$id, 0, 0, this.paddingLeft, this.paddingRight), egret_native.NativeDisplayObject.setFilterPadding(this.blurYFilter.$id, this.paddingTop, this.paddingBottom, 0, 0), egret_native.NativeDisplayObject.setDataToFilter(this))
			}, s
		}(t.Filter);
		t.BlurFilter = e, __reflect(e.prototype, "egret.BlurFilter");
		var n = function(e) {
			function n(n) {
				void 0 === n && (n = 4);
				var r = e.call(this) || this;
				return t.nativeRender ? r.type = "blur" : r.type = "blurX", r.$uniforms.blur = {
					x: n,
					y: 0
				}, r.onPropertyChange(), r
			}
			return __extends(n, e), Object.defineProperty(n.prototype, "blurX", {
				get: function() {
					return this.$uniforms.blur.x
				},
				set: function(t) {
					this.$uniforms.blur.x = t
				},
				enumerable: !0,
				configurable: !0
			}), n
		}(t.Filter);
		__reflect(n.prototype, "BlurXFilter", ["egret.IBlurXFilter"]);
		var r = function(e) {
			function n(n) {
				void 0 === n && (n = 4);
				var r = e.call(this) || this;
				return t.nativeRender ? r.type = "blur" : r.type = "blurY", r.$uniforms.blur = {
					x: 0,
					y: n
				}, r.onPropertyChange(), r
			}
			return __extends(n, e), Object.defineProperty(n.prototype, "blurY", {
				get: function() {
					return this.$uniforms.blur.y
				},
				set: function(t) {
					this.$uniforms.blur.y = t
				},
				enumerable: !0,
				configurable: !0
			}), n
		}(t.Filter);
		__reflect(r.prototype, "BlurYFilter", ["egret.IBlurYFilter"])
	}(egret || (egret = {})),
	function(t) {
		var e = function(t) {
			function e(e) {
				void 0 === e && (e = null);
				var n = t.call(this) || this;
				return n.$matrix = [], n.matrix2 = [], n.type = "colorTransform", n.$uniforms.matrix = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], n.$uniforms.colorAdd = {
					x: 0,
					y: 0,
					z: 0,
					w: 0
				}, n.setMatrix(e), n.onPropertyChange(), n
			}
			return __extends(e, t), Object.defineProperty(e.prototype, "matrix", {
				get: function() {
					for (var t = 0; t < 20; t++) this.matrix2[t] = this.$matrix[t];
					return this.matrix2
				},
				set: function(t) {
					this.setMatrix(t)
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.setMatrix = function(t) {
				if (t)
					for (var e = 0; e < 20; e++) this.$matrix[e] = t[e];
				else
					for (e = 0; e < 20; e++) this.$matrix[e] = 0 == e || 6 == e || 12 == e || 18 == e ? 1 : 0;
				for (var n = this.$matrix, r = this.$uniforms.matrix, s = this.$uniforms.colorAdd, h = (e = 0, 0); e < n.length; e++) 4 === e ? s.x = n[e] / 255 : 9 === e ? s.y = n[e] / 255 : 14 === e ? s.z = n[e] / 255 : 19 === e ? s.w = n[e] / 255 : (r[h] = n[e], h++);
				this.onPropertyChange()
			}, e.prototype.$toJson = function() {
				return '{"matrix": [' + this.$matrix.toString() + "]}"
			}, e
		}(t.Filter);
		t.ColorMatrixFilter = e, __reflect(e.prototype, "egret.ColorMatrixFilter")
	}(egret || (egret = {})),
	function(t) {
		var e, n = {},
			r = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
			s = new Array(36),
			h = 0,
			u = function(u) {
				function o(t, o, a) {
					void 0 === a && (a = {});
					var c = u.call(this) || this;
					c.$padding = 0, c.$vertexSrc = t, c.$fragmentSrc = o;
					var f = t + o;
					return n[f] || (n[f] = function() {
						for (var t = 0; t < 36; t++) 8 === t || 13 === t || 18 === t || 23 === t ? s[t] = "-" : 14 === t ? s[t] = "4" : (h <= 2 && (h = 33554432 + 16777216 * Math.random() | 0), e = 15 & h, h >>= 4, s[t] = r[19 === t ? 3 & e | 8 : e]);
						return s.join("")
					}()), c.$shaderKey = n[f], c.$uniforms = a, c.type = "custom", c
				}
				return __extends(o, u), Object.defineProperty(o.prototype, "padding", {
					get: function() {
						return this.$padding
					},
					set: function(t) {
						this.$padding != t && (this.$padding = t, this.onPropertyChange())
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(o.prototype, "uniforms", {
					get: function() {
						return this.$uniforms
					},
					enumerable: !0,
					configurable: !0
				}), o.prototype.onPropertyChange = function() {
					t.nativeRender && (egret_native.NativeDisplayObject.setFilterPadding(this.$id, this.$padding, this.$padding, this.$padding, this.$padding), egret_native.NativeDisplayObject.setDataToFilter(this))
				}, o
			}(t.Filter);
		t.CustomFilter = u, __reflect(u.prototype, "egret.CustomFilter")
	}(egret || (egret = {})),
	function(t) {
		var e = function(e) {
			function n(t, n, r, s, h, u, o, a, c, f, l) {
				void 0 === t && (t = 4), void 0 === n && (n = 45), void 0 === r && (r = 0), void 0 === s && (s = 1), void 0 === h && (h = 4), void 0 === u && (u = 4), void 0 === o && (o = 1), void 0 === a && (a = 1), void 0 === c && (c = !1), void 0 === f && (f = !1), void 0 === l && (l = !1);
				var v = e.call(this, r, s, h, u, o, a, c, f) || this,
					g = v;
				return g.$distance = t, g.$angle = n, g.$hideObject = l, g.$uniforms.dist = t, g.$uniforms.angle = n / 180 * Math.PI, g.$uniforms.hideObject = l ? 1 : 0, g.onPropertyChange(), v
			}
			return __extends(n, e), Object.defineProperty(n.prototype, "distance", {
				get: function() {
					return this.$distance
				},
				set: function(t) {
					this.$distance != t && (this.$distance = t, this.$uniforms.dist = t, this.onPropertyChange())
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "angle", {
				get: function() {
					return this.$angle
				},
				set: function(t) {
					this.$angle != t && (this.$angle = t, this.$uniforms.angle = t / 180 * Math.PI, this.onPropertyChange())
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "hideObject", {
				get: function() {
					return this.$hideObject
				},
				set: function(t) {
					this.$hideObject != t && (this.$hideObject = t, this.$uniforms.hideObject = t ? 1 : 0)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$toJson = function() {
				return '{"distance": ' + this.$distance + ', "angle": ' + this.$angle + ', "color": ' + this.$color + ', "red": ' + this.$red + ', "green": ' + this.$green + ', "blue": ' + this.$blue + ', "alpha": ' + this.$alpha + ', "blurX": ' + this.$blurX + ', "blurY": ' + this.blurY + ', "strength": ' + this.$strength + ', "quality": ' + this.$quality + ', "inner": ' + this.$inner + ', "knockout": ' + this.$knockout + ', "hideObject": ' + this.$hideObject + "}"
			}, n.prototype.updatePadding = function() {
				this.paddingLeft = this.blurX, this.paddingRight = this.blurX, this.paddingTop = this.blurY, this.paddingBottom = this.blurY;
				var e = this.distance || 0,
					n = this.angle || 0,
					r = 0,
					s = 0;
				0 != e && (r = (r = e * t.NumberUtils.cos(n)) > 0 ? Math.ceil(r) : Math.floor(r), s = (s = e * t.NumberUtils.sin(n)) > 0 ? Math.ceil(s) : Math.floor(s), this.paddingLeft += r, this.paddingRight += r, this.paddingTop += s, this.paddingBottom += s)
			}, n
		}(t.GlowFilter);
		t.DropShadowFilter = e, __reflect(e.prototype, "egret.DropShadowFilter")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.LINEAR = "linear", t.RADIAL = "radial", t
		}();
		t.GradientType = e, __reflect(e.prototype, "egret.GradientType")
	}(egret || (egret = {})),
	function(t) {
		function e(t) {
			return (t %= 2 * Math.PI) < 0 && (t += 2 * Math.PI), t
		}

		function n(t, e) {
			for (var n = [], s = 0; s < e; s++) {
				var h = r(t, s / e);
				h && n.push(h)
			}
			return n
		}

		function r(e, n) {
			var r = 0,
				u = 0,
				o = 0,
				a = e.length;
			if (a / 2 == 3) {
				var c = e[r++],
					f = e[r++],
					l = e[r++],
					v = e[r++],
					g = e[r++],
					b = e[r++];
				u = s(c, l, g, n), o = s(f, v, b, n)
			} else if (a / 2 == 4) {
				c = e[r++], f = e[r++], l = e[r++], v = e[r++], g = e[r++], b = e[r++];
				var d = e[r++],
					m = e[r++];
				u = h(c, l, g, d, n), o = h(f, v, b, m, n)
			}
			return t.Point.create(u, o)
		}

		function s(t, e, n, r) {
			return Math.pow(1 - r, 2) * t + 2 * r * (1 - r) * e + Math.pow(r, 2) * n
		}

		function h(t, e, n, r, s) {
			return Math.pow(1 - s, 3) * t + 3 * s * Math.pow(1 - s, 2) * e + 3 * (1 - s) * Math.pow(s, 2) * n + Math.pow(s, 3) * r
		}
		var u = function(r) {
			function s() {
				var e = r.call(this) || this;
				return e.lastX = 0, e.lastY = 0, e.fillPath = null, e.strokePath = null, e.topLeftStrokeWidth = 0, e.bottomRightStrokeWidth = 0, e.minX = 1 / 0, e.minY = 1 / 0, e.maxX = -1 / 0, e.maxY = -1 / 0, e.includeLastPosition = !0, e.$renderNode = new t.sys.GraphicsNode, e
			}
			return __extends(s, r), s.prototype.$setTarget = function(e) {
				this.$targetDisplay && (this.$targetDisplay.$renderNode = null), e.$renderNode = this.$renderNode, this.$targetDisplay = e, this.$targetIsSprite = e instanceof t.Sprite
			}, s.prototype.setStrokeWidth = function(t) {
				switch (t) {
					case 1:
						this.topLeftStrokeWidth = 0, this.bottomRightStrokeWidth = 1;
						break;
					case 3:
						this.topLeftStrokeWidth = 1, this.bottomRightStrokeWidth = 2;
						break;
					default:
						var e = 0 | Math.ceil(.5 * t);
						this.topLeftStrokeWidth = e, this.bottomRightStrokeWidth = e
				}
			}, s.prototype.beginFill = function(e, n) {
				void 0 === n && (n = 1), e = +e || 0, n = +n || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setBeginFill(e, n), this.fillPath = this.$renderNode.beginFill(e, n, this.strokePath), this.$renderNode.drawData.length > 1 && this.fillPath.moveTo(this.lastX, this.lastY)
			}, s.prototype.beginGradientFill = function(e, n, r, s, h) {
				void 0 === h && (h = null), t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setBeginGradientFill(e, n, r, s, h), this.fillPath = this.$renderNode.beginGradientFill(e, n, r, s, h, this.strokePath), this.$renderNode.drawData.length > 1 && this.fillPath.moveTo(this.lastX, this.lastY)
			}, s.prototype.endFill = function() {
				t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setEndFill(), this.fillPath = null
			}, s.prototype.lineStyle = function(e, n, r, s, h, u, o, a, c) {
				void 0 === e && (e = NaN), void 0 === n && (n = 0), void 0 === r && (r = 1), void 0 === s && (s = !1), void 0 === h && (h = "normal"), void 0 === u && (u = null), void 0 === o && (o = null), void 0 === a && (a = 3), e = +e || 0, n = +n || 0, r = +r || 0, a = +a || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setLineStyle(e, n, r, s, h, u, o, a), e <= 0 ? (this.strokePath = null, this.setStrokeWidth(0)) : (this.setStrokeWidth(e), this.strokePath = this.$renderNode.lineStyle(e, n, r, u, o, a, c), this.$renderNode.drawData.length > 1 && this.strokePath.moveTo(this.lastX, this.lastY))
			}, s.prototype.drawRect = function(e, n, r, s) {
				e = +e || 0, n = +n || 0, r = +r || 0, s = +s || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setDrawRect(e, n, r, s);
				var h = this.fillPath,
					u = this.strokePath;
				h && h.drawRect(e, n, r, s), u && u.drawRect(e, n, r, s), this.extendBoundsByPoint(e + r, n + s), this.updatePosition(e, n), this.dirty()
			}, s.prototype.drawRoundRect = function(e, n, r, s, h, u) {
				e = +e || 0, n = +n || 0, r = +r || 0, s = +s || 0, h = +h || 0, u = +u || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setDrawRoundRect(e, n, r, s, h, u);
				var o = this.fillPath,
					a = this.strokePath;
				o && o.drawRoundRect(e, n, r, s, h, u), a && a.drawRoundRect(e, n, r, s, h, u);
				var c = e + r,
					f = n + s,
					l = f - (u ? .5 * u | 0 : .5 * h | 0);
				this.extendBoundsByPoint(e, n), this.extendBoundsByPoint(c, f), this.updatePosition(c, l), this.dirty()
			}, s.prototype.drawCircle = function(e, n, r) {
				e = +e || 0, n = +n || 0, r = +r || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setDrawCircle(e, n, r);
				var s = this.fillPath,
					h = this.strokePath;
				s && s.drawCircle(e, n, r), h && h.drawCircle(e, n, r), this.extendBoundsByPoint(e - r - 1, n - r - 1), this.extendBoundsByPoint(e + r + 2, n + r + 2), this.updatePosition(e + r, n), this.dirty()
			}, s.prototype.drawEllipse = function(e, n, r, s) {
				e = +e || 0, n = +n || 0, r = +r || 0, s = +s || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setDrawEllipse(e, n, r, s);
				var h = this.fillPath,
					u = this.strokePath;
				h && h.drawEllipse(e, n, r, s), u && u.drawEllipse(e, n, r, s), this.extendBoundsByPoint(e - 1, n - 1), this.extendBoundsByPoint(e + r + 2, n + s + 2), this.updatePosition(e + r, n + .5 * s), this.dirty()
			}, s.prototype.moveTo = function(e, n) {
				e = +e || 0, n = +n || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setMoveTo(e, n);
				var r = this.fillPath,
					s = this.strokePath;
				r && r.moveTo(e, n), s && s.moveTo(e, n), this.includeLastPosition = !1, this.lastX = e, this.lastY = n, this.dirty()
			}, s.prototype.lineTo = function(e, n) {
				e = +e || 0, n = +n || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setLineTo(e, n);
				var r = this.fillPath,
					s = this.strokePath;
				r && r.lineTo(e, n), s && s.lineTo(e, n), this.updatePosition(e, n), this.dirty()
			}, s.prototype.curveTo = function(e, r, s, h) {
				e = +e || 0, r = +r || 0, s = +s || 0, h = +h || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setCurveTo(e, r, s, h);
				var u = this.fillPath,
					o = this.strokePath;
				u && u.curveTo(e, r, s, h), o && o.curveTo(e, r, s, h);
				for (var a = n([this.lastX || 0, this.lastY || 0, e, r, s, h], 50), c = 0; c < a.length; c++) {
					var f = a[c];
					this.extendBoundsByPoint(f.x, f.y), t.Point.release(f)
				}
				this.extendBoundsByPoint(s, h), this.updatePosition(s, h), this.dirty()
			}, s.prototype.cubicCurveTo = function(e, r, s, h, u, o) {
				e = +e || 0, r = +r || 0, s = +s || 0, h = +h || 0, u = +u || 0, o = +o || 0, t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setCubicCurveTo(e, r, s, h, u, o);
				var a = this.fillPath,
					c = this.strokePath;
				a && a.cubicCurveTo(e, r, s, h, u, o), c && c.cubicCurveTo(e, r, s, h, u, o);
				for (var f = n([this.lastX || 0, this.lastY || 0, e, r, s, h, u, o], 50), l = 0; l < f.length; l++) {
					var v = f[l];
					this.extendBoundsByPoint(v.x, v.y), t.Point.release(v)
				}
				this.extendBoundsByPoint(u, o), this.updatePosition(u, o), this.dirty()
			}, s.prototype.drawArc = function(n, r, s, h, u, o) {
				if (!(s < 0 || h === u)) {
					n = +n || 0, r = +r || 0, s = +s || 0, u = +u || 0, o = !!o, h = e(h = +h || 0), u = e(u), t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setDrawArc(n, r, s, h, u, o);
					var a = this.fillPath,
						c = this.strokePath;
					a && (a.$lastX = this.lastX, a.$lastY = this.lastY, a.drawArc(n, r, s, h, u, o)), c && (c.$lastX = this.lastX, c.$lastY = this.lastY, c.drawArc(n, r, s, h, u, o)), o ? this.arcBounds(n, r, s, u, h) : this.arcBounds(n, r, s, h, u);
					var f = n + Math.cos(u) * s,
						l = r + Math.sin(u) * s;
					this.updatePosition(f, l), this.dirty()
				}
			}, s.prototype.dirty = function() {
				if (this.$renderNode.dirtyRender = !0, !t.nativeRender) {
					var e = this.$targetDisplay;
					e.$cacheDirty = !0, e.markDirtyUp(!1)
				}
			}, s.prototype.arcBounds = function(t, e, n, r, s) {
				var h = Math.PI;
				if (Math.abs(r - s) < .01) return this.extendBoundsByPoint(t - n, e - n), void this.extendBoundsByPoint(t + n, e + n);
				r > s && (s += 2 * h);
				for (var u = Math.cos(r) * n, o = Math.cos(s) * n, a = Math.min(u, o), c = Math.max(u, o), f = Math.sin(r) * n, l = Math.sin(s) * n, v = Math.min(f, l), g = Math.max(f, l), b = r / (.5 * h), d = s / (.5 * h), m = Math.ceil(b); m <= d; m++) switch (m % 4) {
					case 0:
						c = n;
						break;
					case 1:
						g = n;
						break;
					case 2:
						a = -n;
						break;
					case 3:
						v = -n
				}
				a = Math.floor(a), v = Math.floor(v), c = Math.ceil(c), g = Math.ceil(g), this.extendBoundsByPoint(a + t, v + e), this.extendBoundsByPoint(c + t, g + e)
			}, s.prototype.clear = function() {
				t.nativeRender && this.$targetDisplay.$nativeDisplayObject.setGraphicsClear(), this.$renderNode.clear(), this.updatePosition(0, 0), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.dirty()
			}, s.prototype.extendBoundsByPoint = function(t, e) {
				this.extendBoundsByX(t), this.extendBoundsByY(e)
			}, s.prototype.extendBoundsByX = function(t) {
				this.minX = Math.min(this.minX, t - this.topLeftStrokeWidth), this.maxX = Math.max(this.maxX, t + this.bottomRightStrokeWidth), this.updateNodeBounds()
			}, s.prototype.extendBoundsByY = function(t) {
				this.minY = Math.min(this.minY, t - this.topLeftStrokeWidth), this.maxY = Math.max(this.maxY, t + this.bottomRightStrokeWidth), this.updateNodeBounds()
			}, s.prototype.updateNodeBounds = function() {
				var t = this.$renderNode;
				t.x = this.minX, t.y = this.minY, t.width = Math.ceil(this.maxX - this.minX), t.height = Math.ceil(this.maxY - this.minY)
			}, s.prototype.updatePosition = function(t, e) {
				this.includeLastPosition || (this.extendBoundsByPoint(this.lastX, this.lastY), this.includeLastPosition = !0), this.lastX = t, this.lastY = e, this.extendBoundsByPoint(t, e)
			}, s.prototype.$measureContentBounds = function(t) {
				this.minX === 1 / 0 ? t.setEmpty() : t.setTo(this.minX, this.minY, this.maxX - this.minX, this.maxY - this.minY)
			}, s.prototype.$hitTest = function(e, n) {
				var r = this.$targetDisplay,
					s = r.$getInvertedConcatenatedMatrix(),
					h = s.a * e + s.c * n + s.tx,
					u = s.b * e + s.d * n + s.ty,
					o = t.sys.canvasHitTestBuffer;
				o.resize(3, 3);
				var a = this.$renderNode,
					c = t.Matrix.create();
				c.identity(), c.translate(1 - h, 1 - u), t.sys.canvasRenderer.drawNodeToBuffer(a, o, c, !0), t.Matrix.release(c);
				try {
					if (0 === o.getPixels(1, 1)[3]) return null
				} catch (e) {
					throw new Error(t.sys.tr(1039))
				}
				return r
			}, s.prototype.$onRemoveFromStage = function() {
				this.$renderNode && this.$renderNode.clean(), t.nativeRender && egret_native.NativeDisplayObject.disposeGraphicData(this)
			}, s
		}(t.HashObject);
		t.Graphics = u, __reflect(u.prototype, "egret.Graphics")
	}(egret || (egret = {})),
	function(t) {
		var e = Math.PI,
			n = 2 * e,
			r = e / 180,
			s = [],
			h = function(h) {
				function u(t, e, n, r, s, u) {
					void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 1), void 0 === s && (s = 0), void 0 === u && (u = 0);
					var o = h.call(this) || this;
					return o.a = t, o.b = e, o.c = n, o.d = r, o.tx = s, o.ty = u, o
				}
				return __extends(u, h), u.release = function(t) {
					t && s.push(t)
				}, u.create = function() {
					var t = s.pop();
					return t || (t = new u), t
				}, u.prototype.clone = function() {
					return new u(this.a, this.b, this.c, this.d, this.tx, this.ty)
				}, u.prototype.concat = function(t) {
					var e = this.a * t.a,
						n = 0,
						r = 0,
						s = this.d * t.d,
						h = this.tx * t.a + t.tx,
						u = this.ty * t.d + t.ty;
					0 === this.b && 0 === this.c && 0 === t.b && 0 === t.c || (e += this.b * t.c, s += this.c * t.b, n += this.a * t.b + this.b * t.d, r += this.c * t.a + this.d * t.c, h += this.ty * t.c, u += this.tx * t.b), this.a = e, this.b = n, this.c = r, this.d = s, this.tx = h, this.ty = u
				}, u.prototype.copyFrom = function(t) {
					return this.a = t.a, this.b = t.b, this.c = t.c, this.d = t.d, this.tx = t.tx, this.ty = t.ty, this
				}, u.prototype.identity = function() {
					this.a = this.d = 1, this.b = this.c = this.tx = this.ty = 0
				}, u.prototype.invert = function() {
					this.$invertInto(this)
				}, u.prototype.$invertInto = function(t) {
					var e = this.a,
						n = this.b,
						r = this.c,
						s = this.d,
						h = this.tx,
						u = this.ty;
					if (0 == n && 0 == r) return t.b = t.c = 0, void(0 == e || 0 == s ? t.a = t.d = t.tx = t.ty = 0 : (e = t.a = 1 / e, s = t.d = 1 / s, t.tx = -e * h, t.ty = -s * u));
					var o = e * s - n * r;
					if (0 != o) {
						o = 1 / o;
						var a = t.a = s * o;
						n = t.b = -n * o, r = t.c = -r * o, s = t.d = e * o, t.tx = -(a * h + r * u), t.ty = -(n * h + s * u)
					} else t.identity()
				}, u.prototype.rotate = function(e) {
					if (0 != (e = +e)) {
						e /= r;
						var n = t.NumberUtils.cos(e),
							s = t.NumberUtils.sin(e),
							h = this.a,
							u = this.b,
							o = this.c,
							a = this.d,
							c = this.tx,
							f = this.ty;
						this.a = h * n - u * s, this.b = h * s + u * n, this.c = o * n - a * s, this.d = o * s + a * n, this.tx = c * n - f * s, this.ty = c * s + f * n
					}
				}, u.prototype.scale = function(t, e) {
					1 !== t && (this.a *= t, this.c *= t, this.tx *= t), 1 !== e && (this.b *= e, this.d *= e, this.ty *= e)
				}, u.prototype.setTo = function(t, e, n, r, s, h) {
					return this.a = t, this.b = e, this.c = n, this.d = r, this.tx = s, this.ty = h, this
				}, u.prototype.transformPoint = function(e, n, r) {
					var s = this.a * e + this.c * n + this.tx,
						h = this.b * e + this.d * n + this.ty;
					return r ? (r.setTo(s, h), r) : new t.Point(s, h)
				}, u.prototype.translate = function(t, e) {
					this.tx += t, this.ty += e
				}, u.prototype.equals = function(t) {
					return this.a == t.a && this.b == t.b && this.c == t.c && this.d == t.d && this.tx == t.tx && this.ty == t.ty
				}, u.prototype.prepend = function(t, e, n, r, s, h) {
					var u = this.tx;
					if (1 != t || 0 != e || 0 != n || 1 != r) {
						var o = this.a,
							a = this.c;
						this.a = o * t + this.b * n, this.b = o * e + this.b * r, this.c = a * t + this.d * n, this.d = a * e + this.d * r
					}
					return this.tx = u * t + this.ty * n + s, this.ty = u * e + this.ty * r + h, this
				}, u.prototype.append = function(t, e, n, r, s, h) {
					var u = this.a,
						o = this.b,
						a = this.c,
						c = this.d;
					return 1 == t && 0 == e && 0 == n && 1 == r || (this.a = t * u + e * a, this.b = t * o + e * c, this.c = n * u + r * a, this.d = n * o + r * c), this.tx = s * u + h * a + this.tx, this.ty = s * o + h * c + this.ty, this
				}, u.prototype.deltaTransformPoint = function(e) {
					var n = this.a * e.x + this.c * e.y,
						r = this.b * e.x + this.d * e.y;
					return new t.Point(n, r)
				}, u.prototype.toString = function() {
					return "(a=" + this.a + ", b=" + this.b + ", c=" + this.c + ", d=" + this.d + ", tx=" + this.tx + ", ty=" + this.ty + ")"
				}, u.prototype.createBox = function(e, n, s, h, u) {
					if (void 0 === s && (s = 0), void 0 === h && (h = 0), void 0 === u && (u = 0), 0 !== s) {
						s /= r;
						var o = t.NumberUtils.cos(s),
							a = t.NumberUtils.sin(s);
						this.a = o * e, this.b = a * n, this.c = -a * e, this.d = o * n
					} else this.a = e, this.b = 0, this.c = 0, this.d = n;
					this.tx = h, this.ty = u
				}, u.prototype.createGradientBox = function(t, e, n, r, s) {
					void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 0), this.createBox(t / 1638.4, e / 1638.4, n, r + t / 2, s + e / 2)
				}, u.prototype.$transformBounds = function(t) {
					var e = this.a,
						n = this.b,
						r = this.c,
						s = this.d,
						h = this.tx,
						u = this.ty,
						o = t.x,
						a = t.y,
						c = o + t.width,
						f = a + t.height,
						l = e * o + r * a + h,
						v = n * o + s * a + u,
						g = e * c + r * a + h,
						b = n * c + s * a + u,
						d = e * c + r * f + h,
						m = n * c + s * f + u,
						_ = e * o + r * f + h,
						p = n * o + s * f + u,
						w = 0;
					l > g && (w = l, l = g, g = w), d > _ && (w = d, d = _, _ = w), t.x = Math.floor(l < d ? l : d), t.width = Math.ceil((g > _ ? g : _) - t.x), v > b && (w = v, v = b, b = w), m > p && (w = m, m = p, p = w), t.y = Math.floor(v < m ? v : m), t.height = Math.ceil((b > p ? b : p) - t.y)
				}, u.prototype.getDeterminant = function() {
					return this.a * this.d - this.b * this.c
				}, u.prototype.$getScaleX = function() {
					var t = this;
					if (0 == t.b) return t.a;
					var e = Math.sqrt(t.a * t.a + t.b * t.b);
					return this.getDeterminant() < 0 ? -e : e
				}, u.prototype.$getScaleY = function() {
					var t = this;
					if (0 == t.c) return t.d;
					var e = Math.sqrt(t.c * t.c + t.d * t.d);
					return this.getDeterminant() < 0 ? -e : e
				}, u.prototype.$getSkewX = function() {
					return this.d < 0 ? Math.atan2(this.d, this.c) + e / 2 : Math.atan2(this.d, this.c) - e / 2
				}, u.prototype.$getSkewY = function() {
					return this.a < 0 ? Math.atan2(this.b, this.a) - e : Math.atan2(this.b, this.a)
				}, u.prototype.$updateScaleAndRotation = function(e, s, h, u) {
					if (!(0 != h && h != n || 0 != u && u != n)) return this.a = e, this.b = this.c = 0, void(this.d = s);
					h /= r, u /= r;
					var o = t.NumberUtils.cos(h),
						a = t.NumberUtils.sin(h);
					h == u ? (this.a = o * e, this.b = a * e) : (this.a = t.NumberUtils.cos(u) * e, this.b = t.NumberUtils.sin(u) * e), this.c = -a * s, this.d = o * s
				}, u.prototype.$preMultiplyInto = function(t, e) {
					var n = t.a * this.a,
						r = 0,
						s = 0,
						h = t.d * this.d,
						u = t.tx * this.a + this.tx,
						o = t.ty * this.d + this.ty;
					0 === t.b && 0 === t.c && 0 === this.b && 0 === this.c || (n += t.b * this.c, h += t.c * this.b, r += t.a * this.b + t.b * this.d, s += t.c * this.a + t.d * this.c, u += t.ty * this.c, o += t.tx * this.b), e.a = n, e.b = r, e.c = s, e.d = h, e.tx = u, e.ty = o
				}, u
			}(t.HashObject);
		t.Matrix = h, __reflect(h.prototype, "egret.Matrix"), t.$TempMatrix = new h
	}(egret || (egret = {})),
	function(t) {
		var e = [],
			n = function(n) {
				function r(t, e, r, s) {
					void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === s && (s = 0);
					var h = n.call(this) || this;
					return h.x = t, h.y = e, h.width = r, h.height = s, h
				}
				return __extends(r, n), r.release = function(t) {
					t && e.push(t)
				}, r.create = function() {
					var t = e.pop();
					return t || (t = new r), t
				}, Object.defineProperty(r.prototype, "right", {
					get: function() {
						return this.x + this.width
					},
					set: function(t) {
						this.width = t - this.x
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(r.prototype, "bottom", {
					get: function() {
						return this.y + this.height
					},
					set: function(t) {
						this.height = t - this.y
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(r.prototype, "left", {
					get: function() {
						return this.x
					},
					set: function(t) {
						this.width += this.x - t, this.x = t
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(r.prototype, "top", {
					get: function() {
						return this.y
					},
					set: function(t) {
						this.height += this.y - t, this.y = t
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(r.prototype, "topLeft", {
					get: function() {
						return new t.Point(this.left, this.top)
					},
					set: function(t) {
						this.top = t.y, this.left = t.x
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(r.prototype, "bottomRight", {
					get: function() {
						return new t.Point(this.right, this.bottom)
					},
					set: function(t) {
						this.bottom = t.y, this.right = t.x
					},
					enumerable: !0,
					configurable: !0
				}), r.prototype.copyFrom = function(t) {
					return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this
				}, r.prototype.setTo = function(t, e, n, r) {
					return this.x = t, this.y = e, this.width = n, this.height = r, this
				}, r.prototype.contains = function(t, e) {
					return this.x <= t && this.x + this.width >= t && this.y <= e && this.y + this.height >= e
				}, r.prototype.intersection = function(t) {
					return this.clone().$intersectInPlace(t)
				}, r.prototype.inflate = function(t, e) {
					this.x -= t, this.width += 2 * t, this.y -= e, this.height += 2 * e
				}, r.prototype.$intersectInPlace = function(t) {
					var e = this.x,
						n = this.y,
						r = t.x,
						s = t.y,
						h = Math.max(e, r),
						u = Math.min(e + this.width, r + t.width);
					if (h <= u) {
						var o = Math.max(n, s),
							a = Math.min(n + this.height, s + t.height);
						if (o <= a) return this.setTo(h, o, u - h, a - o), this
					}
					return this.setEmpty(), this
				}, r.prototype.intersects = function(t) {
					return Math.max(this.x, t.x) <= Math.min(this.right, t.right) && Math.max(this.y, t.y) <= Math.min(this.bottom, t.bottom)
				}, r.prototype.isEmpty = function() {
					return this.width <= 0 || this.height <= 0
				}, r.prototype.setEmpty = function() {
					this.x = 0, this.y = 0, this.width = 0, this.height = 0
				}, r.prototype.clone = function() {
					return new r(this.x, this.y, this.width, this.height)
				}, r.prototype.containsPoint = function(t) {
					return this.x <= t.x && this.x + this.width > t.x && this.y <= t.y && this.y + this.height > t.y
				}, r.prototype.containsRect = function(t) {
					var e = t.x + t.width,
						n = t.y + t.height,
						r = this.x + this.width,
						s = this.y + this.height;
					return t.x >= this.x && t.x < r && t.y >= this.y && t.y < s && e > this.x && e <= r && n > this.y && n <= s
				}, r.prototype.equals = function(t) {
					return this === t || this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height
				}, r.prototype.inflatePoint = function(t) {
					this.inflate(t.x, t.y)
				}, r.prototype.offset = function(t, e) {
					this.x += t, this.y += e
				}, r.prototype.offsetPoint = function(t) {
					this.offset(t.x, t.y)
				}, r.prototype.toString = function() {
					return "(x=" + this.x + ", y=" + this.y + ", width=" + this.width + ", height=" + this.height + ")"
				}, r.prototype.union = function(t) {
					var e = this.clone();
					if (t.isEmpty()) return e;
					if (e.isEmpty()) return e.copyFrom(t), e;
					var n = Math.min(e.x, t.x),
						r = Math.min(e.y, t.y);
					return e.setTo(n, r, Math.max(e.right, t.right) - n, Math.max(e.bottom, t.bottom) - r), e
				}, r.prototype.$getBaseWidth = function(t) {
					var e = Math.abs(Math.cos(t)),
						n = Math.abs(Math.sin(t));
					return e * this.width + n * this.height
				}, r.prototype.$getBaseHeight = function(t) {
					var e = Math.abs(Math.cos(t));
					return Math.abs(Math.sin(t)) * this.width + e * this.height
				}, r
			}(t.HashObject);
		t.Rectangle = n, __reflect(n.prototype, "egret.Rectangle"), t.$TempRectangle = new n
	}(egret || (egret = {})),
	function(t) {
		t.$locale_strings = t.$locale_strings || {}, t.$locale_strings.en_US = t.$locale_strings.en_US || {};
		var e = t.$locale_strings.en_US;
		e[1001] = "Could not find Egret entry class: {0}。", e[1002] = "Egret entry class '{0}' must inherit from egret.DisplayObject.", e[1003] = "Parameter {0} must be non-null.", e[1004] = "An object cannot be added as a child to one of it's children (or children's children, etc.).", e[1005] = "An object cannot be added as a child of itself.", e[1006] = "The supplied DisplayObject must be a child of the caller.", e[1007] = "An index specified for a parameter was out of range.", e[1008] = "Instantiate singleton error，singleton class {0} can not create multiple instances.", e[1009] = 'the Class {0} cannot use the property "{1}"', e[1010] = 'the property "{1}" of the Class "{0}" is readonly', e[1011] = "Stream Error. URL: {0}", e[1012] = "The type of parameter {0} must be Class.", e[1013] = "Variable assignment is NaN, please see the code!", e[1014] = 'the constant "{1}" of the Class "{0}" is read-only', e[1015] = "xml not found!", e[1016] = "{0}has been obsoleted", e[1017] = "The format of JSON file is incorrect: {0}\ndata: {1}", e[1018] = "the scale9Grid is not correct", e[1019] = "Network ab:{0}", e[1020] = "Cannot initialize Shader", e[1021] = "Current browser does not support webgl", e[1022] = "{0} ArgumentError", e[1023] = "This method is not available in the ScrollView!", e[1025] = "end of the file", e[1026] = "! EncodingError The code point {0} could not be encoded.", e[1027] = "DecodingError", e[1028] = ". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.", e[1029] = "Function.prototype.bind - what is trying to be bound is not callable", e[1033] = "Photos can not be used across domains toDataURL to convert base64", e[1034] = 'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.', e[1035] = "Native does not support this feature!", e[1036] = "Sound has stopped, please recall Sound.play () to play the sound!", e[1037] = "Non-load the correct blob!", e[1038] = "XML format error!", e[1039] = "Cross domains pictures can not get pixel information!", e[1040] = "hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.", e[1041] = "{0} is deprecated, please use {1} replace", e[1042] = "The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.", e[1043] = "Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.", e[1044] = "The current version of the Runtime does not support video playback, please use the latest version", e[1045] = "The resource url is not found", e[1046] = "BitmapText no corresponding characters: {0}, please check the configuration file", e[1047] = "egret.localStorage.setItem save failed,key={0}&value={1}", e[1048] = "Video loading failed", e[1049] = "In the absence of sound is not allowed to play after loading", e[1050] = "ExternalInterface calls the method without js registration: {0}", e[1051] = "runtime only support webgl render mode", e[1052] = "network request timeout{0}", e[3e3] = "Theme configuration file failed to load: {0}", e[3001] = "Cannot find the skin name which is configured in Theme: {0}", e[3002] = 'Index:"{0}" is out of the collection element index range', e[3003] = "Cannot be available in this component. If this component is container, please continue to use", e[3004] = "addChild(){0}addElement() replace", e[3005] = "addChildAt(){0}addElementAt() replace", e[3006] = "removeChild(){0}removeElement() replace", e[3007] = "removeChildAt(){0}removeElementAt() replace", e[3008] = "setChildIndex(){0}setElementIndex() replace", e[3009] = "swapChildren(){0}swapElements() replace", e[3010] = "swapChildrenAt(){0}swapElementsAt() replace", e[3011] = 'Index:"{0}" is out of the visual element index range', e[3012] = "This method is not available in Scroller component!", e[3013] = "UIStage is GUI root container, and only one such instant is in the display list！", e[3014] = "set fullscreen error", e[3100] = "Current browser does not support WebSocket", e[3101] = "Please connect Socket firstly", e[3102] = "Please set the type of binary type", e[3200] = "getResByUrl must be called after loadConfig", e[4e3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)", e[4001] = "Abstract class can not be instantiated!", e[4002] = "Unnamed data!", e[4003] = "Nonsupport version!", e[4500] = "The platform does not support {0} adapter mode and has been automatically replaced with {1} mode, please modify your code adapter logic"
	}(egret || (egret = {})),
	function(t) {
		t.JointStyle = {
			BEVEL: "bevel",
			MITER: "miter",
			ROUND: "round"
		}
	}(egret || (egret = {})),
	function(t) {
		t.$locale_strings = t.$locale_strings || {}, t.$locale_strings.zh_CN = t.$locale_strings.zh_CN || {};
		var e = t.$locale_strings.zh_CN;
		e[1001] = "找不到Egret入口类: {0}。", e[1002] = "Egret入口类 {0} 必须继承自egret.DisplayObject。", e[1003] = "参数 {0} 不能为 null。", e[1004] = "无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。", e[1005] = "不能将对象添加为其自身的子对象。", e[1006] = "提供的 DisplayObject 必须是调用者的子级。", e[1007] = "为参数指定的索引不在范围内。", e[1008] = "实例化单例出错，不允许实例化多个 {0} 对象。", e[1009] = "类 {0} 不可以使用属性 {1}", e[1010] = "类 {0} 属性 {1} 是只读的", e[1011] = "流错误。URL: {0}", e[1012] = "参数 {0} 的类型必须为 Class。", e[1013] = "变量赋值为NaN，请查看代码！", e[1014] = "类 {0} 常量 {1} 是只读的", e[1015] = "xml not found!", e[1016] = "{0}已经废弃", e[1017] = "JSON文件格式不正确: {0}\ndata: {1}", e[1018] = "9宫格设置错误", e[1019] = "网络异常:{0}", e[1020] = "无法初始化着色器", e[1021] = "当前浏览器不支持webgl", e[1022] = "{0} ArgumentError", e[1023] = "此方法在ScrollView内不可用!", e[1025] = "遇到文件尾", e[1026] = "EncodingError! The code point {0} could not be encoded.", e[1027] = "DecodingError", e[1028] = "调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。", e[1029] = "Function.prototype.bind - what is trying to be bound is not callable", e[1033] = "跨域图片不可以使用toDataURL来转换成base64", e[1034] = '音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。', e[1035] = "Native 下暂未实现此功能！", e[1036] = "声音已停止，请重新调用 Sound.play() 来播放声音！", e[1037] = "非正确的blob加载！", e[1038] = "XML 格式错误!", e[1039] = "跨域图片不能获取像素信息!", e[1040] = "hitTestPoint 不能对跨域图片进行检测! 请检查该显示对象内是否含有跨域元素", e[1041] = "{0} 已废弃,请使用 {1} 代替", e[1042] = "drawToTexture方法传入的区域各个参数需要为整数,否则某些浏览器绘制会出现异常", e[1043] = "{0} 中存在编译错误，属性名 : {1}，属性值 : {2}", e[1044] = "当前的 runtime 版本不支持视频播放,请使用最新的版本", e[1045] = "没有设置要加载的资源地址", e[1046] = "BitmapText 找不到对应字符:{0}，请检查配置文件", e[1047] = "egret.localStorage.setItem保存失败,key={0}&value={1}", e[1048] = "视频加载失败", e[1049] = "声音在没有加载完之前不允许播放", e[1050] = "ExternalInterface调用了js没有注册的方法: {0}", e[1051] = "runtime 只支持 webgl 渲染模式", e[1052] = "网络请求超时:{0}", e[3e3] = "主题配置文件加载失败: {0}", e[3001] = "找不到主题中所配置的皮肤类名: {0}", e[3002] = '索引:"{0}"超出集合元素索引范围', e[3003] = "在此组件中不可用，若此组件为容器类，请使用", e[3004] = "addChild(){0}addElement()代替", e[3005] = "addChildAt(){0}addElementAt()代替", e[3006] = "removeChild(){0}removeElement()代替", e[3007] = "removeChildAt(){0}removeElementAt()代替", e[3008] = "setChildIndex(){0}setElementIndex()代替", e[3009] = "swapChildren(){0}swapElements()代替", e[3010] = "swapChildrenAt(){0}swapElementsAt()代替", e[3011] = '索引:"{0}"超出可视元素索引范围', e[3012] = "此方法在Scroller组件内不可用!", e[3013] = "UIStage是GUI根容器，只能有一个此实例在显示列表中！", e[3014] = "设置全屏模式失败", e[3100] = "当前浏览器不支持WebSocket", e[3101] = "请先连接WebSocket", e[3102] = "请先设置type为二进制类型", e[3200] = "getResByUrl 必须在 loadConfig 之后调用", e[4e3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)", e[4001] = "Abstract class can not be instantiated!", e[4002] = "Unnamed data!", e[4003] = "Nonsupport version!", e[4500] = "该平台不支持 {0} 适配模式，已经自动替换为 {1} 模式，请修改您的代码适配逻辑"
	}(egret || (egret = {})),
	function(t) {
		t.localStorage || (t.localStorage = {})
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = [], e.$pushSoundChannel = function(t) {
			n.indexOf(t) < 0 && n.push(t)
		}, e.$popSoundChannel = function(t) {
			var e = n.indexOf(t);
			return e >= 0 && (n.splice(e, 1), !0)
		}
	}(egret || (egret = {})), egret || (egret = {}), egret || (egret = {}),
	function(t) {
		var e;
		(e = t.HttpMethod || (t.HttpMethod = {})).GET = "GET", e.POST = "POST"
	}(egret || (egret = {})), egret || (egret = {}),
	function(t) {
		var e = function() {
			function t() {}
			return t.TEXT = "text", t.ARRAY_BUFFER = "arraybuffer", t
		}();
		t.HttpResponseType = e, __reflect(e.prototype, "egret.HttpResponseType")
	}(egret || (egret = {})), egret || (egret = {}),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(n) {
			function r(r) {
				var s = n.call(this) || this;
				return s.isStage = !1, s.$renderNode = new e.BitmapNode, s.renderBuffer = null, s.offsetX = 0, s.offsetY = 0, s.offsetMatrix = new t.Matrix, s.$canvasScaleX = 1, s.$canvasScaleY = 1, s.root = r, s.isStage = r instanceof t.Stage, s
			}
			return __extends(r, n), r.create = function(n) {
				var r = new t.sys.DisplayList(n);
				try {
					var s = new e.RenderBuffer;
					r.renderBuffer = s
				} catch (t) {
					return null
				}
				return r.root = n, r
			}, r.prototype.$getRenderNode = function() {
				return this.$renderNode
			}, r.prototype.setClipRect = function(t, e) {
				t *= r.$canvasScaleX, e *= r.$canvasScaleY, this.renderBuffer.resize(t, e)
			}, r.prototype.drawToSurface = function() {
				var n;
				this.$canvasScaleX = this.offsetMatrix.a = r.$canvasScaleX, this.$canvasScaleY = this.offsetMatrix.d = r.$canvasScaleY, this.isStage || this.changeSurfaceSize();
				var s = this.renderBuffer;
				if (s.clear(), n = e.systemRenderer.render(this.root, s, this.offsetMatrix), !this.isStage) {
					var h = s.surface,
						u = this.$renderNode;
					u.drawData.length = 0;
					var o = h.width,
						a = h.height;
					this.bitmapData ? (this.bitmapData.source = h, this.bitmapData.width = o, this.bitmapData.height = a) : this.bitmapData = new t.BitmapData(h), u.image = this.bitmapData, u.imageWidth = o, u.imageHeight = a, u.drawImage(0, 0, o, a, -this.offsetX, -this.offsetY, o / this.$canvasScaleX, a / this.$canvasScaleY)
				}
				return n
			}, r.prototype.changeSurfaceSize = function() {
				this.root;
				var t = this.offsetX,
					e = this.offsetY,
					n = this.root.$getOriginalBounds(),
					r = this.$canvasScaleX,
					s = this.$canvasScaleY;
				this.offsetX = -n.x, this.offsetY = -n.y, this.offsetMatrix.setTo(this.offsetMatrix.a, 0, 0, this.offsetMatrix.d, this.offsetX, this.offsetY);
				var h = this.renderBuffer,
					u = Math.max(257, n.width * r),
					o = Math.max(257, n.height * s);
				this.offsetX == t && this.offsetY == e && h.surface.width == u && h.surface.height == o || h.resize(u, o)
			}, r.$setCanvasScale = function(e, n) {
				r.$canvasScaleX = e, r.$canvasScaleY = n, t.nativeRender && egret_native.nrSetCanvasScaleFactor(r.$canvasScaleFactor, e, n)
			}, r.$canvasScaleFactor = 1, r.$canvasScaleX = 1, r.$canvasScaleY = 1, r
		}(t.HashObject), e.DisplayList = n, __reflect(n.prototype, "egret.sys.DisplayList")
	}(egret || (egret = {})), egret || (egret = {}), egret || (egret = {}),
	function(t) {
		! function(e) {
			var n = function(n) {
				function s(e, r, s) {
					var h = n.call(this) || this;
					return h.isPlaying = !1, h.entryClassName = s, h.stage = r, h.screenDisplayList = h.createDisplayList(r, e), h.showFPS = !1, h.showLog = !1, h.stageDisplayList = null, t.nativeRender && (egret_native.rootWebGLBuffer = e), h
				}
				return __extends(s, n), s.prototype.createDisplayList = function(t, n) {
					var r = new e.DisplayList(t);
					return r.renderBuffer = n, t.$displayList = r, r
				}, s.prototype.start = function() {
					!this.isPlaying && this.stage && (e.$TempStage = e.$TempStage || this.stage, this.isPlaying = !0, this.root || this.initialize(), t.ticker.$addPlayer(this))
				}, s.prototype.initialize = function() {
					var e;
					if (this.entryClassName && (e = t.getDefinitionByName(this.entryClassName)), e) {
						var n = new e;
						this.root = n, n instanceof t.DisplayObject && this.stage.addChild(n)
					}
				}, s.prototype.stop = function() {
					this.pause(), this.stage = null
				}, s.prototype.pause = function() {
					this.isPlaying && (this.isPlaying = !1, t.ticker.$removePlayer(this))
				}, s.prototype.$render = function(e, n) {
					if (t.nativeRender) return egret_native.updateNativeRender(), void egret_native.nrRender();
					var s = this.stage,
						o = t.getTimer(),
						a = s.$displayList.drawToSurface(),
						c = t.getTimer();
					e && (this.showFPS && h.update(a, c - o, n), r && (u || (u = new f(this.stage)), u.update(a, c - o, n)))
				}, s.prototype.updateStageSize = function(e, n, r, s) {
					var h = this.stage;
					h.$stageWidth = e, h.$stageHeight = n, h.$displayWidth = r, h.$displayHeight = s, t.nativeRender ? egret_native.nrResize(e, n) : (this.screenDisplayList.setClipRect(e, n), this.stageDisplayList && this.stageDisplayList.setClipRect(e, n)), h.dispatchEventWith(t.Event.RESIZE)
				}, s.prototype.displayFPS = function(n, r, s, u) {
					if ((r = !!r) && (t.log = function() {
							for (var t = arguments.length, n = "", r = 0; r < t; r++) n += arguments[r] + " ";
							e.$logToFPS(n), console.log.apply(console, v(arguments))
						}, t.warn = function() {
							for (var t = arguments.length, n = "", r = 0; r < t; r++) n += arguments[r] + " ";
							e.$warnToFPS(n), console.warn.apply(console, v(arguments))
						}, t.error = function() {
							for (var t = arguments.length, n = "", r = 0; r < t; r++) n += arguments[r] + " ";
							e.$errorToFPS(n), console.error.apply(console, v(arguments))
						}), this.showFPS = !!n, this.showLog = r, !h) {
						h = new FPS(this.stage, n, r, s, u);
						for (var f = o.length, l = 0; l < f; l++) h.updateInfo(o[l]);
						o = null;
						var g = a.length;
						for (l = 0; l < g; l++) h.updateWarn(a[l]);
						a = null;
						var b = c.length;
						for (l = 0; l < b; l++) h.updateError(c[l]);
						c = null
					}
				}, s
			}(t.HashObject);
			e.Player = n, __reflect(n.prototype, "egret.sys.Player"), e.getPerformace = function() {
				return u ? u.performanceInfo : null
			};
			var r = !1,
				s = 5e3;
			e.startGetPerformance = function(t) {
				r = !0, t && (s = t)
			}, e.stopGetPerformance = function() {
				r = !1, u.clearPerformaceInfo()
			};
			var h, u, o = [],
				a = [],
				c = [];
			e.$logToFPS = function(t) {
				h ? h.updateInfo(t) : o.push(t)
			}, e.$warnToFPS = function(t) {
				h ? h.updateWarn(t) : a.push(t)
			}, e.$errorToFPS = function(t) {
				h ? h.updateError(t) : c.push(t)
			};
			var f = function() {
				function e(t) {
					this.totalTime = 0, this.totalTick = 0, this.lastTime = 0, this.drawCalls = 0, this.totalTime = 0, this.totalTick = 0, this.lastTime = 0, this.drawCalls = 0
				}
				return Object.defineProperty(e.prototype, "performanceInfo", {
					get: function() {
						return {
							drawcall: this.curDrawCall,
							fps: this.curFps
						}
					},
					enumerable: !0,
					configurable: !0
				}), e.prototype.clearPerformaceInfo = function() {
					this.curDrawCall = void 0, this.curFps = void 0
				}, e.prototype.update = function(e, n, r) {
					var h = t.getTimer();
					if (this.totalTime += h - this.lastTime, this.lastTime = h, this.totalTick++, this.drawCalls += e, this.totalTime >= s) {
						var u = Math.min(Math.ceil(1e3 * this.totalTick / this.totalTime), t.ticker.$frameRate),
							o = Math.round(this.drawCalls / this.totalTick);
						this.totalTick = 0, this.totalTime = this.totalTime % 1e3, this.drawCalls = 0, this.curDrawCall = o, this.curFps = u
					}
				}, e
			}();
			__reflect(f.prototype, "PerformanceCollect");
			var l = function() {
				function e(e, n, r, s, h) {
					var u;
					this.showFPS = n, this.showLog = r, this.logFilter = s, this.styles = h, this.infoLines = [], this.totalTime = 0, this.totalTick = 0, this.lastTime = 0, this.drawCalls = 0, this.costRender = 0, this.costTicker = 0, this.infoLines = [], this.totalTime = 0, this.totalTick = 0, this.lastTime = 0, this.drawCalls = 0, this.costRender = 0, this.costTicker = 0, this._stage = e, this.showFPS = n, this.showLog = r, this.logFilter = s, this.styles = h, this.fpsDisplay = new t.FPSDisplay(e, n, r, s, h);
					try {
						u = s ? new RegExp(s) : null
					} catch (e) {
						t.log(e)
					}
					this.filter = function(t) {
						return u ? u.test(t) : !s || 0 == t.indexOf(s)
					}
				}
				return e.prototype.update = function(e, n, r) {
					var s = t.getTimer();
					if (this.totalTime += s - this.lastTime, this.lastTime = s, this.totalTick++, this.drawCalls += e, this.costRender += n, this.costTicker += r, this.totalTime >= 1e3) {
						var h = Math.min(Math.ceil(1e3 * this.totalTick / this.totalTime), t.ticker.$frameRate),
							u = Math.round(this.drawCalls / this.totalTick),
							o = Math.round(this.costRender / this.totalTick),
							a = Math.round(this.costTicker / this.totalTick);
						this.fpsDisplay.update({
							fps: h,
							draw: u,
							costTicker: a,
							costRender: o
						}), this.totalTick = 0, this.totalTime = this.totalTime % 1e3, this.drawCalls = 0, this.costRender = 0, this.costTicker = 0
					}
				}, e.prototype.updateInfo = function(t) {
					t && this.showLog && this.filter(t) && this.fpsDisplay.updateInfo(t)
				}, e.prototype.updateWarn = function(t) {
					t && this.showLog && this.filter(t) && (this.fpsDisplay.updateWarn ? this.fpsDisplay.updateWarn(t) : this.fpsDisplay.updateInfo("[Warning]" + t))
				}, e.prototype.updateError = function(t) {
					t && this.showLog && this.filter(t) && (this.fpsDisplay.updateError ? this.fpsDisplay.updateError(t) : this.fpsDisplay.updateInfo("[Error]" + t))
				}, e
			}();

			function v(t) {
				for (var e = [], n = 0; n < t.length; n++) e.push(t[n]);
				return e
			}
			__reflect(l.prototype, "FPSImpl"), __global.FPS = l, t.warn = function() {}, t.error = function() {}, t.assert = function() {}, t.log = function() {}
		}(t.sys || (t.sys = {}))
	}(egret || (egret = {})),
	function(t) {
		if (t.nativeRender = __global.nativeRender, t.nativeRender) {
			var e = egret_native.nrABIVersion,
				n = egret_native.nrMinEgretVersion;
			if (e < 5) {
				t.nativeRender = !1;
				var r = "需要升级微端版本到 0.1.14 才可以开启原生渲染加速";
				t.sys.$warnToFPS(r), t.warn(r)
			} else e > 5 && (t.nativeRender = !1, r = "需要升级引擎版本到 " + n + " 才可以开启原生渲染加速", t.sys.$warnToFPS(r), t.warn(r))
		}
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function e(t, n, r, s) {
				this.arrayBuffer = t, this.isInvalid = !1;
				var h = new Uint8Array(this.arrayBuffer, 0, 12);
				if (171 !== h[0] || 75 !== h[1] || 84 !== h[2] || 88 !== h[3] || 32 !== h[4] || 49 !== h[5] || 49 !== h[6] || 187 !== h[7] || 13 !== h[8] || 10 !== h[9] || 26 !== h[10] || 10 !== h[11]) return this.isInvalid = !0, void console.error("texture missing KTX identifier");
				var u = Uint32Array.BYTES_PER_ELEMENT,
					o = new DataView(this.arrayBuffer, 12, 13 * u),
					a = 67305985 === o.getUint32(0, !0);
				this.glType = o.getUint32(1 * u, a), this.glTypeSize = o.getUint32(2 * u, a), this.glFormat = o.getUint32(3 * u, a), this.glInternalFormat = o.getUint32(4 * u, a), this.glBaseInternalFormat = o.getUint32(5 * u, a), this.pixelWidth = o.getUint32(6 * u, a), this.pixelHeight = o.getUint32(7 * u, a), this.pixelDepth = o.getUint32(8 * u, a), this.numberOfArrayElements = o.getUint32(9 * u, a), this.numberOfFaces = o.getUint32(10 * u, a), this.numberOfMipmapLevels = o.getUint32(11 * u, a), this.bytesOfKeyValueData = o.getUint32(12 * u, a), 0 === this.glType ? (this.numberOfMipmapLevels = Math.max(1, this.numberOfMipmapLevels), 0 !== this.pixelHeight && 0 === this.pixelDepth ? 0 === this.numberOfArrayElements ? this.numberOfFaces === n ? this.loadType = e.COMPRESSED_2D : console.error("number of faces expected" + n + ", but found " + this.numberOfFaces) : console.error("texture arrays not currently supported") : console.error("only 2D textures currently supported")) : console.error("only compressed formats currently supported")
			}
			return e.prototype.uploadLevels = function(t, n) {
				this.loadType === e.COMPRESSED_2D && this._upload2DCompressedLevels(t, n)
			}, e.prototype._upload2DCompressedLevels = function(n, r) {
				n.clearCompressedTextureData();
				for (var s = n.compressedTextureData, h = e.HEADER_LEN + this.bytesOfKeyValueData, u = this.pixelWidth, o = this.pixelHeight, a = r ? this.numberOfMipmapLevels : 1, c = 0; c < a; c++) {
					var f = new Int32Array(this.arrayBuffer, h, 1)[0];
					h += 4;
					for (var l = [], v = 0; v < this.numberOfFaces; v++) {
						var g = new Uint8Array(this.arrayBuffer, h, f),
							b = new t.CompressedTextureData;
						b.glInternalFormat = this.glInternalFormat, b.width = u, b.height = o, b.byteArray = g, b.face = v, b.level = c, l.push(b), h += f, h += 3 - (f + 3) % 4
					}
					s.push(l), u = Math.max(1, .5 * u), o = Math.max(1, .5 * o)
				}
				var d = n.getCompressed2dTextureData();
				d && (n.width = d.width, n.height = d.height)
			}, e.HEADER_LEN = 64, e.COMPRESSED_2D = 0, e.COMPRESSED_3D = 1, e.TEX_2D = 2, e.TEX_3D = 3, e
		}();
		t.KTXContainer = e, __reflect(e.prototype, "egret.KTXContainer")
	}(egret || (egret = {})),
	function(t) {
		t.sys || (t.sys = {})
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(e) {
			function n() {
				return e.call(this) || this
			}
			return __extends(n, e), n.prototype.calculateStageSize = function(e, n, r, s, h) {
				var u = n,
					o = r,
					a = s,
					c = h,
					f = n / a || 0,
					l = r / c || 0;
				switch (e) {
					case t.StageScaleMode.EXACT_FIT:
						break;
					case t.StageScaleMode.FIXED_HEIGHT:
						a = Math.round(n / l);
						break;
					case t.StageScaleMode.FIXED_WIDTH:
						c = Math.round(r / f);
						break;
					case t.StageScaleMode.NO_BORDER:
						f > l ? o = Math.round(c * f) : u = Math.round(a * l);
						break;
					case t.StageScaleMode.SHOW_ALL:
						f > l ? u = Math.round(a * l) : o = Math.round(c * f);
						break;
					case t.StageScaleMode.FIXED_NARROW:
						f > l ? a = Math.round(n / l) : c = Math.round(r / f);
						break;
					case t.StageScaleMode.FIXED_WIDE:
						f > l ? c = Math.round(r / f) : a = Math.round(n / l);
						break;
					default:
						a = n, c = r
				}
				return t.Capabilities.runtimeType != t.RuntimeType.WXGAME && (a % 2 != 0 && (a += 1), c % 2 != 0 && (c += 1), u % 2 != 0 && (u += 1), o % 2 != 0 && (o += 1)), {
					stageWidth: a,
					stageHeight: c,
					displayWidth: u,
					displayHeight: o
				}
			}, n
		}(t.HashObject), e.DefaultScreenAdapter = n, __reflect(n.prototype, "egret.sys.DefaultScreenAdapter", ["egret.sys.IScreenAdapter"])
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.NO_SCALE = "noScale", t.SHOW_ALL = "showAll", t.NO_BORDER = "noBorder", t.EXACT_FIT = "exactFit", t.FIXED_WIDTH = "fixedWidth", t.FIXED_HEIGHT = "fixedHeight", t.FIXED_NARROW = "fixedNarrow", t.FIXED_WIDE = "fixedWide", t
		}();
		t.StageScaleMode = e, __reflect(e.prototype, "egret.StageScaleMode")
	}(egret || (egret = {})),
	function(t) {
		var e;
		(e = t.sys || (t.sys = {})).mainCanvas = function(t, e) {
			return console.error("empty sys.mainCanvas = " + t + ", " + e), null
		}, e.createCanvas = function(t, e) {
			return console.error("empty sys.createCanvas = " + t + ", " + e), null
		}, e.resizeContext = function(t, e, n, r) {
			console.error("empty sys.resizeContext = " + t + ", " + e + ", " + n + ", " + r)
		}, e.getContextWebGL = function(t) {
			return console.error("empty sys.getContextWebGL = " + t), null
		}, e.getContext2d = function(t) {
			return console.error("empty sys.getContext2d = " + t), null
		}, e.createTexture = function(t, e) {
			return console.error("empty sys.createTexture = " + e), null
		}, e._createTexture = function(t, e, n, r) {
			return console.error("empty sys._createTexture = " + e + ", " + n + ", " + r), null
		}, e.drawTextureElements = function(t, e, n) {
			return console.error("empty sys.drawTextureElements = " + t + ", " + e + ", " + n), 0
		}, e.measureTextWith = function(t, e) {
			return console.error("empty sys.measureTextWith = " + t + ", " + e), 0
		}, e.createCanvasRenderBufferSurface = function(t, e, n, r) {
			return console.error("empty sys.createCanvasRenderBufferSurface = " + e + ", " + n), null
		}, e.resizeCanvasRenderBuffer = function(t, e, n, r) {
			console.error("empty sys.resizeContext = " + t + ", " + e + ", " + n + ", " + r)
		}
	}(egret || (egret = {})),
	function(t) {
		! function(e) {
			e.$START_TIME = 0, e.$invalidateRenderFlag = !1, e.$requestRenderingFlag = !1;
			var n = function() {
				function n() {
					this.playerList = [], this.callBackList = [], this.thisObjectList = [], this.$frameRate = 30, this.lastTimeStamp = 0, this.costEnterFrame = 0, this.isPaused = !1, this.lastLogicTimeStamp = 0, this.lastRenderTimeStamp = 0, this.lastLogicCost = 0, this.lastRequestRenderingFlag = !1, e.$START_TIME = Date.now(), this.frameDeltaTime = 1e3 / this.$frameRate, this.lastCount = this.frameInterval = Math.round(6e4 / this.$frameRate)
				}
				return n.prototype.$addPlayer = function(t) {
					-1 == this.playerList.indexOf(t) && (this.playerList = this.playerList.concat(), this.playerList.push(t))
				}, n.prototype.$removePlayer = function(t) {
					var e = this.playerList.indexOf(t); - 1 !== e && (this.playerList = this.playerList.concat(), this.playerList.splice(e, 1))
				}, n.prototype.$startTick = function(t, e) {
					-1 == this.getTickIndex(t, e) && (this.concatTick(), this.callBackList.push(t), this.thisObjectList.push(e))
				}, n.prototype.$stopTick = function(t, e) {
					var n = this.getTickIndex(t, e); - 1 != n && (this.concatTick(), this.callBackList.splice(n, 1), this.thisObjectList.splice(n, 1))
				}, n.prototype.getTickIndex = function(t, e) {
					for (var n = this.callBackList, r = this.thisObjectList, s = n.length - 1; s >= 0; s--)
						if (n[s] == t && r[s] == e) return s;
					return -1
				}, n.prototype.concatTick = function() {
					this.callBackList = this.callBackList.concat(), this.thisObjectList = this.thisObjectList.concat()
				}, n.prototype.$setFrameRate = function(t) {
					return !(t <= 0 || this.$frameRate == t || (this.$frameRate = t, t > 60 && (t = 60), this.frameDeltaTime = 1e3 / t, this.lastCount = this.frameInterval = Math.round(6e4 / t), 0))
				}, n.prototype.pause = function() {
					this.isPaused = !0
				}, n.prototype.resume = function() {
					this.isPaused = !1
				}, n.prototype.update = function(e) {
					this.doLogic(), t.lifecycle.isHidden || this.doRender(this.lastLogicCost, this.lastRequestRenderingFlag, e)
				}, n.prototype.doLogic = function() {
					var n = t.getTimer(),
						r = !1;
					if (n - this.lastLogicTimeStamp >= this.frameDeltaTime && (this.lastLogicTimeStamp = n, !this.isPaused)) {
						for (var s = this.callBackList, h = this.thisObjectList, u = s.length, o = 0, a = t.lifecycle.contexts; o < a.length; o++) {
							var c = a[o];
							c.onUpdate && c.onUpdate()
						}
						this.callLaterAsyncs(), r = e.$requestRenderingFlag;
						for (var f = 0; f < u; f++) s[f].call(h[f], n) && (r = !0);
						this.broadcastEnterFrame()
					}
					this.lastLogicCost = t.getTimer() - n, this.lastRequestRenderingFlag = r
				}, n.prototype.doRender = function(e, n, r) {
					var s = t.getTimer(),
						h = s - this.lastRenderTimeStamp;
					if (this.lastRenderTimeStamp = s, h >= this.frameDeltaTime || r) this.lastCount = this.frameInterval;
					else {
						if (this.lastCount -= 1e3, this.lastCount > 0) return void(n && this.render(!1, e));
						this.lastCount += this.frameInterval
					}
					this.render(!0, e)
				}, n.prototype.render = function(t, n) {
					var r = this.playerList,
						s = r.length;
					if (0 != s) {
						this.callLaters(), e.$invalidateRenderFlag && (this.broadcastRender(), e.$invalidateRenderFlag = !1);
						for (var h = 0; h < s; h++) r[h].$render(t, n);
						e.$requestRenderingFlag = !1
					}
				}, n.prototype.broadcastEnterFrame = function() {
					var e = t.DisplayObject.$enterFrameCallBackList,
						n = e.length;
					if (0 != n) {
						e = e.concat();
						for (var r = 0; r < n; r++) e[r].dispatchEventWith(t.Event.ENTER_FRAME)
					}
				}, n.prototype.broadcastRender = function() {
					var e = t.DisplayObject.$renderCallBackList,
						n = e.length;
					if (0 != n) {
						e = e.concat();
						for (var r = 0; r < n; r++) e[r].dispatchEventWith(t.Event.RENDER)
					}
				}, n.prototype.callLaters = function() {
					var e, n, r;
					if (t.$callLaterFunctionList.length > 0 && (e = t.$callLaterFunctionList, t.$callLaterFunctionList = [], n = t.$callLaterThisList, t.$callLaterThisList = [], r = t.$callLaterArgsList, t.$callLaterArgsList = []), e)
						for (var s = e.length, h = 0; h < s; h++) {
							var u = e[h];
							null != u && u.apply(n[h], r[h])
						}
				}, n.prototype.callLaterAsyncs = function() {
					if (t.$callAsyncFunctionList.length > 0) {
						var e = t.$callAsyncFunctionList,
							n = t.$callAsyncThisList,
							r = t.$callAsyncArgsList;
						t.$callAsyncFunctionList = [], t.$callAsyncThisList = [], t.$callAsyncArgsList = [];
						for (var s = 0; s < e.length; s++) {
							var h = e[s];
							null != h && h.apply(n[s], r[s])
						}
					}
				}, n
			}();
			e.SystemTicker = n, __reflect(n.prototype, "egret.sys.SystemTicker")
		}(t.sys || (t.sys = {}))
	}(egret || (egret = {})),
	function(t) {
		! function(e) {
			e.contexts = [], e.isActivate = !0, e.isHidden = !1;
			var n = function() {
				function n() {}
				return n.prototype.pause = function() {
					e.isActivate && (e.isActivate = !1, e.stage.dispatchEvent(new t.Event(t.Event.DEACTIVATE)), e.onPause && e.onPause())
				}, n.prototype.resume = function() {
					e.isActivate || (e.isActivate = !0, e.stage.dispatchEvent(new t.Event(t.Event.ACTIVATE)), e.onResume && e.onResume())
				}, n
			}();
			e.LifecycleContext = n, __reflect(n.prototype, "egret.lifecycle.LifecycleContext"), e.addLifecycleListener = function(t) {
				var r = new n;
				e.contexts.push(r), t(r)
			}
		}(t.lifecycle || (t.lifecycle = {})), t.ticker = new t.sys.SystemTicker
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(e) {
			function n(t) {
				var n = e.call(this) || this;
				return n.maxTouches = 0, n.useTouchesCount = 0, n.touchDownTarget = {}, n.mouseOverTarget = null, n.lastTouchX = -1, n.lastTouchY = -1, n.onEventHook = null, n.disableSysEvent = !1, n.stage = t, n
			}
			return __extends(n, e), n.prototype.$initMaxTouches = function() {
				this.maxTouches = this.stage.$maxTouches
			}, n.prototype.onTouchBegin = function(e, n, r) {
				this.disableSysEvent || (this.onEventHook && this.onEventHook([t.TouchEvent.TOUCH_BEGIN, e, n, r]), this._onTouchBegin(e, n, r))
			}, n.prototype._onTouchBegin = function(e, n, r) {
				if (!(this.useTouchesCount >= this.maxTouches)) {
					this.lastTouchX = e, this.lastTouchY = n;
					var s = this.findTarget(e, n);
					null == this.touchDownTarget[r] && (this.touchDownTarget[r] = s, this.useTouchesCount++), t.TouchEvent.dispatchTouchEvent(s, t.TouchEvent.TOUCH_BEGIN, !0, !0, e, n, r, !0)
				}
			}, n.prototype.onTouchMove = function(e, n, r) {
				this.disableSysEvent || (this.onEventHook && this.onEventHook([t.TouchEvent.TOUCH_MOVE, e, n, r]), this._onTouchMove(e, n, r))
			}, n.prototype._onTouchMove = function(e, n, r) {
				if (null != this.touchDownTarget[r] && (this.lastTouchX != e || this.lastTouchY != n)) {
					this.lastTouchX = e, this.lastTouchY = n;
					var s = this.findTarget(e, n);
					t.TouchEvent.dispatchTouchEvent(s, t.TouchEvent.TOUCH_MOVE, !0, !0, e, n, r, !0)
				}
			}, n.prototype.onTouchEnd = function(e, n, r) {
				this.disableSysEvent || (this.onEventHook && this.onEventHook([t.TouchEvent.TOUCH_END, e, n, r]), this._onTouchEnd(e, n, r))
			}, n.prototype._onTouchEnd = function(e, n, r) {
				if (null != this.touchDownTarget[r]) {
					var s = this.findTarget(e, n),
						h = this.touchDownTarget[r];
					delete this.touchDownTarget[r], this.useTouchesCount--, t.TouchEvent.dispatchTouchEvent(s, t.TouchEvent.TOUCH_END, !0, !0, e, n, r, !1), h == s ? this.stage.$hitTest(e, n) === s ? t.TouchEvent.dispatchTouchEvent(s, t.TouchEvent.TOUCH_TAP, !0, !0, e, n, r, !1) : t.TouchEvent.dispatchTouchEvent(s, t.TouchEvent.TOUCH_TAP_OUTSIDE, !0, !0, e, n, r, !1) : t.TouchEvent.dispatchTouchEvent(h, t.TouchEvent.TOUCH_RELEASE_OUTSIDE, !0, !0, e, n, r, !1)
				}
			}, n.prototype.onMouseMove = function(e, n) {
				this.disableSysEvent || (this.onEventHook && this.onEventHook([t.Event.MOUSE_MOVED, e, n]), this._onMouseMove(e, n))
			}, n.prototype._onMouseMove = function(e, n) {
				var r = this.findTarget(e, n);
				this.mouseOverTarget !== r && (this.mouseOverTarget && t.Event.dispatchEvent(this.mouseOverTarget, t.Event.MOUSE_LEAVE), r && (this.mouseOverTarget = r, t.Event.dispatchEvent(this.mouseOverTarget, t.Event.MOUSE_ENTER))), t.Event.dispatchEvent(this.stage, t.Event.MOUSE_MOVED, !1, {
					stageX: e,
					stageY: n
				})
			}, n.prototype.onEvent = function(e) {
				switch (e[0]) {
					case t.Event.MOUSE_MOVED:
						this._onMouseMove(e[1], e[2]);
						break;
					case t.TouchEvent.TOUCH_END:
						this._onTouchEnd(e[1], e[2], e[3]);
						break;
					case t.TouchEvent.TOUCH_MOVE:
						this._onTouchMove(e[1], e[2], e[3]);
						break;
					case t.TouchEvent.TOUCH_BEGIN:
						this._onTouchBegin(e[1], e[2], e[3])
				}
			}, n.prototype.findTarget = function(t, e) {
				var n = this.stage.$hitTestWithModal(t, e);
				return n || (n = this.stage), n
			}, n
		}(t.HashObject), e.TouchHandler = n, __reflect(n.prototype, "egret.sys.TouchHandler")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(e) {
			function n() {
				var t = e.call(this) || this;
				return t.image = null, t.smoothing = !0, t.blendMode = null, t.alpha = NaN, t.filter = null, t.rotated = !1, t.type = 1, t
			}
			return __extends(n, e), n.prototype.drawImage = function(t, e, n, r, s, h, u, o) {
				this.drawData.push(t, e, n, r, s, h, u, o), this.renderCount++
			}, n.prototype.cleanBeforeRender = function() {
				e.prototype.cleanBeforeRender.call(this), this.image = null, this.matrix = null, this.blendMode = null, this.alpha = NaN, this.filter = null
			}, n.$updateTextureData = function(e, r, s, h, u, o, a, c, f, l, v, g, b, d, m, _) {
				if (r) {
					var p = t.$TextureScaleFactor;
					if (e.smoothing = _, e.image = r, e.imageWidth = b, e.imageHeight = d, m == t.BitmapFillMode.SCALE) {
						var w = v / f * p,
							O = g / l * p;
						e.drawImage(s, h, u, o, w * a, O * c, w * u, O * o)
					} else if (m == t.BitmapFillMode.CLIP) {
						var y = Math.min(f, v),
							j = Math.min(l, g),
							M = u * p,
							x = o * p;
						n.drawClipImage(e, p, s, h, M, x, a, c, y, j)
					} else {
						M = u * p, x = o * p;
						for (var N = 0; N < v; N += f)
							for (var k = 0; k < g; k += l) y = Math.min(v - N, f), j = Math.min(g - k, l), n.drawClipImage(e, p, s, h, M, x, a, c, y, j, N, k)
					}
				}
			}, n.$updateTextureDataWithScale9Grid = function(e, n, r, s, h, u, o, a, c, f, l, v, g, b, d, m) {
				e.smoothing = m, e.image = n, e.imageWidth = b, e.imageHeight = d;
				var _ = u,
					p = o;
				v -= f - u * t.$TextureScaleFactor, g -= l - o * t.$TextureScaleFactor;
				var w = r.x - a,
					O = r.y - c,
					y = w / t.$TextureScaleFactor,
					j = O / t.$TextureScaleFactor,
					M = r.width / t.$TextureScaleFactor,
					x = r.height / t.$TextureScaleFactor;
				0 == x && (x = 1, j >= p && j--), 0 == M && (M = 1, y >= _ && y--);
				var N = s,
					k = N + y,
					A = k + M,
					E = _ - y - M,
					C = h,
					T = C + j,
					S = T + x,
					U = p - j - x,
					I = E * t.$TextureScaleFactor,
					D = U * t.$TextureScaleFactor;
				if ((y + E) * t.$TextureScaleFactor > v || (j + U) * t.$TextureScaleFactor > g) e.drawImage(s, h, u, o, a, c, v, g);
				else {
					var F = a,
						B = F + w,
						R = F + (v - I),
						P = v - w - I,
						L = c,
						Y = L + O,
						W = L + g - D,
						X = g - O - D;
					j > 0 && (y > 0 && e.drawImage(N, C, y, j, F, L, w, O), M > 0 && e.drawImage(k, C, M, j, B, L, P, O), E > 0 && e.drawImage(A, C, E, j, R, L, I, O)), x > 0 && (y > 0 && e.drawImage(N, T, y, x, F, Y, w, X), M > 0 && e.drawImage(k, T, M, x, B, Y, P, X), E > 0 && e.drawImage(A, T, E, x, R, Y, I, X)), U > 0 && (y > 0 && e.drawImage(N, S, y, U, F, W, w, D), M > 0 && e.drawImage(k, S, M, U, B, W, P, D), E > 0 && e.drawImage(A, S, E, U, R, W, I, D))
				}
			}, n.drawClipImage = function(t, e, n, r, s, h, u, o, a, c, f, l) {
				void 0 === f && (f = 0), void 0 === l && (l = 0);
				var v = u + s - a;
				v > 0 && (s -= v), (v = o + h - c) > 0 && (h -= v), t.drawImage(n, r, s / e, h / e, f + u, l + o, s, h)
			}, n
		}(e.RenderNode), e.BitmapNode = n, __reflect(n.prototype, "egret.sys.BitmapNode")
	}(egret || (egret = {})),
	function(t) {
		var e, n, r, s;
		e = t.sys || (t.sys = {}), n = ["none", "round", "square"], r = ["bevel", "miter", "round"], s = function(s) {
			function h() {
				var t = s.call(this) || this;
				return t.dirtyRender = !0, t.type = 3, t
			}
			return __extends(h, s), h.prototype.beginFill = function(t, n, r) {
				void 0 === n && (n = 1);
				var s = new e.FillPath;
				if (s.fillColor = t, s.fillAlpha = n, r) {
					var h = this.drawData.lastIndexOf(r);
					this.drawData.splice(h, 0, s)
				} else this.drawData.push(s);
				return this.renderCount++, s
			}, h.prototype.beginGradientFill = function(n, r, s, h, u, o) {
				var a = new t.Matrix;
				u ? (a.a = 819.2 * u.a, a.b = 819.2 * u.b, a.c = 819.2 * u.c, a.d = 819.2 * u.d, a.tx = u.tx, a.ty = u.ty) : (a.a = 100, a.d = 100);
				var c = new e.GradientFillPath;
				if (c.gradientType = n, c.colors = r, c.alphas = s, c.ratios = h, c.matrix = a, o) {
					var f = this.drawData.lastIndexOf(o);
					this.drawData.splice(f, 0, c)
				} else this.drawData.push(c);
				return this.renderCount++, c
			}, h.prototype.lineStyle = function(s, h, u, o, a, c, f) {
				void 0 === u && (u = 1), void 0 === c && (c = 3), void 0 === f && (f = []), -1 == n.indexOf(o) && (o = "round"), -1 == r.indexOf(a) && (a = "round");
				var l = new e.StrokePath;
				return l.lineWidth = s, l.lineColor = h, l.lineAlpha = u, l.caps = o || t.CapsStyle.ROUND, l.joints = a, l.miterLimit = c, l.lineDash = f, this.drawData.push(l), this.renderCount++, l
			}, h.prototype.clear = function() {
				this.drawData.length = 0, this.dirtyRender = !0, this.renderCount = 0
			}, h.prototype.cleanBeforeRender = function() {}, h.prototype.clean = function() {
				this.$texture && (t.WebGLUtils.deleteWebGLTexture(this.$texture), this.$texture = null, this.dirtyRender = !0)
			}, h
		}(e.RenderNode), e.GraphicsNode = s, __reflect(s.prototype, "egret.sys.GraphicsNode")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.type = 4, e
			}
			return __extends(e, t), e.prototype.addNode = function(t) {
				this.drawData.push(t)
			}, e.prototype.cleanBeforeRender = function() {
				for (var t = this.drawData, e = t.length - 1; e >= 0; e--) t[e].cleanBeforeRender()
			}, e.prototype.$getRenderCount = function() {
				for (var t = 0, e = this.drawData, n = e.length - 1; n >= 0; n--) t += e[n].$getRenderCount();
				return t
			}, e
		}(e.RenderNode), e.GroupNode = n, __reflect(n.prototype, "egret.sys.GroupNode")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(e) {
			function n() {
				var n = e.call(this) || this;
				return n.image = null, n.smoothing = !0, n.bounds = new t.Rectangle, n.blendMode = null, n.alpha = NaN, n.filter = null, n.rotated = !1, n.type = 5, n.vertices = [], n.uvs = [], n.indices = [], n
			}
			return __extends(n, e), n.prototype.drawMesh = function(t, e, n, r, s, h, u, o) {
				this.drawData.push(t, e, n, r, s, h, u, o), this.renderCount++
			}, n.prototype.cleanBeforeRender = function() {
				e.prototype.cleanBeforeRender.call(this), this.image = null, this.matrix = null
			}, n
		}(e.RenderNode), e.MeshNode = n, __reflect(n.prototype, "egret.sys.MeshNode")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.image = null, e.smoothing = !0, e.rotated = !1, e.type = 6, e
			}
			return __extends(e, t), e.prototype.drawImage = function(t, e, n, r, s, h, u, o) {
				this.sourceX = t, this.sourceY = e, this.sourceW = n, this.sourceH = r, this.drawX = s, this.drawY = h, this.drawW = u, this.drawH = o, this.renderCount = 1
			}, e.prototype.cleanBeforeRender = function() {
				t.prototype.cleanBeforeRender.call(this), this.image = null
			}, e
		}(e.RenderNode), e.NormalBitmapNode = n, __reflect(n.prototype, "egret.sys.NormalBitmapNode")
	}(egret || (egret = {})),
	function(t) {
		var e = function(e) {
			function n(n) {
				var r = e.call(this, n) || this;
				return r._verticesDirty = !0, r._bounds = new t.Rectangle, r.$renderNode = new t.sys.MeshNode, r
			}
			return __extends(n, e), n.prototype.createNativeDisplayObject = function() {
				this.$nativeDisplayObject = new egret_native.NativeDisplayObject(12)
			}, n.prototype.setBitmapDataToWasm = function(t) {
				this.$nativeDisplayObject.setBitmapDataToMesh(t)
			}, n.prototype.$updateRenderNode = function() {
				var e = this.$bitmapData;
				if (e) {
					t.$TextureScaleFactor;
					var n = this.$renderNode;
					n.smoothing = this.$smoothing, n.image = e, n.imageWidth = this.$sourceWidth, n.imageHeight = this.$sourceHeight;
					var r = isNaN(this.$explicitBitmapWidth) ? this.$textureWidth : this.$explicitBitmapWidth,
						s = isNaN(this.$explicitBitmapHeight) ? this.$textureHeight : this.$explicitBitmapHeight,
						h = r / this.$textureWidth,
						u = s / this.$textureHeight,
						o = this.$bitmapWidth,
						a = this.$bitmapHeight;
					n.drawMesh(this.$bitmapX, this.$bitmapY, o, a, this.$offsetX * h, this.$offsetY * u, h * o, u * a)
				}
			}, n.prototype.$updateVertices = function() {
				if (this._verticesDirty = !0, this.$renderDirty = !0, t.nativeRender) {
					var e = this.$renderNode;
					this.$nativeDisplayObject.setDataToMesh(e.vertices, e.indices, e.uvs)
				} else this.markDirtyUp(!1)
			}, n.prototype.$measureContentBounds = function(t) {
				if (this._verticesDirty) {
					this._verticesDirty = !1;
					var e = this.$renderNode,
						n = e.vertices;
					if (n.length) {
						this._bounds.setTo(Number.MAX_VALUE, Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);
						for (var r = 0, s = n.length; r < s; r += 2) {
							var h = n[r],
								u = n[r + 1];
							this._bounds.x > h && (this._bounds.x = h), this._bounds.width < h && (this._bounds.width = h), this._bounds.y > u && (this._bounds.y = u), this._bounds.height < u && (this._bounds.height = u)
						}
						this._bounds.width -= this._bounds.x, this._bounds.height -= this._bounds.y
					} else this._bounds.setTo(0, 0, 0, 0);
					e.bounds.copyFrom(this._bounds)
				}
				t.copyFrom(this._bounds)
			}, n
		}(t.Bitmap);
		t.Mesh = e, __reflect(e.prototype, "egret.Mesh")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(e) {
			function n() {
				var t = e.call(this) || this;
				return t.textColor = 16777215, t.strokeColor = 0, t.size = 30, t.stroke = 0, t.bold = !1, t.italic = !1, t.fontFamily = "Arial", t.shadow = !1, t.shadowColor = 0, t.shadowOffsetX = 1, t.shadowOffsetY = 1, t.shadowBlur = 1, t.dirtyRender = !0, t.type = 2, t
			}
			return __extends(n, e), n.prototype.drawText = function(t, e, n, r) {
				this.drawData.push(t, e, n, r), this.renderCount++, this.dirtyRender = !0
			}, n.prototype.clean = function() {
				if (this.$texture && (t.WebGLUtils.deleteWebGLTexture(this.$texture), this.$texture = null, this.dirtyRender = !0), this.DrawLabel) {
					for (var e = 0, n = this.DrawLabel; e < n.length; e++) n[e].release();
					this.dirtyRender = !0
				}
			}, n.prototype.cleanBeforeRender = function() {
				e.prototype.cleanBeforeRender.call(this), this.dirtyRender = !0
			}, n
		}(e.RenderNode), e.TextNode = n, __reflect(n.prototype, "egret.sys.TextNode")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.type = 1, e
			}
			return __extends(e, t), e
		}(e.Path2D), e.FillPath = n, __reflect(n.prototype, "egret.sys.FillPath")
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.type = 2, e
			}
			return __extends(e, t), e
		}(e.Path2D), e.GradientFillPath = n, __reflect(n.prototype, "egret.sys.GradientFillPath")
	}(egret || (egret = {})),
	function(t) {
		t.OrientationMode = {
			AUTO: "auto",
			PORTRAIT: "portrait",
			LANDSCAPE: "landscape",
			LANDSCAPE_FLIPPED: "landscapeFlipped"
		}
	}(egret || (egret = {})),
	function(t) {
		var e, n;
		e = t.sys || (t.sys = {}), n = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.type = 3, e
			}
			return __extends(e, t), e
		}(e.Path2D), e.StrokePath = n, __reflect(n.prototype, "egret.sys.StrokePath")
	}(egret || (egret = {})),
	function(t) {
		var e = ["source-over", "lighter", "destination-out"],
			n = {
				none: "butt",
				square: "square",
				round: "round"
			},
			r = [],
			s = [],
			h = function() {
				function h() {
					this.nestLevel = 0, this.renderingMask = !1
				}
				return h.prototype.render = function(e, n, s, h) {
					this.nestLevel++;
					var u = n.context;
					u.transform(s.a, s.b, s.c, s.d, 0, 0);
					var o = this.drawDisplayObject(e, u, s.tx, s.ty, !0),
						a = t.Matrix.create();
					if (s.$invertInto(a), u.transform(a.a, a.b, a.c, a.d, 0, 0), t.Matrix.release(a), this.nestLevel--, 0 === this.nestLevel) {
						r.length > 6 && (r.length = 6);
						for (var c = r.length, f = 0; f < c; f++) r[f].resize(0, 0)
					}
					return o
				}, h.prototype.drawDisplayObject = function(e, n, r, s, h) {
					var u, o = 0,
						a = e.$displayList;
					if (a && !h ? ((e.$cacheDirty || e.$renderDirty || a.$canvasScaleX != t.sys.DisplayList.$canvasScaleX || a.$canvasScaleY != t.sys.DisplayList.$canvasScaleY) && (o += a.drawToSurface()), u = a.$renderNode) : u = e.$renderDirty ? e.$getRenderNode() : e.$renderNode, e.$cacheDirty = !1, u) {
						switch (o++, n.$offsetX = r, n.$offsetY = s, u.type) {
							case 1:
								this.renderBitmap(u, n);
								break;
							case 2:
								this.renderText(u, n);
								break;
							case 3:
								this.renderGraphics(u, n);
								break;
							case 4:
								this.renderGroup(u, n);
								break;
							case 5:
								this.renderMesh(u, n);
								break;
							case 6:
								this.renderNormalBitmap(u, n)
						}
						n.$offsetX = 0, n.$offsetY = 0
					}
					if (a && !h) return o;
					var c = e.$children;
					if (c)
						for (var f = c.length, l = 0; l < f; l++) {
							var v = c[l],
								g = void 0,
								b = void 0;
							if (v.$useTranslate) {
								var d = v.$getMatrix();
								g = r + v.$x, b = s + v.$y, n.save(), n.transform(d.a, d.b, d.c, d.d, g, b), g = -v.$anchorOffsetX, b = -v.$anchorOffsetY
							} else g = r + v.$x - v.$anchorOffsetX, b = s + v.$y - v.$anchorOffsetY;
							var m = void 0;
							switch (1 != v.$alpha && (m = n.globalAlpha, n.globalAlpha *= v.$alpha), v.$renderMode) {
								case 1:
									break;
								case 2:
									o += this.drawWithFilter(v, n, g, b);
									break;
								case 3:
									o += this.drawWithClip(v, n, g, b);
									break;
								case 4:
									o += this.drawWithScrollRect(v, n, g, b);
									break;
								default:
									o += this.drawDisplayObject(v, n, g, b)
							}
							v.$useTranslate ? n.restore() : m && (n.globalAlpha = m)
						}
					return o
				}, h.prototype.drawWithFilter = function(t, n, r, h) {
					if (t.$children && 0 == t.$children.length && (!t.$renderNode || 0 == t.$renderNode.$getRenderCount())) return 0;
					var u, o = 0,
						a = t.$filters,
						g = a.length,
						d = 0 !== t.$blendMode;
					d && ((u = e[t.$blendMode]) || (u = "source-over"));
					var m = t.$getOriginalBounds(),
						_ = m.x,
						p = m.y,
						w = m.width,
						O = m.height;
					if (w <= 0 || O <= 0) return o;
					var y, j, M, x, N, k, A, E, C, T, S = this.createRenderBuffer(w - _, O - p, !0),
						U = S.context;
					if (t.$mask ? o += this.drawWithClip(t, U, -_, -p) : t.$scrollRect || t.$maskRect ? o += this.drawWithScrollRect(t, U, -_, -p) : o += this.drawDisplayObject(t, U, -_, -p), o > 0) {
						d && (n.globalCompositeOperation = u), o++;
						for (var I = U.getImageData(0, 0, S.surface.width, S.surface.height), D = 0; D < g; D++) {
							var F = a[D];
							if ("colorTransform" == F.type) l(I.data, S.surface.width, S.surface.height, F.$matrix);
							else if ("blur" == F.type) v(I.data, S.surface.width, S.surface.height, F.$blurX, F.$blurY);
							else if ("glow" == F.type) {
								var B = F.$red,
									R = F.$green,
									P = F.$blue,
									L = F.$alpha;
								F.$inner || F.$knockout || F.$hideObject ? b(I.data, S.surface.width, S.surface.height, [B / 255, R / 255, P / 255, L], F.$blurX, F.$blurY, F.$angle ? F.$angle / 180 * Math.PI : 0, F.$distance || 0, F.$strength, F.$inner ? 1 : 0, F.$knockout ? 0 : 1, F.$hideObject ? 1 : 0) : (y = I.data, j = S.surface.width, M = S.surface.height, x = [B / 255, R / 255, P / 255, L], N = F.$blurX, k = F.$blurY, A = F.$angle ? F.$angle / 180 * Math.PI : 0, E = F.$distance || 0, C = F.$strength, T = void 0, function(t, e, n, r, s) {
									var h, u, o = Math.sin(r) * s | 0,
										a = Math.cos(r) * s | 0;
									if (c) {
										h = new Int32Array(t.buffer), u = new Int32Array(h.length);
										for (var l = 0; l < n; l++)
											if (!((g = l + o) < 0 || g > n))
												for (var v = 0; v < e; v++)(b = v + a) < 0 || b > e || (u[g * e + b] = h[l * e + v]);
										h.set(u)
									} else {
										for (h = t, u = new Array(h.length), l = 0; l < n; l++) {
											var g;
											if (!((g = l + o) < 0 || g > n))
												for (v = 0; v < e; v++) {
													var b;
													(b = v + a) < 0 || b > e || (u[4 * (g * e + b) + 0] = h[4 * (l * e + v) + 0], u[4 * (g * e + b) + 1] = h[4 * (l * e + v) + 1], u[4 * (g * e + b) + 2] = h[4 * (l * e + v) + 2], u[4 * (g * e + b) + 3] = h[4 * (l * e + v) + 3])
												}
										}
										f(h, u)
									}
								}(T = function(t, e) {
									var n;
									e || (e = [0, 0, 0, 0]), c ? n = new Uint8ClampedArray(t) : f(n = new Array(t.length), t);
									for (var r = e[0], s = e[1], h = e[2], u = e[3], o = 0, a = n.length; o < a; o += 4) {
										var l = n[o + 3];
										n[o + 0] = r * l, n[o + 1] = s * l, n[o + 2] = h * l, n[o + 3] = u * l
									}
									return n
								}(y, x), j, M, A, E), v(T, j, M, N, k), function(t, e) {
									for (var n = 0, r = t.length; n < r; n += 4) t[n + 3] *= e
								}(T, C), function(t, e) {
									for (var n = 0, r = t.length; n < r; n += 4) {
										var s = t[n + 0],
											h = t[n + 1],
											u = t[n + 2],
											o = t[n + 3] / 255,
											a = e[n + 0],
											c = e[n + 1],
											f = e[n + 2],
											l = e[n + 3] / 255;
										t[n + 0] = a + s * (1 - l), t[n + 1] = c + h * (1 - l), t[n + 2] = f + u * (1 - l), t[n + 3] = 255 * (l + o * (1 - l))
									}
								}(T, y), y.set(T), c ? y.set(T) : f(y, T))
							} else F.type
						}
						U.putImageData(I, 0, 0), n.drawImage(S.surface, r + _, h + p), d && (n.globalCompositeOperation = "source-over")
					}
					return s.push(S), o
				}, h.prototype.drawWithClip = function(n, s, h, u) {
					var o, a = 0,
						c = 0 !== n.$blendMode;
					c && ((o = e[n.$blendMode]) || (o = "source-over"));
					var f = n.$scrollRect ? n.$scrollRect : n.$maskRect,
						l = n.$mask;
					if (l) {
						var v = l.$getMatrix();
						if (0 == v.a && 0 == v.b || 0 == v.c && 0 == v.d) return a
					}
					if (!(l || n.$children && 0 != n.$children.length)) return f && (s.save(), s.beginPath(), s.rect(f.x + h, f.y + u, f.width, f.height), s.clip()), c && (s.globalCompositeOperation = o), a += this.drawDisplayObject(n, s, h, u), c && (s.globalCompositeOperation = "source-over"), f && s.restore(), a;
					if (l) {
						var g = l.$getRenderNode();
						if ((!l.$children || 0 == l.$children.length) && g && 3 == g.type && 1 == g.drawData.length && 1 == g.drawData[0].type && 1 == g.drawData[0].fillAlpha) {
							this.renderingMask = !0, s.save(), (j = t.Matrix.create()).copyFrom(l.$getConcatenatedMatrix()), l.$getConcatenatedMatrixAt(n, j), j.prepend(1, 0, 0, 1, h, u), s.transform(j.a, j.b, j.c, j.d, j.tx, j.ty);
							var b = this.drawDisplayObject(l, s, 0, 0);
							return this.renderingMask = !1, j.$invertInto(j), s.transform(j.a, j.b, j.c, j.d, j.tx, j.ty), t.Matrix.release(j), f && (s.beginPath(), s.rect(f.x + h, f.y + u, f.width, f.height), s.clip()), b += this.drawDisplayObject(n, s, h, u), s.restore(), b
						}
					}
					var d = n.$getOriginalBounds(),
						m = d.x,
						_ = d.y,
						p = d.width,
						w = d.height;
					if (p <= 0 || w <= 0) return a;
					var O = this.createRenderBuffer(p, w),
						y = O.context;
					if (!y) return a + this.drawDisplayObject(n, s, h, u);
					if (a += this.drawDisplayObject(n, y, -m, -_), l) {
						var j;
						if (g = l.$getRenderNode(), (j = t.Matrix.create()).copyFrom(l.$getConcatenatedMatrix()), l.$getConcatenatedMatrixAt(n, j), j.translate(-m, -_), g && 1 == g.$getRenderCount() || l.$displayList) y.globalCompositeOperation = "destination-in", y.save(), y.setTransform(j.a, j.b, j.c, j.d, j.tx, j.ty), a += this.drawDisplayObject(l, y, 0, 0), y.restore();
						else {
							var M = this.createRenderBuffer(p, w),
								x = M.context;
							x.setTransform(j.a, j.b, j.c, j.d, j.tx, j.ty), a += this.drawDisplayObject(l, x, 0, 0), y.globalCompositeOperation = "destination-in", y.drawImage(M.surface, 0, 0), r.push(M)
						}
						t.Matrix.release(j)
					}
					return a > 0 && (a++, c && (s.globalCompositeOperation = o), f && (s.save(), s.beginPath(), s.rect(f.x + h, f.y + u, f.width, f.height), s.clip()), s.drawImage(O.surface, h + m, u + _), f && s.restore(), c && (s.globalCompositeOperation = "source-over")), r.push(O), a
				}, h.prototype.drawWithScrollRect = function(t, e, n, r) {
					var s = 0,
						h = t.$scrollRect ? t.$scrollRect : t.$maskRect;
					return h.isEmpty() || (t.$scrollRect && (n -= h.x, r -= h.y), e.save(), e.beginPath(), e.rect(h.x + n, h.y + r, h.width, h.height), e.clip(), s += this.drawDisplayObject(t, e, n, r), e.restore()), s
				}, h.prototype.drawNodeToBuffer = function(t, e, n, r) {
					var s = e.context;
					s.setTransform(n.a, n.b, n.c, n.d, n.tx, n.ty), this.renderNode(t, s, r)
				}, h.prototype.drawDisplayToBuffer = function(t, e, n) {
					var r, s = e.context;
					n && s.setTransform(n.a, n.b, n.c, n.d, n.tx, n.ty);
					var h = 0;
					if (r = t.$renderDirty ? t.$getRenderNode() : t.$renderNode) switch (h++, r.type) {
						case 1:
							this.renderBitmap(r, s);
							break;
						case 2:
							this.renderText(r, s);
							break;
						case 3:
							this.renderGraphics(r, s);
							break;
						case 4:
							this.renderGroup(r, s);
							break;
						case 5:
							this.renderMesh(r, s);
							break;
						case 6:
							this.renderNormalBitmap(r, s)
					}
					var u = t.$children;
					if (u)
						for (var o = u.length, a = 0; a < o; a++) {
							var c = u[a];
							switch (c.$renderMode) {
								case 1:
									break;
								case 2:
									h += this.drawWithFilter(c, s, 0, 0);
									break;
								case 3:
									h += this.drawWithClip(c, s, 0, 0);
									break;
								case 4:
									h += this.drawWithScrollRect(c, s, 0, 0);
									break;
								default:
									h += this.drawDisplayObject(c, s, 0, 0)
							}
						}
					return h
				}, h.prototype.renderNode = function(t, e, n) {
					var r = 0;
					switch (t.type) {
						case 1:
							r = this.renderBitmap(t, e);
							break;
						case 2:
							r = 1, this.renderText(t, e);
							break;
						case 3:
							r = this.renderGraphics(t, e, n);
							break;
						case 4:
							r = this.renderGroup(t, e);
							break;
						case 5:
							r = this.renderMesh(t, e);
							break;
						case 6:
							r += this.renderNormalBitmap(t, e)
					}
					return r
				}, h.prototype.renderNormalBitmap = function(t, e) {
					var n = t.image;
					if (!n) return 0;
					if (!n.source && (n.reload(t.bitmap), !n.source)) return 0;
					if (e.$imageSmoothingEnabled != t.smoothing && (e.imageSmoothingEnabled = t.smoothing, e.$imageSmoothingEnabled = t.smoothing), t.rotated) {
						var r = t.sourceX,
							s = t.sourceY,
							h = t.sourceW,
							u = t.sourceH,
							o = t.drawX,
							a = t.drawY,
							c = t.drawW,
							f = t.drawH;
						e.save(), e.transform(0, -1, 1, 0, 0, f), e.drawImage(n.source, r, s, u, h, o + e.$offsetX, a + e.$offsetY, f, c), e.restore()
					} else e.drawImage(n.source, t.sourceX, t.sourceY, t.sourceW, t.sourceH, t.drawX + e.$offsetX, t.drawY + e.$offsetY, t.drawW, t.drawH);
					return 1
				}, h.prototype.renderBitmap = function(t, n) {
					var s = t.image;
					if (!s) return 0;
					if (!s.source && (s.reload(t.bitmap), !s.source)) return 0;
					n.$imageSmoothingEnabled != t.smoothing && (n.imageSmoothingEnabled = t.smoothing, n.$imageSmoothingEnabled = t.smoothing);
					var h, u, o, a = t.drawData,
						c = a.length,
						f = 0,
						v = t.matrix,
						g = t.blendMode,
						b = t.alpha,
						d = !1;
					v && (n.save(), d = !0, 0 == n.$offsetX && 0 == n.$offsetY || (n.translate(n.$offsetX, n.$offsetY), h = n.$offsetX, u = n.$offsetY, n.$offsetX = n.$offsetY = 0), n.transform(v.a, v.b, v.c, v.d, v.tx, v.ty)), g && (n.globalCompositeOperation = e[g]), b == b && (o = n.globalAlpha, n.globalAlpha *= b);
					var m = 0,
						_ = t.filter;
					if (_ && 8 == c) {
						var p = a[0],
							w = a[1],
							O = a[2],
							y = a[3],
							j = a[4],
							M = a[5],
							x = a[6],
							N = a[7];
						t.rotated && (O = a[3], y = a[2], x = a[7], N = a[6]);
						var k = this.createRenderBuffer(x, N),
							A = k.context;
						m++, t.rotated && n.transform(0, -1, 1, 0, 0, x), A.drawImage(s.source, p, w, O, y, 0, 0, x, N), m++;
						var E = A.getImageData(0, 0, x, N);
						l(E.data, x, N, _.$matrix), A.putImageData(E, 0, 0), n.drawImage(k.surface, 0, 0, x, N, j + n.$offsetX, M + n.$offsetY, x, N), r.push(k)
					} else
						for (; f < c;)
							if (m++, t.rotated) {
								p = a[f++], w = a[f++], y = a[f++], O = a[f++];
								var C = a[f++],
									T = a[f++];
								N = a[f++], x = a[f++], n.save(), n.transform(0, -1, 1, 0, 0, x), n.drawImage(s.source, p, w, O, y, C + n.$offsetX, T + n.$offsetY, x, N), n.restore()
							} else n.drawImage(s.source, a[f++], a[f++], a[f++], a[f++], a[f++] + n.$offsetX, a[f++] + n.$offsetY, a[f++], a[f++]);
					return d ? n.restore() : (g && (n.globalCompositeOperation = "source-over"), b == b && (n.globalAlpha = o)), h && (n.$offsetX = h), u && (n.$offsetY = u), m
				}, h.prototype.renderMesh = function(t, e) {
					return 0
				}, h.prototype.renderText = function(e, n) {
					n.textAlign = "left", n.textBaseline = t.Capabilities.runtimeType === t.RuntimeType.WEB && "webgl" === t.Capabilities.renderMode ? "bottom" : "middle", n.lineJoin = "round";
					for (var r = e.drawData, s = r.length, h = 0; h < s;) {
						var o = r[h++],
							a = r[h++],
							c = r[h++],
							f = r[h++];
						n.font = u(e, f);
						var l = null == f.textColor ? e.textColor : f.textColor,
							v = null == f.strokeColor ? e.strokeColor : f.strokeColor,
							g = null == f.stroke ? e.stroke : f.stroke;
						n.fillStyle = t.toColorString(l), n.strokeStyle = t.toColorString(v), g && (n.lineWidth = 2 * g, n.strokeText(c, o + n.$offsetX, a + n.$offsetY));
						var b = null == f.shadow ? e.shadow : f.shadow;
						if (b) {
							var d = null == f.shadowColor ? e.shadowColor : f.shadowColor;
							n.shadowColor = t.toColorString(d), n.shadowOffsetX = null == f.shadowOffsetX ? e.shadowOffsetX : f.shadowOffsetX, n.shadowOffsetY = null == f.shadowOffsetY ? e.shadowOffsetY : f.shadowOffsetY, n.shadowBlur = null == f.shadowBlur ? e.shadowBlur : f.shadowBlur
						}
						n.fillText(c, o + n.$offsetX, a + n.$offsetY), b && (n.shadowOffsetX = 0, n.shadowOffsetY = 0, n.shadowBlur = 0)
					}
				}, h.prototype.renderGraphics = function(t, e, r) {
					var s = t.drawData,
						h = s.length;
					r = !!r;
					for (var u = 0; u < h; u++) {
						var c = s[u];
						switch (c.type) {
							case 1:
								var f = c;
								e.fillStyle = r ? "#000000" : o(f.fillColor, f.fillAlpha), this.renderPath(c, e), this.renderingMask ? e.clip() : e.fill();
								break;
							case 2:
								var l = c;
								e.fillStyle = r ? "#000000" : a(e, l.gradientType, l.colors, l.alphas, l.ratios, l.matrix), e.save();
								var v = l.matrix;
								this.renderPath(c, e), e.transform(v.a, v.b, v.c, v.d, v.tx, v.ty), e.fill(), e.restore();
								break;
							case 3:
								var g = c,
									b = g.lineWidth;
								e.lineWidth = b, e.strokeStyle = r ? "#000000" : o(g.lineColor, g.lineAlpha), e.lineCap = n[g.caps], e.lineJoin = g.joints, e.miterLimit = g.miterLimit, e.setLineDash && e.setLineDash(g.lineDash);
								var d = 1 === b || 3 === b;
								d && e.translate(.5, .5), this.renderPath(c, e), e.stroke(), d && e.translate(-.5, -.5)
						}
					}
					return 0 == h ? 0 : 1
				}, h.prototype.renderPath = function(t, e) {
					e.beginPath();
					for (var n = t.$data, r = t.$commands, s = r.length, h = 0, u = 0; u < s; u++) switch (r[u]) {
						case 4:
							e.bezierCurveTo(n[h++] + e.$offsetX, n[h++] + e.$offsetY, n[h++] + e.$offsetX, n[h++] + e.$offsetY, n[h++] + e.$offsetX, n[h++] + e.$offsetY);
							break;
						case 3:
							e.quadraticCurveTo(n[h++] + e.$offsetX, n[h++] + e.$offsetY, n[h++] + e.$offsetX, n[h++] + e.$offsetY);
							break;
						case 2:
							e.lineTo(n[h++] + e.$offsetX, n[h++] + e.$offsetY);
							break;
						case 1:
							e.moveTo(n[h++] + e.$offsetX, n[h++] + e.$offsetY)
					}
				}, h.prototype.renderGroup = function(t, e) {
					var n, r, s = t.matrix,
						h = !1;
					s && (e.save(), h = !0, 0 == e.$offsetX && 0 == e.$offsetY || (e.translate(e.$offsetX, e.$offsetY), n = e.$offsetX, r = e.$offsetY, e.$offsetX = e.$offsetY = 0), e.transform(s.a, s.b, s.c, s.d, s.tx, s.ty));
					for (var u = 0, o = t.drawData, a = o.length, c = 0; c < a; c++) {
						var f = o[c];
						u += this.renderNode(f, e)
					}
					return h && e.restore(), n && (e.$offsetX = n), r && (e.$offsetY = r), u
				}, h.prototype.createRenderBuffer = function(e, n, h) {
					var u = h ? s.pop() : r.pop();
					return u ? u.resize(e, n, !0) : u = new t.sys.CanvasRenderBuffer(e, n), u
				}, h
			}();

		function u(t, e) {
			var n = (null == e.italic ? t.italic : e.italic) ? "italic " : "normal ";
			return (n += (null == e.bold ? t.bold : e.bold) ? "bold " : "normal ") + ((null == e.size ? t.size : e.size) + "px ") + (e.fontFamily || t.fontFamily)
		}

		function o(t, e) {
			return "rgba(" + (t >> 16) + "," + (t >> 8 & 255) + "," + (255 & t) + "," + e + ")"
		}

		function a(e, n, r, s, h, u) {
			var a;
			a = n == t.GradientType.LINEAR ? e.createLinearGradient(-1, 0, 1, 0) : e.createRadialGradient(0, 0, 0, 0, 0, 1);
			for (var c = r.length, f = 0; f < c; f++) a.addColorStop(h[f] / 255, o(r[f], s[f]));
			return a
		}
		t.CanvasRenderer = h, __reflect(h.prototype, "egret.CanvasRenderer"), t.getFontString = u, t.getRGBAString = o;
		var c = !1;
		try {
			c = void 0 !== typeof Uint8ClampedArray
		} catch (t) {}

		function f(t, e, n) {
			void 0 === n && (n = 0);
			for (var r = 0, s = e.length; r < s; r++) t[r + n] = e[r]
		}

		function l(t, e, n, r) {
			for (var s = r[0], h = r[1], u = r[2], o = r[3], a = r[4], c = r[5], f = r[6], l = r[7], v = r[8], g = r[9], b = r[10], d = r[11], m = r[12], _ = r[13], p = r[14], w = r[15], O = r[16], y = r[17], j = r[18], M = r[19], x = 0, N = e * n * 4; x < N; x += 4) {
				var k = t[x + 0],
					A = t[x + 1],
					E = t[x + 2],
					C = t[x + 3];
				t[x + 0] = s * k + h * A + u * E + o * C + a, t[x + 1] = c * k + f * A + l * E + v * C + g, t[x + 2] = b * k + d * A + m * E + _ * C + p, t[x + 3] = w * k + O * A + y * E + j * C + M
			}
		}

		function v(t, e, n, r, s) {
			! function(t, e, n, r) {
				var s;
				s = c ? new Uint8ClampedArray(4 * e) : new Array(4 * e);
				for (var h = 4 * e, u = 2 * r + 1, o = 0; o < n; o++) {
					for (var a = o * h, l = 0, v = 0, g = 0, b = 0, d = 0, m = 0, _ = 4 * -r, p = 4 * r + 4; _ < p; _ += 4) {
						var w = a + _;
						w < a || w >= a + h || (d = t[w + 3], l += t[w + 0] * d, v += t[w + 1] * d, g += t[w + 2] * d, b += d)
					}
					p = a + h;
					for (var O = 0, y = (_ = a) - 4 * r, j = _ + 4 * (r + 1); _ < p; _ += 4, O += 4, j += 4, y += 4) 0 === b ? (s[O + 0] = 0, s[O + 1] = 0, s[O + 2] = 0, s[O + 3] = 0) : (s[O + 0] = l / b, s[O + 1] = v / b, s[O + 2] = g / b, s[O + 3] = b / u), d = t[j + 3], m = t[y + 3], d || 0 == d ? m || 0 == m ? (l += t[j + 0] * d - t[y + 0] * m, v += t[j + 1] * d - t[y + 1] * m, g += t[j + 2] * d - t[y + 2] * m, b += d - m) : (l += t[j + 0] * d, v += t[j + 1] * d, g += t[j + 2] * d, b += d) : (m || 0 == m) && (l += -t[y + 0] * m, v += -t[y + 1] * m, g += -t[y + 2] * m, b += -m);
					c ? t.set(s, a) : f(t, s, a)
				}
			}(t, e, n, r),
			function(t, e, n, r) {
				var s;
				s = c ? new Uint8ClampedArray(4 * n) : new Array(4 * n);
				for (var h = 4 * e, u = 2 * r + 1, o = 0; o < e; o++) {
					for (var a = 4 * o, f = 0, l = 0, v = 0, g = 0, b = 0, d = 0, m = -r * h, _ = r * h + h; m < _; m += h) {
						var p = a + m;
						p < a || p >= a + n * h || (b = t[p + 3], f += t[p + 0] * b, l += t[p + 1] * b, v += t[p + 2] * b, g += b)
					}
					m = a, _ = a + n * h;
					for (var w = 0, O = a - r * h, y = a + (r + 1) * h; m < _; m += h, w += 4, y += h, O += h) 0 === g ? (s[w + 0] = 0, s[w + 1] = 0, s[w + 2] = 0, s[w + 3] = 0) : (s[w + 0] = f / g, s[w + 1] = l / g, s[w + 2] = v / g, s[w + 3] = g / u), b = t[y + 3], d = t[O + 3], b || 0 == b ? d || 0 == d ? (f += t[y + 0] * b - t[O + 0] * d, l += t[y + 1] * b - t[O + 1] * d, v += t[y + 2] * b - t[O + 2] * d, g += b - d) : (f += t[y + 0] * b, l += t[y + 1] * b, v += t[y + 2] * b, g += b) : (d || 0 == d) && (f += -t[O + 0] * d, l += -t[O + 1] * d, v += -t[O + 2] * d, g += -d);
					for (var j = 4 * o, M = (_ = j + n * h, 0); j < _; j += h, M += 4) t[j + 0] = s[M + 0], t[j + 1] = s[M + 1], t[j + 2] = s[M + 2], t[j + 3] = s[M + 3]
				}
			}(t, e, n, s)
		}

		function g(t, e, n) {
			return t * (1 - n) + e * n
		}

		function b(t, e, n, r, s, h, u, o, a, l, v, b) {
			var d;
			d = c ? new Uint8ClampedArray(t.length) : new Array(t.length);
			for (var m, _, p = r[3], w = 0, O = 0, y = o * Math.cos(u), j = o * Math.sin(u), M = 3.141592653589793, x = s / 7, N = h / 7, k = 0; k < e; k++)
				for (var A = 0; A < n; A++) {
					for (var E = A * e * 4 + 4 * k, C = 0, T = 0, S = t[E + 0] / 255, U = t[E + 1] / 255, I = t[E + 2] / 255, D = t[E + 3] / 255, F = 0; F <= 2 * M; F += 2 * M / 12) {
						m = Math.cos(F + 0), _ = Math.sin(F + 0);
						for (var B = 0; B < 7; B++) {
							w = B * x * m, O = B * N * _;
							var R = Math.round(k + w - y),
								P = Math.round(A + O - j);
							C += (7 - B) * (R >= e || R < 0 || P < 0 || P >= n ? 0 : t[P * e * 4 + 4 * R + 3] / 255), T += 7 - B
						}
					}
					D = Math.max(D, 1e-4);
					var L = C / T * a * p * (1 - l) * Math.max(Math.min(b, v), 1 - D),
						Y = (T - C) / T * a * p * l * D,
						W = Y / (Y + (D = Math.max(D * v * (1 - b), 1e-4))),
						X = g(S, r[0], W),
						H = g(U, r[1], W),
						G = g(I, r[2], W),
						z = L / (Y + D + L),
						V = g(X, r[0], z),
						q = g(H, r[1], z),
						J = g(G, r[2], z),
						K = Math.min(D + L + Y, 1);
					d[E + 0] = 255 * V, d[E + 1] = 255 * q, d[E + 2] = 255 * J, d[E + 3] = 255 * K
				}
			c ? t.set(d) : f(t, d)
		}
	}(egret || (egret = {})),
	function(t) {
		t.DeviceOrientation = null
	}(egret || (egret = {})), egret || (egret = {}), egret || (egret = {}),
	function(t) {
		var e;
		(e = t.RuntimeType || (t.RuntimeType = {})).WEB = "web", e.NATIVE = "native", e.RUNTIME2 = "runtime2", e.MYGAME = "mygame", e.WXGAME = "wxgame", e.TTGAME = "ttgame", e.BILIGAME = "biligame", e.BAIDUGAME = "baidugame", e.QGAME = "qgame", e.OPPOGAME = "oppogame", e.QQGAME = "qqgame", e.VIVOGAME = "vivogame";
		var n = function() {
			function e() {}
			return e.language = "zh-CN", e.os = "Unknown", e.runtimeType = t.RuntimeType.WEB, e.engineVersion = "5.2.33", e.renderMode = "Unknown", e.boundingClientWidth = 0, e.boundingClientHeight = 0, e
		}();
		t.Capabilities = n, __reflect(n.prototype, "egret.Capabilities")
	}(egret || (egret = {})),
	function(t) {
		var e = function(e) {
			function n() {
				var n = e.call(this) || this;
				n.$renderBuffer = new t.sys.RenderBuffer;
				var r = new t.BitmapData(n.$renderBuffer.surface);
				return r.$deleteSource = !1, n._setBitmapData(r), n
			}
			return __extends(n, e), n.prototype.drawToTexture = function(e, n, r) {
				if (void 0 === r && (r = 1), n && (0 == n.width || 0 == n.height)) return !1;
				var s = n || e.$getOriginalBounds();
				if (0 == s.width || 0 == s.height) return !1;
				r /= t.$TextureScaleFactor;
				var h = (s.x + s.width) * r,
					u = (s.y + s.height) * r;
				n && (h = s.width * r, u = s.height * r);
				var o = this.$renderBuffer;
				if (!o) return !1;
				if (o.resize(h, u), this.$bitmapData.width = h, this.$bitmapData.height = u, t.nativeRender) {
					egret_native.activateBuffer(this.$renderBuffer);
					var a = !1,
						c = 0,
						f = 0,
						l = 0,
						v = 0;
					n && (a = !0, c = n.x, f = n.y, l = n.width, v = n.height), egret_native.updateNativeRender(), egret_native.nrRenderDisplayObject(e.$nativeDisplayObject.id, r, a, c, f, l, v), egret_native.activateBuffer(null)
				} else {
					var g = t.Matrix.create();
					g.identity(), g.scale(r, r), n && g.translate(-n.x, -n.y), t.sys.systemRenderer.render(e, o, g, !0), t.Matrix.release(g)
				}
				return this.$initData(0, 0, h, u, 0, 0, h, u, h, u), !0
			}, n.prototype.getPixel32 = function(e, n) {
				var r;
				if (this.$renderBuffer) {
					var s = t.$TextureScaleFactor;
					e = Math.round(e / s), n = Math.round(n / s), r = this.$renderBuffer.getPixels(e, n, 1, 1)
				}
				return r
			}, n.prototype.dispose = function() {
				e.prototype.dispose.call(this), this.$renderBuffer = null
			}, n
		}(t.Texture);
		t.RenderTexture = e, __reflect(e.prototype, "egret.RenderTexture")
	}(egret || (egret = {})),
	function(t) {
		var e = {};
		t.registerImplementation = function(t, n) {
			e[t] = n
		}, t.getImplementation = function(t) {
			return e[t]
		}
	}(egret || (egret = {})),
	function(t) {
		var e = function(e) {
			function n() {
				var n = e.call(this) || this;
				return n.$graphics = new t.Graphics, n.$graphics.$setTarget(n), n
			}
			return __extends(n, e), n.prototype.createNativeDisplayObject = function() {
				this.$nativeDisplayObject = new egret_native.NativeDisplayObject(8)
			}, Object.defineProperty(n.prototype, "graphics", {
				get: function() {
					return this.$graphics
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$measureContentBounds = function(t) {
				this.$graphics.$measureContentBounds(t)
			}, n.prototype.$hitTest = function(t, n) {
				var r = e.prototype.$hitTest.call(this, t, n);
				return r == this && (r = this.$graphics.$hitTest(t, n)), r
			}, n.prototype.$onRemoveFromStage = function() {
				e.prototype.$onRemoveFromStage.call(this), this.$graphics && this.$graphics.$onRemoveFromStage()
			}, n
		}(t.DisplayObject);
		t.Shape = e, __reflect(e.prototype, "egret.Shape")
	}(egret || (egret = {})),
	function(t) {
		var e = function(t) {
			function e(e, n) {
				var r = t.call(this, e) || this;
				return r.firstCharHeight = 0, "string" == typeof n ? r.charList = r.parseConfig(n) : n && n.hasOwnProperty("frames") ? r.charList = n.frames : r.charList = {}, r
			}
			return __extends(e, t), e.prototype.getTexture = function(t) {
				var e = this._textureMap[t];
				if (!e) {
					var n = this.charList[t];
					if (!n) return null;
					e = this.createTexture(t, n.x, n.y, n.w, n.h, n.offX, n.offY, n.sourceW, n.sourceH), this._textureMap[t] = e
				}
				return e
			}, e.prototype.getConfig = function(t, e) {
				return this.charList[t] ? this.charList[t][e] : 0
			}, e.prototype._getFirstCharHeight = function() {
				if (0 == this.firstCharHeight)
					for (var t in this.charList) {
						var e = this.charList[t];
						if (e) {
							var n = e.sourceH;
							if (void 0 === n) {
								var r = e.h;
								void 0 === r && (r = 0);
								var s = e.offY;
								void 0 === s && (s = 0), n = r + s
							}
							if (n <= 0) continue;
							this.firstCharHeight = n;
							break
						}
					}
				return this.firstCharHeight
			}, e.prototype.parseConfig = function(t) {
				for (var e = (t = t.split("\r\n").join("\n")).split("\n"), n = this.getConfigByKey(e[3], "count"), r = {}, s = 4; s < 4 + n; s++) {
					var h = e[s],
						u = {};
					r[String.fromCharCode(this.getConfigByKey(h, "id"))] = u, u.x = this.getConfigByKey(h, "x"), u.y = this.getConfigByKey(h, "y"), u.w = this.getConfigByKey(h, "width"), u.h = this.getConfigByKey(h, "height"), u.offX = this.getConfigByKey(h, "xoffset"), u.offY = this.getConfigByKey(h, "yoffset"), u.xadvance = this.getConfigByKey(h, "xadvance")
				}
				return r
			}, e.prototype.getConfigByKey = function(t, e) {
				for (var n = t.split(" "), r = 0, s = n.length; r < s; r++) {
					var h = n[r];
					if (e == h.substring(0, e.length)) {
						var u = h.substring(e.length + 1);
						return parseInt(u)
					}
				}
				return 0
			}, e
		}(t.SpriteSheet);
		t.BitmapFont = e, __reflect(e.prototype, "egret.BitmapFont")
	}(egret || (egret = {})),
	function(t) {
		var e = function(e) {
			function n() {
				var n = e.call(this) || this;
				return n.$smoothing = t.Bitmap.defaultSmoothing, n.$text = "", n.$fixedNum = 0, n.$textFieldWidth = NaN, n.$textLinesChanged = !1, n.$textFieldHeight = NaN, n.$font = null, n.$fontStringChanged = !1, n.$lineSpacing = 0, n.$letterSpacing = 0, n.$textAlign = t.HorizontalAlign.LEFT, n.$verticalAlign = t.VerticalAlign.TOP, n.$textWidth = NaN, n.$textHeight = NaN, n.$textOffsetX = 0, n.$textOffsetY = 0, n.$textStartX = 0, n.$textStartY = 0, n.textLines = [], n.$lineHeights = [], t.nativeRender || (n.$renderNode = new t.sys.BitmapNode, n.$renderNode.bitmap = n), n
			}
			return __extends(n, e), n.prototype.createNativeDisplayObject = function() {
				this.$nativeDisplayObject = new egret_native.NativeDisplayObject(11)
			}, Object.defineProperty(n.prototype, "smoothing", {
				get: function() {
					return this.$smoothing
				},
				set: function(e) {
					e != this.$smoothing && (this.$smoothing = e, t.nativeRender || this.markDirtyUp(!1))
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "fixedNum", {
				get: function() {
					return this.$fixedNum
				},
				set: function(t) {
					this.$fixedNum = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "digit", {
				get: function() {
					return Number(this.text)
				},
				set: function(t) {
					this.text = t.toFixed(this.$fixedNum)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "text", {
				get: function() {
					return this.$text
				},
				set: function(t) {
					this.$setText(t)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$setText = function(t) {
				return (t = null == t ? "" : String(t)) != this.$text && (this.$text = t, this.$invalidateContentBounds(), !0)
			}, n.prototype.$getWidth = function() {
				var t = this.$textFieldWidth;
				return isNaN(t) ? this.$getContentBounds().width : t
			}, n.prototype.$setWidth = function(t) {
				return !(t < 0 || t == this.$textFieldWidth || (this.$textFieldWidth = t, this.$invalidateContentBounds(), 0))
			}, n.prototype.$invalidateContentBounds = function() {
				this.$renderDirty = !0, this.$textLinesChanged = !0, this.$updateRenderNode()
			}, n.prototype.$getHeight = function() {
				var t = this.$textFieldHeight;
				return isNaN(t) ? this.$getContentBounds().height : t
			}, n.prototype.$setHeight = function(t) {
				return !(t < 0 || t == this.$textFieldHeight || (this.$textFieldHeight = t, this.$invalidateContentBounds(), 0))
			}, Object.defineProperty(n.prototype, "font", {
				get: function() {
					return this.$font
				},
				set: function(t) {
					this.$setFont(t)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$setFont = function(t) {
				if (this.$font == t) return !1;
				var e = this.$font;
				return this.$font = t, this.$stage && this.isVisible && (this.$font && this.$font.$texture && this.$font.$texture.$bitmapData && this.$font.$texture.$bitmapData.addReference(), e && e.$texture && e.$texture.$bitmapData && e.$texture.$bitmapData.removeReference()), this.$fontStringChanged = !0, this.$invalidateContentBounds(), !0
			}, n.prototype.$onVisibleChanged = function(t) {
				this.$stage && this.$font && this.$font.$texture && this.$font.$texture.$bitmapData && (t ? this.$font.$texture.$bitmapData.addReference() : this.$font.$texture.$bitmapData.removeReference())
			}, n.prototype.$onAddToStage = function(t, n) {
				e.prototype.$onAddToStage.call(this, t, n), this.isVisible && this.$font && this.$font.$texture && this.$font.$texture.$bitmapData && this.$font.$texture.$bitmapData.addReference()
			}, n.prototype.$onRemoveFromStage = function() {
				e.prototype.$onRemoveFromStage.call(this), this.isVisible && this.$font && this.$font.$texture && this.$font.$texture.$bitmapData && this.$font.$texture.$bitmapData.removeReference()
			}, Object.defineProperty(n.prototype, "lineSpacing", {
				get: function() {
					return this.$lineSpacing
				},
				set: function(t) {
					this.$setLineSpacing(t)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$setLineSpacing = function(t) {
				return this.$lineSpacing != t && (this.$lineSpacing = t, this.$invalidateContentBounds(), !0)
			}, Object.defineProperty(n.prototype, "letterSpacing", {
				get: function() {
					return this.$letterSpacing
				},
				set: function(t) {
					this.$setLetterSpacing(t)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$setLetterSpacing = function(t) {
				return this.$letterSpacing != t && (this.$letterSpacing = t, this.$invalidateContentBounds(), !0)
			}, Object.defineProperty(n.prototype, "textAlign", {
				get: function() {
					return this.$textAlign
				},
				set: function(t) {
					this.$setTextAlign(t)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$setTextAlign = function(t) {
				return this.$textAlign != t && (this.$textAlign = t, this.$invalidateContentBounds(), !0)
			}, Object.defineProperty(n.prototype, "verticalAlign", {
				get: function() {
					return this.$verticalAlign
				},
				set: function(t) {
					this.$setVerticalAlign(t)
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$setVerticalAlign = function(t) {
				return this.$verticalAlign != t && (this.$verticalAlign = t, this.$invalidateContentBounds(), !0)
			}, n.prototype.$updateRenderNode = function() {
				var e = this.$getTextLines(),
					r = e.length;
				if (0 != r) {
					var s, h = [],
						u = this.$textLinesWidth,
						o = this.$font;
					t.nativeRender || (s = this.$renderNode, o.$texture && (s.image = o.$texture.$bitmapData), s.smoothing = this.$smoothing);
					for (var a = o._getFirstCharHeight(), c = Math.ceil(a * n.EMPTY_FACTOR), f = !isNaN(this.$textFieldHeight), l = this.$textWidth, v = this.$textFieldWidth, g = this.$textFieldHeight, b = this.$textAlign, d = this.$textOffsetY + this.$textStartY, m = this.$lineHeights, _ = 0; _ < r; _++) {
						var p = m[_];
						if (f && _ > 0 && d + p > g) break;
						var w = e[_],
							O = w.length,
							y = this.$textOffsetX;
						if (b != t.HorizontalAlign.LEFT) {
							var j = v > l ? v : l;
							b == t.HorizontalAlign.RIGHT ? y += j - u[_] : b == t.HorizontalAlign.CENTER && (y += Math.floor((j - u[_]) / 2))
						}
						for (var M = 0; M < O; M++) {
							var x = w.charAt(M),
								N = o.getTexture(x);
							if (N) {
								var k = N.$bitmapWidth,
									A = N.$bitmapHeight;
								t.nativeRender ? h.push(N.$bitmapX, N.$bitmapY, k, A, y + N.$offsetX, d + N.$offsetY, N.$getScaleBitmapWidth(), N.$getScaleBitmapHeight(), N.$sourceWidth, N.$sourceHeight) : (s.imageWidth = N.$sourceWidth, s.imageHeight = N.$sourceHeight, s.drawImage(N.$bitmapX, N.$bitmapY, k, A, y + N.$offsetX, d + N.$offsetY, N.$getScaleBitmapWidth(), N.$getScaleBitmapHeight())), y += (o.getConfig(x, "xadvance") || N.$getTextureWidth()) + this.$letterSpacing
							} else " " == x ? y += c : t.$warn(1046, x)
						}
						d += p + this.$lineSpacing
					}
					if (t.nativeRender) {
						this.$nativeDisplayObject.setDataToBitmapNode(this.$nativeDisplayObject.id, o.$texture, h);
						var E = this.$getContentBounds();
						this.$nativeDisplayObject.setWidth(E.width), this.$nativeDisplayObject.setHeight(E.height)
					}
				} else t.nativeRender && this.$font && (this.$nativeDisplayObject.setDataToBitmapNode(this.$nativeDisplayObject.id, this.$font.$texture, []), this.$nativeDisplayObject.setWidth(0), this.$nativeDisplayObject.setHeight(0))
			}, n.prototype.$measureContentBounds = function(t) {
				0 == this.$getTextLines().length ? t.setEmpty() : t.setTo(this.$textOffsetX + this.$textStartX, this.$textOffsetY + this.$textStartY, this.$textWidth - this.$textOffsetX, this.$textHeight - this.$textOffsetY)
			}, Object.defineProperty(n.prototype, "textWidth", {
				get: function() {
					return this.$getTextLines(), this.$textWidth
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "textHeight", {
				get: function() {
					return this.$getTextLines(), this.$textHeight
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.$getTextLines = function() {
				if (!this.$textLinesChanged) return this.textLines;
				var e = [];
				this.textLines = e;
				var r = [];
				this.$textLinesWidth = r, this.$textLinesChanged = !1;
				var s = [];
				if (this.$lineHeights = s, !this.$text || !this.$font) return this.$textWidth = 0, this.$textHeight = 0, e;
				for (var h, u, o, a, c, f = this.$lineSpacing, l = this.$letterSpacing, v = 0, g = 0, b = !isNaN(this.$textFieldWidth), d = this.$textFieldWidth, m = this.$textFieldHeight, _ = this.$font, p = _._getFirstCharHeight(), w = Math.ceil(p * n.EMPTY_FACTOR), O = this.$text.split(/(?:\r\n|\r|\n)/), y = O.length, j = !0, M = 0; M < y; M++) {
					var x = O[M],
						N = x.length;
					o = 0, a = 0, h = !0, u = !1;
					for (var k = 0; k < N; k++) {
						h || (a += l);
						var A = x.charAt(k),
							E = void 0,
							C = void 0,
							T = _.getTexture(A);
						if (T) E = T.$getTextureWidth(), C = T.$getTextureHeight(), T.$offsetX, T.$offsetY;
						else {
							if (" " != A) {
								t.$warn(1046, A), h && (h = !1);
								continue
							}
							E = w, C = p
						}
						if (h && (h = !1), j && (j = !1), b && k > 0 && a + E > d) {
							if (!S(x.substring(0, k))) break;
							N = (x = x.substring(k)).length, a = (k = 0) == N - 1 ? E : _.getConfig(A, "xadvance") || E, o = C
						} else a += k == N - 1 ? E : _.getConfig(A, "xadvance") || E, o = Math.max(C, o)
					}
					if (m && M > 0 && g > m) break;
					if (u = !0, !S(x)) break
				}

				function S(t) {
					return !(m && e.length > 0 && g > m || (g += o + f, h || u || (a -= l), e.push(t), s.push(o), r.push(a), v = Math.max(a, v), 0))
				}
				return g -= f, this.$textWidth = v, this.$textHeight = g, this.$textOffsetX = 0, this.$textOffsetY = 0, this.$textStartX = 0, this.$textStartY = 0, d > v && ((c = this.$textAlign) == t.HorizontalAlign.RIGHT ? this.$textStartX = d - v : c == t.HorizontalAlign.CENTER && (this.$textStartX = Math.floor((d - v) / 2))), m > g && ((c = this.$verticalAlign) == t.VerticalAlign.BOTTOM ? this.$textStartY = m - g : c == t.VerticalAlign.MIDDLE && (this.$textStartY = Math.floor((m - g) / 2))), e
			}, n.EMPTY_FACTOR = .33, n
		}(t.DisplayObject);
		t.BitmapText = e, __reflect(e.prototype, "egret.BitmapText")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.LEFT = "left", t.RIGHT = "right", t.CENTER = "center", t.JUSTIFY = "justify", t.CONTENT_JUSTIFY = "contentJustify", t
		}();
		t.HorizontalAlign = e, __reflect(e.prototype, "egret.HorizontalAlign")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function e() {
				this.replaceArr = [], this.resutlArr = [], this.initReplaceArr()
			}
			return e.prototype.initReplaceArr = function() {
				this.replaceArr = [], this.replaceArr.push([/&lt;/g, "<"]), this.replaceArr.push([/&gt;/g, ">"]), this.replaceArr.push([/&amp;/g, "&"]), this.replaceArr.push([/&quot;/g, '"']), this.replaceArr.push([/&apos;/g, "'"])
			}, e.prototype.replaceSpecial = function(t) {
				for (var e = 0; e < this.replaceArr.length; e++) {
					var n = this.replaceArr[e][0],
						r = this.replaceArr[e][1];
					t = t.replace(n, r)
				}
				return t
			}, e.prototype.parse = function(e) {
				this.stackArray = [], this.resutlArr = [];
				for (var n = 0, r = e.length; n < r;) {
					var s = e.indexOf("<", n);
					if (s < 0) this.addToResultArr(e.substring(n)), n = r;
					else {
						this.addToResultArr(e.substring(n, s));
						var h = e.indexOf(">", s); - 1 == h ? (t.$error(1038), h = s) : "/" == e.charAt(s + 1) ? this.stackArray.pop() : this.addToArray(e.substring(s + 1, h)), n = h + 1
					}
				}
				return this.resutlArr
			}, e.prototype.parser = function(t) {
				return this.parse(t)
			}, e.prototype.addToResultArr = function(t) {
				"" != t && (t = this.replaceSpecial(t), this.stackArray.length > 0 ? this.resutlArr.push({
					text: t,
					style: this.stackArray[this.stackArray.length - 1]
				}) : this.resutlArr.push({
					text: t
				}))
			}, e.prototype.changeStringToObject = function(t) {
				var e = {},
					n = [];
				if ("i" == (t = t.trim()).charAt(0) || "b" == t.charAt(0) || "u" == t.charAt(0)) this.addProperty(e, t, "true");
				else if (n = t.match(/^(font|a)\s/)) {
					t = t.substring(n[0].length).trim();
					for (var r = 0, s = void 0; s = t.match(this.getHeadReg());) {
						var h = s[0],
							u = "";
						'"' == (t = t.substring(h.length).trim()).charAt(0) ? (r = t.indexOf('"', 1), u = t.substring(1, r), r += 1) : "'" == t.charAt(0) ? (r = t.indexOf("'", 1), u = t.substring(1, r), r += 1) : r = (u = t.match(/(\S)+/)[0]).length, this.addProperty(e, h.substring(0, h.length - 1).trim(), u.trim()), t = t.substring(r).trim()
					}
				}
				return e
			}, e.prototype.getHeadReg = function() {
				return /^(color|textcolor|strokecolor|stroke|b|bold|i|italic|u|size|fontfamily|href|target)(\s)*=/
			}, e.prototype.addProperty = function(t, e, n) {
				switch (e.toLowerCase()) {
					case "color":
					case "textcolor":
						n = n.replace(/#/, "0x"), t.textColor = parseInt(n);
						break;
					case "strokecolor":
						n = n.replace(/#/, "0x"), t.strokeColor = parseInt(n);
						break;
					case "stroke":
						t.stroke = parseInt(n);
						break;
					case "b":
					case "bold":
						t.bold = "true" == n;
						break;
					case "u":
						t.underline = "true" == n;
						break;
					case "i":
					case "italic":
						t.italic = "true" == n;
						break;
					case "size":
						t.size = parseInt(n);
						break;
					case "fontfamily":
						t.fontFamily = n;
						break;
					case "href":
						t.href = this.replaceSpecial(n);
						break;
					case "target":
						t.target = this.replaceSpecial(n)
				}
			}, e.prototype.addToArray = function(t) {
				var e = this.changeStringToObject(t);
				if (0 == this.stackArray.length) this.stackArray.push(e);
				else {
					var n = this.stackArray[this.stackArray.length - 1];
					for (var r in n) null == e[r] && (e[r] = n[r]);
					this.stackArray.push(e)
				}
			}, e
		}();
		t.HtmlTextParser = e, __reflect(e.prototype, "egret.HtmlTextParser")
	}(egret || (egret = {})),
	function(t) {
		var e = function(e) {
			function n() {
				var t = e.call(this) || this;
				return t.stageTextAdded = !1, t._text = null, t._isFocus = !1, t
			}
			return __extends(n, e), n.prototype.init = function(e) {
				this._text = e, this.stageText = new t.StageText, this.stageText.$setTextField(this._text)
			}, n.prototype._addStageText = function() {
				this.stageTextAdded || (this._text.$inputEnabled || (this._text.$touchEnabled = !0), this.tempStage = this._text.stage, this.stageText.$addToStage(), this.stageText.addEventListener("updateText", this.updateTextHandler, this), this._text.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler, this), this.stageText.addEventListener("blur", this.blurHandler, this), this.stageText.addEventListener("focus", this.focusHandler, this), this.stageTextAdded = !0)
			}, n.prototype._removeStageText = function() {
				this.stageTextAdded && (this._text.$inputEnabled || (this._text.$touchEnabled = !1), this.stageText.$removeFromStage(), this.stageText.removeEventListener("updateText", this.updateTextHandler, this), this._text.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler, this), this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this), this.stageText.removeEventListener("blur", this.blurHandler, this), this.stageText.removeEventListener("focus", this.focusHandler, this), this.stageTextAdded = !1)
			}, n.prototype._getText = function() {
				return this.stageText.$getText()
			}, n.prototype._setText = function(t) {
				this.stageText.$setText(t)
			}, n.prototype._setColor = function(t) {
				this.stageText.$setColor(t)
			}, n.prototype.focusHandler = function(e) {
				this._isFocus || (this._isFocus = !0, e.showing || this._text.$setIsTyping(!0), this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_IN, !0)))
			}, n.prototype.blurHandler = function(e) {
				this._isFocus && (this._isFocus = !1, this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this), this._text.$setIsTyping(!1), this.stageText.$onBlur(), this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_OUT, !0)))
			}, n.prototype.onMouseDownHandler = function(t) {
				this.$onFocus()
			}, n.prototype.$onFocus = function() {
				var e = this;
				this._text.visible && (this._isFocus || (this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this), t.callLater((function() {
					e.tempStage.addEventListener(t.TouchEvent.TOUCH_BEGIN, e.onStageDownHandler, e)
				}), this), t.nativeRender && this.stageText.$setText(this._text.$TextField[13]), this.stageText.$show()))
			}, n.prototype.onStageDownHandler = function(t) {
				t.$target != this._text && this.stageText.$hide()
			}, n.prototype.updateTextHandler = function(e) {
				var n, r, s = this._text.$TextField,
					h = this.stageText.$getText(),
					u = !1;
				null != s[35] && (n = new RegExp("[" + s[35] + "]", "g"), r = h.match(n), h = r ? r.join("") : "", u = !0), null != s[36] && (n = new RegExp("[^" + s[36] + "]", "g"), r = h.match(n), h = r ? r.join("") : "", u = !0), u && this.stageText.$getText() != h && this.stageText.$setText(h), this.resetText(), this._text.dispatchEvent(new t.Event(t.Event.CHANGE, !0))
			}, n.prototype.resetText = function() {
				this._text.$setBaseText(this.stageText.$getText())
			}, n.prototype._hideInput = function() {
				this.stageText.$removeFromStage()
			}, n.prototype.updateInput = function() {
				!this._text.$visible && this.stageText && this._hideInput()
			}, n.prototype._updateProperties = function() {
				if (this._isFocus) return this.stageText.$resetStageText(), void this.updateInput();
				this.stageText.$setText(this._text.$TextField[13]), this.stageText.$resetStageText(), this.updateInput()
			}, n
		}(t.HashObject);
		t.InputController = e, __reflect(e.prototype, "egret.InputController")
	}(egret || (egret = {})), egret || (egret = {}),
	function(t) {
		t.textAtlasRenderEnable = !1, t.textAtlasRenderer = null, t.textAtlasRendererOffsetY = 0;
		var e = new RegExp("(?=[\\u00BF-\\u1FFF\\u2C00-\\uD7FF]|\\b|\\s)(?![。，！、》…）)}”】\\.\\,\\!\\?\\]\\:])");

		function n(e, n, r) {
			var h = null == (r = r || {}).italic ? n[16] : r.italic,
				u = null == r.bold ? n[15] : r.bold,
				o = null == r.size ? n[0] : r.size,
				a = r.fontFamily || n[8] || s.default_fontFamily;
			return t.sys.measureText(e, a, o, u, h)
		}

		function r(t, e, r, s) {
			var h = 8 * n(" ", r, s),
				u = (Math.floor(t / h) + 1) * h;
			return u > e ? e - t : u - t
		}
		var s = function(s) {
			function h() {
				var e = s.call(this) || this;
				e.$inputEnabled = !1, e.inputUtils = null, e.$graphicsNode = null, e.isFlow = !1, e.textArr = [], e.linesArr = [], e.$isTyping = !1;
				var n = new t.sys.TextNode;
				return n.fontFamily = h.default_fontFamily, e.textNode = n, e.$renderNode = n, e.$TextField = {
					0: h.default_size,
					1: 0,
					2: h.default_textColor,
					3: NaN,
					4: NaN,
					5: 0,
					6: 0,
					7: 0,
					8: h.default_fontFamily,
					9: "left",
					10: "top",
					11: "#ffffff",
					12: "",
					13: "",
					14: [],
					15: !1,
					16: !1,
					17: !0,
					18: !1,
					19: !1,
					20: !1,
					21: 0,
					22: 0,
					23: 0,
					24: t.TextFieldType.DYNAMIC,
					25: 0,
					26: "#000000",
					27: 0,
					28: -1,
					29: 0,
					30: !1,
					31: !1,
					32: 0,
					33: !1,
					34: 16777215,
					35: null,
					36: null,
					37: t.TextFieldInputType.TEXT,
					38: !1,
					39: !1,
					40: !1,
					41: "",
					42: !1,
					43: 0,
					44: "#000000",
					45: 1,
					46: 1,
					47: 1,
					48: !1,
					49: !1
				}, e
			}
			return __extends(h, s), h.prototype.createNativeDisplayObject = function() {
				this.$nativeDisplayObject = new egret_native.NativeDisplayObject(7)
			}, h.prototype.isInput = function() {
				return this.$TextField[24] == t.TextFieldType.INPUT
			}, h.prototype.$setTouchEnabled = function(t) {
				s.prototype.$setTouchEnabled.call(this, t), this.isInput() && (this.$inputEnabled = !0)
			}, Object.defineProperty(h.prototype, "fontFamily", {
				get: function() {
					return this.$TextField[8]
				},
				set: function(t) {
					this.$setFontFamily(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setFontFamily = function(e) {
				var n = this.$TextField;
				return n[8] != e && (n[8] = e, this.invalidateFontString(), t.nativeRender && this.$nativeDisplayObject.setFontFamily(e), !0)
			}, Object.defineProperty(h.prototype, "size", {
				get: function() {
					return this.$TextField[0]
				},
				set: function(t) {
					this.$setSize(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setSize = function(e) {
				var n = this.$TextField;
				return n[0] != e && (n[0] = e, this.invalidateFontString(), t.nativeRender && this.$nativeDisplayObject.setFontSize(e), !0)
			}, Object.defineProperty(h.prototype, "bold", {
				get: function() {
					return this.$TextField[15]
				},
				set: function(t) {
					this.$setBold(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setBold = function(e) {
				var n = this.$TextField;
				return e != n[15] && (n[15] = e, this.invalidateFontString(), t.nativeRender && this.$nativeDisplayObject.setBold(e), !0)
			}, Object.defineProperty(h.prototype, "italic", {
				get: function() {
					return this.$TextField[16]
				},
				set: function(t) {
					this.$setItalic(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setItalic = function(e) {
				var n = this.$TextField;
				return e != n[16] && (n[16] = e, this.invalidateFontString(), t.nativeRender && this.$nativeDisplayObject.setItalic(e), !0)
			}, Object.defineProperty(h.prototype, "shadow", {
				get: function() {
					return this.$TextField[42]
				},
				set: function(t) {
					this.$setShadow(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setShadow = function(t) {
				var e = this.$TextField;
				return t != e[42] && (e[42] = t, this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "shadowColor", {
				get: function() {
					return this.$TextField[43]
				},
				set: function(t) {
					this.$setShadowColor(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setShadowColor = function(e) {
				var n = this.$TextField;
				return e != n[43] && null != e && (n[43] = e, n[44] = t.toColorString(e), this.shadow && this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "shadowOffsetX", {
				get: function() {
					return this.$TextField[45]
				},
				set: function(t) {
					this.$setShadowOffsetX(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setShadowOffsetX = function(t) {
				var e = this.$TextField;
				return t != e[45] && (e[45] = t, this.shadow && this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "shadowOffsetY", {
				get: function() {
					return this.$TextField[46]
				},
				set: function(t) {
					this.$setShadowOffsetY(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setShadowOffsetY = function(t) {
				var e = this.$TextField;
				return t != e[46] && (e[46] = t, this.shadow && this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "shadowBlur", {
				get: function() {
					return this.$TextField[47]
				},
				set: function(t) {
					this.$setShadowBlur(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setShadowBlur = function(t) {
				var e = this.$TextField;
				return t != e[47] && (e[47] = t, this.shadow && this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "underline", {
				get: function() {
					return this.$TextField[39]
				},
				set: function(t) {
					this.$setUnderline(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setUnderline = function(e) {
				var n = this.$TextField;
				if (e == n[39]) return !1;
				if (n[39] = e, this.$invalidateTextField(), t.nativeRender) {
					var r = {
						textColor: n[2],
						underline: n[39]
					};
					this.$nativeDisplayObject.setTextFlow([{
						text: n[13],
						style: r
					}])
				}
				return !0
			}, Object.defineProperty(h.prototype, "linethrough", {
				get: function() {
					return this.$TextField[48]
				},
				set: function(t) {
					this.$setLinethrough(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setLinethrough = function(t) {
				var e = this.$TextField;
				return t != e[48] && (e[48] = t, this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "autoAdjustFontSize", {
				get: function() {
					return this.$TextField[49]
				},
				set: function(t) {
					this.$setAutoAdjustFontSize(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setAutoAdjustFontSize = function(t) {
				var e = this.$TextField;
				return t != e[49] && (e[49] = t, this.$invalidateTextField(), !0)
			}, Object.defineProperty(h.prototype, "richmode", {
				get: function() {
					return this.$TextField[40]
				},
				set: function(t) {
					this.$setRichmode(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setRichmode = function(t) {
				var e = this.$TextField;
				return t != e[40] && (e[40] = t, this.text = t ? e[13] : e[41], !0)
			}, h.prototype.invalidateFontString = function() {
				this.$TextField[17] = !0, this.$invalidateTextField()
			}, Object.defineProperty(h.prototype, "textAlign", {
				get: function() {
					return this.$TextField[9]
				},
				set: function(t) {
					this.$setTextAlign(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setTextAlign = function(e) {
				var n = this.$TextField;
				return n[9] != e && (n[9] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setTextAlign(e), !0)
			}, Object.defineProperty(h.prototype, "verticalAlign", {
				get: function() {
					return this.$TextField[10]
				},
				set: function(t) {
					this.$setVerticalAlign(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setVerticalAlign = function(e) {
				var n = this.$TextField;
				return n[10] != e && (n[10] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setVerticalAlign(e), !0)
			}, Object.defineProperty(h.prototype, "lineSpacing", {
				get: function() {
					return this.$TextField[1]
				},
				set: function(t) {
					this.$setLineSpacing(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setLineSpacing = function(e) {
				var n = this.$TextField;
				return n[1] != e && (n[1] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setLineSpacing(e), !0)
			}, Object.defineProperty(h.prototype, "textColor", {
				get: function() {
					return this.$TextField[2]
				},
				set: function(t) {
					this.$setTextColor(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setTextColor = function(e) {
				var n = this.$TextField;
				return n[2] != e && null != e && (n[2] = e, this.inputUtils && this.inputUtils._setColor(this.$TextField[2]), this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setTextColor(e), !0)
			}, Object.defineProperty(h.prototype, "wordWrap", {
				get: function() {
					return this.$TextField[19]
				},
				set: function(t) {
					this.$setWordWrap(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setWordWrap = function(e) {
				var n = this.$TextField;
				e != n[19] && (n[20] || (n[19] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setWordWrap(e)))
			}, Object.defineProperty(h.prototype, "type", {
				get: function() {
					return this.$TextField[24]
				},
				set: function(t) {
					this.$setType(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setType = function(e) {
				var n = this.$TextField;
				return n[24] != e && (n[24] = e, t.nativeRender && this.$nativeDisplayObject.setType(e), e == t.TextFieldType.INPUT ? (isNaN(n[3]) && this.$setWidth(100), isNaN(n[4]) && this.$setHeight(30), this.$setTouchEnabled(!0), null == this.inputUtils && (this.inputUtils = new t.InputController), this.inputUtils.init(this), this.$invalidateTextField(), this.$stage && this.inputUtils._addStageText()) : (this.inputUtils && (this.inputUtils._removeStageText(), this.inputUtils = null), this.$setTouchEnabled(!1)), !0)
			}, Object.defineProperty(h.prototype, "inputType", {
				get: function() {
					return this.$TextField[37]
				},
				set: function(e) {
					this.$TextField[37] != e && (this.$TextField[37] = e, t.nativeRender && this.$nativeDisplayObject.setInputType(e))
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "text", {
				get: function() {
					return this.$getText()
				},
				set: function(t) {
					this.$setText(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$getText = function() {
				return this.$TextField[24] == t.TextFieldType.INPUT ? this.inputUtils._getText() : this.$TextField[13]
			}, h.prototype.$setRichText = function(t) {
				var e = this.$TextField;
				if (e[41] !== t) {
					this.$invalidateTextField(), e[41] = t, this.$richColor = e[2], this.$richSize = e[0];
					var n = e[16],
						r = e[15],
						s = e[39];
					this.$textArr = [];
					for (var h = 0; h < t.length; h++)
						if ("#" === t.charAt(h)) {
							var u = this.$parseSpecial(t, h + 1);
							if (u < 0) break;
							h += u
						} else {
							var o = t.indexOf("#", h);
							o = -1 === o ? t.length : o, this.$pushTextElement(t.substr(h, o - h)), h = o - 1
						}
					return e[16] = n, e[15] = r, e[39] = s, this.textFlow = this.$textArr, this.$textArr = [], !0
				}
				return !1
			}, h.prototype.$parseSpecial = function(t, e) {
				if (e >= t.length) return -1;
				var n = this.$TextField;
				switch (t[e]) {
					case "#":
						return this.$pushTextElement("#"), 1;
					case "R":
						return this.$richColor = 16711680, 1;
					case "G":
						return this.$richColor = 65280, 1;
					case "B":
						return this.$richColor = 255, 1;
					case "Y":
						return this.$richColor = 16776960, 1;
					case "W":
						return this.$richColor = 16777215, 1;
					case "K":
						return this.$richColor = 0, 1;
					case "Z":
						return this.$richColor = n[2], this.$richSize = n[0], 1;
					case "u":
						return n[39] = !n[39], 1;
					case "b":
						return n[15] = !n[15], 1;
					case "I":
						return n[16] = !n[16], 1;
					case "c":
						for (var r = 0, s = 1; s <= 6; s++) {
							var h = Number("0x" + t[e + s]);
							if (isNaN(h)) return 0;
							r = (r << 4) + h
						}
						return this.$richColor = r, 7;
					case "r":
						return this.$newline(), 1;
					case "0":
					case "1":
					case "2":
					case "3":
					case "4":
					case "5":
					case "6":
					case "7":
					case "8":
					case "9":
						var u = Number(t[e]);
						for (h = 1; e + h < t.length && !isNaN(Number(t[e + h])) && h < 2;) u = 10 * u + Number(t[e + h]), h++;
						return this.$richSize = u, h
				}
				return 0
			}, h.prototype.$pushTextElement = function(t) {
				var e = this.$TextField,
					n = {
						bold: e[15],
						italic: e[16],
						underline: e[39]
					};
				this.$richColor !== e[2] && (n.textColor = this.$richColor), this.$richSize !== e[0] && (n.size = this.$richSize), this.$textArr.push({
					text: t,
					style: n
				})
			}, h.prototype.$newline = function() {
				this.$textArr.push({
					text: "\n"
				})
			}, h.prototype.$setBaseText = function(e) {
				e = null == e ? "" : e.toString(), this.isFlow = !1;
				var n = this.$TextField;
				if (n[13] != e) {
					this.$invalidateTextField(), n[13] = e;
					var r;
					if (r = n[20] ? this.changeToPassText(e) : e, t.nativeRender)
						if (n[39]) {
							var s = {
								textColor: n[2],
								underline: n[39]
							};
							this.$nativeDisplayObject.setTextFlow([{
								text: r,
								style: s
							}])
						} else this.$nativeDisplayObject.setText(r || " ");
					return this.setMiddleStyle([{
						text: r
					}]), !0
				}
				return !1
			}, h.prototype.$setText = function(t) {
				null == t && (t = "");
				var e = this.$TextField[40] ? this.$setRichText(t) : this.$setBaseText(t);
				return this.inputUtils && this.inputUtils._setText(this.$TextField[13]), e
			}, Object.defineProperty(h.prototype, "displayAsPassword", {
				get: function() {
					return this.$TextField[20]
				},
				set: function(t) {
					this.$setDisplayAsPassword(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setDisplayAsPassword = function(e) {
				var n = this.$TextField;
				if (n[20] != e) {
					n[20] = e, this.$invalidateTextField();
					var r;
					return r = e ? this.changeToPassText(n[13]) : n[13], t.nativeRender && this.$nativeDisplayObject.setText(r), this.setMiddleStyle([{
						text: r
					}]), !0
				}
				return !1
			}, Object.defineProperty(h.prototype, "strokeColor", {
				get: function() {
					return this.$TextField[25]
				},
				set: function(t) {
					this.$setStrokeColor(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setStrokeColor = function(e) {
				var n = this.$TextField;
				return n[25] != e && null != e && (this.$invalidateTextField(), n[25] = e, t.nativeRender && this.$nativeDisplayObject.setStrokeColor(e), n[26] = t.toColorString(e), !0)
			}, Object.defineProperty(h.prototype, "stroke", {
				get: function() {
					return this.$TextField[27]
				},
				set: function(t) {
					this.$setStroke(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setStroke = function(e) {
				return this.$TextField[27] != e && (this.$invalidateTextField(), this.$TextField[27] = e, t.nativeRender && this.$nativeDisplayObject.setStroke(e), !0)
			}, Object.defineProperty(h.prototype, "maxChars", {
				get: function() {
					return this.$TextField[21]
				},
				set: function(t) {
					this.$setMaxChars(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setMaxChars = function(e) {
				return this.$TextField[21] != e && (this.$TextField[21] = e, t.nativeRender && this.$nativeDisplayObject.setMaxChars(e), !0)
			}, Object.defineProperty(h.prototype, "scrollV", {
				get: function() {
					return Math.min(Math.max(this.$TextField[28], 1), this.maxScrollV)
				},
				set: function(e) {
					(e = Math.max(e, 1)) != this.$TextField[28] && (this.$TextField[28] = e, t.nativeRender && this.$nativeDisplayObject.setScrollV(e), this.$invalidateTextField())
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "maxScrollV", {
				get: function() {
					return this.$getLinesArr(), Math.max(this.$TextField[29] - t.TextFieldUtils.$getScrollNum(this) + 1, 1)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "selectionBeginIndex", {
				get: function() {
					return 0
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "selectionEndIndex", {
				get: function() {
					return 0
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "caretIndex", {
				get: function() {
					return 0
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setSelection = function(t, e) {
				return !1
			}, h.prototype.$getLineHeight = function() {
				return this.$TextField[1] + this.$TextField[0]
			}, Object.defineProperty(h.prototype, "numLines", {
				get: function() {
					return this.$getLinesArr(), this.$TextField[29]
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "multiline", {
				get: function() {
					return this.$TextField[30]
				},
				set: function(t) {
					this.$setMultiline(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setMultiline = function(e) {
				return this.$TextField[30] != e && (this.$TextField[30] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setMultiline(e), !0)
			}, Object.defineProperty(h.prototype, "restrict", {
				get: function() {
					var t = this.$TextField,
						e = null;
					return null != t[35] && (e = t[35]), null != t[36] && (null == e && (e = ""), e += "^" + t[36]), e
				},
				set: function(t) {
					var e = this.$TextField;
					if (null == t) e[35] = null, e[36] = null;
					else {
						for (var n = -1; n < t.length && 0 != (n = t.indexOf("^", n)) && n > 0 && "\\" == t.charAt(n - 1);) n++;
						0 == n ? (e[35] = null, e[36] = t.substring(n + 1)) : n > 0 ? (e[35] = t.substring(0, n), e[36] = t.substring(n + 1)) : (e[35] = t, e[36] = null)
					}
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setWidth = function(e) {
				t.nativeRender && this.$nativeDisplayObject.setTextFieldWidth(e);
				var n = this.$TextField;
				if (isNaN(e)) {
					if (isNaN(n[3])) return !1;
					n[3] = NaN
				} else {
					if (n[3] == e) return !1;
					n[3] = e
				}
				return !((e = +e) < 0 || (this.$invalidateTextField(), 0))
			}, h.prototype.$setHeight = function(e) {
				t.nativeRender && this.$nativeDisplayObject.setTextFieldHeight(e);
				var n = this.$TextField;
				if (isNaN(e)) {
					if (isNaN(n[4])) return !1;
					n[4] = NaN
				} else {
					if (n[4] == e) return !1;
					n[4] = e
				}
				return !((e = +e) < 0 || (this.$invalidateTextField(), 0))
			}, h.prototype.$getWidth = function() {
				var t = this.$TextField;
				return isNaN(t[3]) ? this.$getContentBounds().width : t[3]
			}, h.prototype.$getHeight = function() {
				var t = this.$TextField;
				return isNaN(t[4]) ? this.$getContentBounds().height : t[4]
			}, Object.defineProperty(h.prototype, "border", {
				get: function() {
					return this.$TextField[31]
				},
				set: function(t) {
					this.$setBorder(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setBorder = function(e) {
				e = !!e, this.$TextField[31] != e && (this.$TextField[31] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setBorder(e))
			}, Object.defineProperty(h.prototype, "borderColor", {
				get: function() {
					return this.$TextField[32]
				},
				set: function(t) {
					this.$setBorderColor(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setBorderColor = function(e) {
				e = +e || 0, this.$TextField[32] != e && (this.$TextField[32] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setBorderColor(e))
			}, Object.defineProperty(h.prototype, "background", {
				get: function() {
					return this.$TextField[33]
				},
				set: function(t) {
					this.$setBackground(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setBackground = function(e) {
				this.$TextField[33] != e && (this.$TextField[33] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setBackground(e))
			}, Object.defineProperty(h.prototype, "backgroundColor", {
				get: function() {
					return this.$TextField[34]
				},
				set: function(t) {
					this.$setBackgroundColor(t)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.$setBackgroundColor = function(e) {
				this.$TextField[34] != e && (this.$TextField[34] = e, this.$invalidateTextField(), t.nativeRender && this.$nativeDisplayObject.setBackgroundColor(e))
			}, h.prototype.fillBackground = function(e) {
				var n = this.$graphicsNode;
				n && n.clear();
				var r = this.$TextField;
				if (r[33] || r[31] || e && e.length > 0) {
					if (!n)
						if (n = this.$graphicsNode = new t.sys.GraphicsNode, t.nativeRender) this.$renderNode = this.textNode;
						else {
							var s = new t.sys.GroupNode;
							s.addNode(n), s.addNode(this.textNode), this.$renderNode = s
						}
					var h = void 0;
					if (r[33] && n.beginFill(r[34]).drawRect(0, 0, this.$getWidth(), this.$getHeight()), r[31] && (h = n.lineStyle(1, r[32])).drawRect(0, 0, this.$getWidth() - 1, this.$getHeight() - 1), e && e.length > 0)
						for (var u = r[2], o = -1, a = e.length, c = 0; c < a; c += 4) {
							var f = e[c],
								l = e[c + 1],
								v = e[c + 2],
								g = e[c + 3] || u;
							(o < 0 || o != g) && (o = g, h = n.lineStyle(2, g, 1, t.CapsStyle.NONE)), h.moveTo(f, l), h.lineTo(f + v, l)
						}
				}
				if (n) {
					var b = this.$getRenderBounds();
					n.x = b.x, n.y = b.y, n.width = b.width, n.height = b.height, t.Rectangle.release(b)
				}
			}, h.prototype.setFocus = function() {
				this.type == t.TextFieldType.INPUT && this.$stage && this.inputUtils.$onFocus()
			}, h.prototype.$onRemoveFromStage = function() {
				s.prototype.$onRemoveFromStage.call(this), this.removeEvent(), this.$TextField[24] == t.TextFieldType.INPUT && this.inputUtils._removeStageText(), this.textNode && (this.textNode.clean(), t.nativeRender && egret_native.NativeDisplayObject.disposeTextData(this))
			}, h.prototype.$onVisibleChanged = function(t) {
				this.$stage && this.textNode && !t && this.textNode.clean()
			}, h.prototype.$onAddToStage = function(e, n) {
				s.prototype.$onAddToStage.call(this, e, n), this.addEvent(), this.$TextField[24] == t.TextFieldType.INPUT && this.inputUtils._addStageText()
			}, h.prototype.$invalidateTextField = function() {
				this.$renderDirty = !0, this.$TextField[18] = !0, this.$TextField[38] = !0, t.nativeRender ? this.$TextField[24] == t.TextFieldType.INPUT && this.$isTyping && this.inputUtils._updateProperties() : this.markDirtyUp(!1)
			}, h.prototype.$getRenderBounds = function() {
				var e = this.$getContentBounds(),
					n = t.Rectangle.create();
				n.copyFrom(e), this.$TextField[31] && (n.width += 2, n.height += 2);
				var r = 2 * this.$TextField[27];
				return r > 0 && (n.width += 2 * r, n.height += 2 * r), n.x -= r + 2, n.y -= r + 2, n.width = Math.ceil(n.width) + 4, n.height = Math.ceil(n.height) + 4, n
			}, h.prototype.$measureContentBounds = function(e) {
				this.$getLinesArr();
				var n = 0,
					r = 0;
				t.nativeRender ? (n = egret_native.nrGetTextFieldWidth(this.$nativeDisplayObject.id), r = egret_native.nrGetTextFieldHeight(this.$nativeDisplayObject.id)) : (n = isNaN(this.$TextField[3]) ? this.$TextField[5] : this.$TextField[3], r = isNaN(this.$TextField[4]) ? t.TextFieldUtils.$getTextHeight(this) : this.$TextField[4]), e.setTo(0, 0, n, r)
			}, h.prototype.$updateRenderNode = function() {
				if (this.$TextField[24] == t.TextFieldType.INPUT) {
					if (this.inputUtils._updateProperties(), this.$isTyping) return void this.fillBackground()
				} else if (0 == this.$TextField[3]) {
					var e = this.$graphicsNode;
					return void(e && e.clear())
				}
				var n = this.drawText();
				this.fillBackground(n);
				var r = this.$getRenderBounds(),
					s = this.textNode;
				s.x = r.x, s.y = r.y, s.width = Math.ceil(r.width), s.height = Math.ceil(r.height), t.Rectangle.release(r)
			}, Object.defineProperty(h.prototype, "textFlow", {
				get: function() {
					return this.textArr
				},
				set: function(e) {
					this.isFlow = !0;
					var n = "";
					null == e && (e = []);
					for (var r = 0; r < e.length; r++) n += e[r].text;
					this.$TextField[20] ? this.$setBaseText(n) : (this.$TextField[13] = n, this.setMiddleStyle(e), t.nativeRender && this.$nativeDisplayObject.setTextFlow(e))
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.changeToPassText = function(t) {
				if (this.$TextField[20]) {
					for (var e = "", n = 0, r = t.length; n < r; n++) switch (t.charAt(n)) {
						case "\n":
							e += "\n";
							break;
						case "\r":
							break;
						default:
							e += "*"
					}
					return e
				}
				return t
			}, h.prototype.setMiddleStyle = function(t) {
				this.$TextField[18] = !0, this.$TextField[38] = !0, this.textArr = [];
				for (var e = 0, n = t.length; e < n; e++)
					for (var r = t[e], s = r.text.split(/(\t)/), h = 0; h < s.length; h++) s[h] && this.textArr.push({
						text: s[h],
						style: r.style
					});
				this.$invalidateTextField()
			}, Object.defineProperty(h.prototype, "textWidth", {
				get: function() {
					return this.$getLinesArr(), t.nativeRender ? egret_native.nrGetTextWidth(this.$nativeDisplayObject.id) : this.$TextField[5]
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(h.prototype, "textHeight", {
				get: function() {
					return this.$getLinesArr(), t.nativeRender ? egret_native.nrGetTextHeight(this.$nativeDisplayObject.id) : t.TextFieldUtils.$getTextHeight(this)
				},
				enumerable: !0,
				configurable: !0
			}), h.prototype.appendText = function(t) {
				this.appendElement({
					text: t
				})
			}, h.prototype.appendElement = function(e) {
				var n = this.$TextField[13] + e.text;
				if (t.nativeRender) return this.textArr.push(e), this.$TextField[13] = n, this.$TextField[18] = !0, this.$TextField[38] = !0, void this.$nativeDisplayObject.setTextFlow(this.textArr);
				this.$TextField[20] ? this.$setBaseText(n) : (this.$TextField[13] = n, this.textArr.push(e), this.setMiddleStyle(this.textArr))
			}, h.prototype.$getLinesArr = function() {
				var e = this.$TextField;
				return t.nativeRender && e[38] ? (egret_native.updateNativeRender(), void(e[38] = !1)) : this.$getLinesArr2()
			}, h.prototype.$getLinesArr2 = function() {
				var s = this.$TextField;
				if (!s[18]) return this.linesArr;
				s[18] = !1;
				var h = this.textArr;
				this.linesArr.length = 0, s[6] = 0, s[5] = 0;
				var u = s[3];
				if (!isNaN(u) && 0 == u) return s[29] = 0, [{
					width: 0,
					height: 0,
					charNum: 0,
					elements: [],
					hasNextLine: !1
				}];
				for (var o, a = this.linesArr, c = 0, f = 0, l = 0, v = 0, g = 0, b = h.length; g < b; g++) {
					var d = h[g];
					if (d.text) {
						d.style = d.style || {};
						for (var m = d.text.toString().split(/(?:\r\n|\r|\n)/), _ = 0, p = m.length; _ < p; _++) {
							null == a[v] && (o = {
								width: 0,
								height: 0,
								elements: [],
								charNum: 0,
								hasNextLine: !1
							}, a[v] = o, c = 0, l = 0, f = 0), l = s[24] == t.TextFieldType.INPUT ? s[0] : Math.max(l, d.style.size || s[0]);
							var w = !0;
							if ("" == m[_]) _ == p - 1 && (w = !1);
							else {
								var O = n(m[_], s, d.style);
								if (isNaN(u) || "\t" !== m[_] || (O = r(c, u, s, d.style)), isNaN(u)) c += O, f += m[_].length, o.elements.push({
									width: O,
									text: m[_],
									style: d.style
								}), _ == p - 1 && (w = !1);
								else if (c + O <= u) o.elements.push({
									width: O,
									text: m[_],
									style: d.style
								}), c += O, f += m[_].length, _ == p - 1 && (w = !1);
								else if (!s[30] && s[49]) {
									for (d.style.size = d.style.size || s[0]; --d.style.size > 0;)
										if (c + (O = n(m[_], s, d.style)) <= u) {
											o.elements.push({
												width: O,
												text: m[_],
												style: d.style
											}), c += O, f += m[_].length, _ == p - 1 && (w = !1), l = d.style.size;
											break
										}
								} else {
									for (var y = 0, j = 0, M = m[_], x = void 0, N = (x = s[19] ? M.split(e) : M.match(/./g)).length, k = 0; y < N; y++) {
										var A = !1;
										if (1 == (I = x[y].length) && y < N - 1) {
											var E = x[y].charCodeAt(0),
												C = x[y + 1].charCodeAt(0);
											E >= 55296 && E <= 56319 && 56320 == (64512 & C) ? (I = 2, A = !0, O = n(x[y] + x[y + 1], s, d.style)) : O = n(x[y], s, d.style)
										} else O = n(x[y], s, d.style);
										if (0 != c && c + O > u && c + y != 0) break;
										if (j + O > u)
											for (var T = x[y].match(/./g), S = 0, U = T.length; S < U; S++) {
												var I, D = !1;
												if (1 == (I = T[S].length) && S < U - 1 ? (E = T[S].charCodeAt(0), C = T[S + 1].charCodeAt(0), E >= 55296 && E <= 56319 && 56320 == (64512 & C) ? (I = 2, D = !0, O = n(T[S] + T[S + 1], s, d.style)) : O = n(T[S], s, d.style)) : O = n(T[S], s, d.style), S > 0 && c + O > u) break;
												j += O, c += O, f += k += I, D && S++
											} else j += O, c += O, f += k += I;
										A && y++
									}
									if (y > 0) {
										o.elements.push({
											width: j,
											text: M.substring(0, k),
											style: d.style
										});
										var F = M.substring(k),
											B = void 0,
											R = F.length;
										for (B = 0; B < R && " " == F.charAt(B); B++);
										m[_] = F.substring(B)
									}
									"" != m[_] && (_--, w = !1)
								}
							}
							w && (f++, o.hasNextLine = !0), _ < m.length - 1 && (o.width = c, o.height = l, o.charNum = f, s[5] = Math.max(s[5], c), s[6] += l, v++)
						}
						g == h.length - 1 && o && (o.width = c, o.height = l, o.charNum = f, s[5] = Math.max(s[5], c), s[6] += l)
					} else o && (o.width = c, o.height = l, o.charNum = f, s[5] = Math.max(s[5], c), s[6] += l)
				}
				return s[29] = a.length, a
			}, h.prototype.$setIsTyping = function(e) {
				this.$isTyping = e, this.$invalidateTextField(), t.nativeRender && (this.$nativeDisplayObject.setIsTyping(e), this.$nativeDisplayObject.setVisible(!e))
			}, h.prototype.drawText = function() {
				var e = this.textNode,
					n = this.$TextField;
				e.bold = n[15], e.fontFamily = n[8] || h.default_fontFamily, e.italic = n[16], e.size = n[0], e.stroke = n[27], e.strokeColor = n[25], e.textColor = n[2], e.shadow = n[42], e.shadowColor = n[43], e.shadowOffsetX = n[45], e.shadowOffsetY = n[46], e.shadowBlur = n[47];
				var r = this.$getLinesArr();
				if (0 == n[5]) return [];
				var s = isNaN(n[3]) ? n[5] : n[3],
					u = t.TextFieldUtils.$getTextHeight(this),
					o = 0,
					a = t.TextFieldUtils.$getStartLine(this),
					c = n[4];
				!isNaN(c) && c > u && (o += t.TextFieldUtils.$getValign(this) * (c - u)), o = Math.round(o);
				for (var f = t.TextFieldUtils.$getHalign(this), l = 0, v = [], g = a, b = n[29]; g < b; g++) {
					var d = r[g],
						m = d.height;
					if (o += m / 2, g != a) {
						if (n[24] == t.TextFieldType.INPUT && !n[30]) break;
						if (!isNaN(c) && o > c) break
					}
					l = Math.round((s - d.width) * f);
					for (var _ = 0, p = d.elements.length; _ < p; _++) {
						var w = d.elements[_],
							O = w.style.size || n[0],
							y = 0;
						t.textAtlasRenderEnable && "webgl" === t.Capabilities.renderMode ? (e.drawText(l + 2 * n[27] + 2, o + (m - O) / 2 + 2 * n[27] + 2, w.text, w.style), y = 1) : t.Capabilities.runtimeType === t.RuntimeType.WEB && "webgl" === t.Capabilities.renderMode ? e.drawText(l, o + m - O / 2 + 2, w.text, w.style) : e.drawText(l, o + (m - O) / 2, w.text, w.style), (w.style.underline || n[39]) && v.push(l, o + m / 2 + y, w.width, w.style.textColor), (w.style.linethrough || n[48]) && v.push(l, o + y, w.width, w.style.textColor), l += w.width
					}
					o += m / 2 + n[1]
				}
				return v
			}, h.prototype.addEvent = function() {
				this.addEventListener(t.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
			}, h.prototype.removeEvent = function() {
				this.removeEventListener(t.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
			}, h.prototype.onTapHandler = function(e) {
				if (this.$TextField[24] != t.TextFieldType.INPUT) {
					var n = t.TextFieldUtils.$getTextElement(this, e.localX, e.localY);
					if (null != n) {
						var r = n.style;
						if (r && r.href)
							if (r.href.match(/^event:/)) {
								var s = r.href.match(/^event:/)[0];
								t.TextEvent.dispatchTextEvent(this, t.TextEvent.LINK, r.href.substring(s.length))
							} else open(r.href, r.target || "_blank")
					}
				}
			}, h.default_fontFamily = "Arial", h.default_size = 30, h.default_textColor = 16777215, h
		}(t.DisplayObject);
		t.TextField = s, __reflect(s.prototype, "egret.TextField")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.TEXT = "text", t.TEL = "tel", t.PASSWORD = "password", t
		}();
		t.TextFieldInputType = e, __reflect(e.prototype, "egret.TextFieldInputType")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.DYNAMIC = "dynamic", t.INPUT = "input", t
		}();
		t.TextFieldType = e, __reflect(e.prototype, "egret.TextFieldType")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function e() {}
			return e.$getStartLine = function(t) {
				var n = t.$TextField,
					r = e.$getTextHeight(t),
					s = 0,
					h = n[4];
				return isNaN(h) || (r < h || r > h && (s = Math.max(n[28] - 1, 0), s = Math.min(n[29] - 1, s)), n[30] || (s = Math.max(n[28] - 1, 0), n[29] > 0 && (s = Math.min(n[29] - 1, s)))), s
			}, e.$getHalign = function(e) {
				var n = e.$getLinesArr2(),
					r = 0;
				return e.$TextField[9] == t.HorizontalAlign.CENTER ? r = .5 : e.$TextField[9] == t.HorizontalAlign.RIGHT && (r = 1), e.$TextField[24] == t.TextFieldType.INPUT && !e.$TextField[30] && n.length > 1 && (r = 0), r
			}, e.$getTextHeight = function(e) {
				return t.TextFieldType.INPUT != e.$TextField[24] || e.$TextField[30] ? e.$TextField[6] + (e.$TextField[29] - 1) * e.$TextField[1] : e.$TextField[0]
			}, e.$getValign = function(n) {
				var r = e.$getTextHeight(n),
					s = n.$TextField[4];
				if (!isNaN(s) && r < s) {
					var h = 0;
					return n.$TextField[10] == t.VerticalAlign.MIDDLE ? h = .5 : n.$TextField[10] == t.VerticalAlign.BOTTOM && (h = 1), h
				}
				return 0
			}, e.$getTextElement = function(t, n, r) {
				var s = e.$getHit(t, n, r),
					h = t.$getLinesArr2();
				return s && h[s.lineIndex] && h[s.lineIndex].elements[s.textElementIndex] ? h[s.lineIndex].elements[s.textElementIndex] : null
			}, e.$getHit = function(t, n, r) {
				var s = t.$getLinesArr2();
				if (0 == t.$TextField[3]) return null;
				var h = 0,
					u = e.$getTextHeight(t),
					o = 0,
					a = t.$TextField[4];
				!isNaN(a) && a > u && 0 != (o = e.$getValign(t) * (a - u)) && (r -= o);
				for (var c = 0, f = e.$getStartLine(t); f < s.length; f++) {
					var l = s[f];
					if (c + l.height >= r) {
						c < r && (h = f + 1);
						break
					}
					if ((c += l.height) + t.$TextField[1] > r) return null;
					c += t.$TextField[1]
				}
				if (0 == h) return null;
				var v = s[h - 1],
					g = t.$TextField[3];
				isNaN(g) && (g = t.textWidth), n -= e.$getHalign(t) * (g - v.width);
				var b = 0;
				for (f = 0; f < v.elements.length; f++) {
					var d = v.elements[f];
					if (b + d.width <= n) b += d.width;
					else if (b < n) return {
						lineIndex: h - 1,
						textElementIndex: f
					}
				}
				return null
			}, e.$getScrollNum = function(t) {
				var e = 1;
				if (t.$TextField[30]) {
					var n = t.height,
						r = t.size,
						s = t.lineSpacing;
					n - (r + s) * (e = Math.floor(n / (r + s))) > r / 2 && e++
				}
				return e
			}, e
		}();
		t.TextFieldUtils = e, __reflect(e.prototype, "egret.TextFieldUtils")
	}(egret || (egret = {})),
	function(t) {
		t.sys || (t.sys = {})
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.TOP = "top", t.BOTTOM = "bottom", t.MIDDLE = "middle", t.JUSTIFY = "justify", t.CONTENT_JUSTIFY = "contentJustify", t
		}();
		t.VerticalAlign = e, __reflect(e.prototype, "egret.VerticalAlign")
	}(egret || (egret = {})),
	function(t) {
		var e = function() {
			function t() {}
			return t.encode = function(t) {
				for (var e = new Uint8Array(t), n = e.length, r = "", s = 0; s < n; s += 3) r += chars[e[s] >> 2], r += chars[(3 & e[s]) << 4 | e[s + 1] >> 4], r += chars[(15 & e[s + 1]) << 2 | e[s + 2] >> 6], r += chars[63 & e[s + 2]];
				return n % 3 == 2 ? r = r.substring(0, r.length - 1) + "=" : n % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r
			}, t.decode = function(t) {
				var e = .75 * t.length,
					n = t.length,
					r = 0,
					s = 0,
					h = 0,
					u = 0,
					o = 0;
				"=" === t[t.length - 1] && (e--, "=" === t[t.length - 2] && e--);
				for (var a = new ArrayBuffer(e), c = new Uint8Array(a), f = 0; f < n; f += 4) s = lookup[t.charCodeAt(f)], h = lookup[t.charCodeAt(f + 1)], u = lookup[t.charCodeAt(f + 2)], o = lookup[t.charCodeAt(f + 3)], c[r++] = s << 2 | h >> 4, c[r++] = (15 & h) << 4 | u >> 2, c[r++] = (3 & u) << 6 | 63 & o;
				return a
			}, t.decode_utf8 = function(t) {
				for (var e = this.decode(t), n = new Uint8Array(e), r = "", s = 0, h = 0; s < n.length;)
					if ((h = n[s]) < 128) r += String.fromCharCode(h), s++;
					else if (h > 191 && h < 224) {
					if (s >= n.length - 1) break;
					var u = n[s + 1];
					r += String.fromCharCode((31 & h) << 6 | 63 & u), s += 2
				} else {
					if (s >= n.length - 2) break;
					u = n[s + 1];
					var o = n[s + 2];
					r += String.fromCharCode((15 & h) << 12 | (63 & u) << 6 | 63 & o), s += 3
				}
				return r
			}, t
		}();
		t.Base64Util = e, __reflect(e.prototype, "egret.Base64Util")
	}(egret || (egret = {}));
for (var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", lookup = new Uint8Array(256), i = 0; i < chars.length; i++) lookup[chars.charCodeAt(i)] = i;
! function(t) {
	var e = function() {
		function t() {}
		return t.LITTLE_ENDIAN = "littleEndian", t.BIG_ENDIAN = "bigEndian", t
	}();
	t.Endian = e, __reflect(e.prototype, "egret.Endian");
	var n = function() {
		function n(t, n) {
			void 0 === n && (n = 0), this.bufferExtSize = 0, this.EOF_byte = -1, this.EOF_code_point = -1, n < 0 && (n = 0), this.bufferExtSize = n;
			var r, s = 0;
			if (t) {
				var h = void 0;
				t instanceof Uint8Array ? (h = t, s = t.length) : (s = t.byteLength, h = new Uint8Array(t)), (r = 0 == n ? new Uint8Array(s) : new Uint8Array((1 + (s / n | 0)) * n)).set(h)
			} else r = new Uint8Array(n);
			this.write_position = s, this._position = 0, this._bytes = r, this.data = new DataView(r.buffer), this.endian = e.BIG_ENDIAN
		}
		return Object.defineProperty(n.prototype, "endian", {
			get: function() {
				return 0 == this.$endian ? e.LITTLE_ENDIAN : e.BIG_ENDIAN
			},
			set: function(t) {
				this.$endian = t == e.LITTLE_ENDIAN ? 0 : 1
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setArrayBuffer = function(t) {}, Object.defineProperty(n.prototype, "readAvailable", {
			get: function() {
				return this.write_position - this._position
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "buffer", {
			get: function() {
				return this.data.buffer.slice(0, this.write_position)
			},
			set: function(t) {
				var e, n = t.byteLength,
					r = new Uint8Array(t),
					s = this.bufferExtSize;
				(e = 0 == s ? new Uint8Array(n) : new Uint8Array((1 + (n / s | 0)) * s)).set(r), this.write_position = n, this._bytes = e, this.data = new DataView(e.buffer)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "rawBuffer", {
			get: function() {
				return this.data.buffer
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "bytes", {
			get: function() {
				return this._bytes
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "dataView", {
			get: function() {
				return this.data
			},
			set: function(t) {
				this.buffer = t.buffer
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "bufferOffset", {
			get: function() {
				return this.data.byteOffset
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "position", {
			get: function() {
				return this._position
			},
			set: function(t) {
				this._position = t, t > this.write_position && (this.write_position = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "length", {
			get: function() {
				return this.write_position
			},
			set: function(t) {
				this.write_position = t, this.data.byteLength > t && (this._position = t), this._validateBuffer(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype._validateBuffer = function(t) {
			if (this.data.byteLength < t) {
				var e = this.bufferExtSize,
					n = void 0;
				(n = 0 == e ? new Uint8Array(t) : new Uint8Array((1 + (t / e >> 0)) * e)).set(this._bytes), this._bytes = n, this.data = new DataView(n.buffer)
			}
		}, Object.defineProperty(n.prototype, "bytesAvailable", {
			get: function() {
				return this.data.byteLength - this._position
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.clear = function() {
			var t = new ArrayBuffer(this.bufferExtSize);
			this.data = new DataView(t), this._bytes = new Uint8Array(t), this._position = 0, this.write_position = 0
		}, n.prototype.readBoolean = function() {
			if (this.validate(1)) return !!this._bytes[this.position++]
		}, n.prototype.readByte = function() {
			if (this.validate(1)) return this.data.getInt8(this.position++)
		}, n.prototype.readBytes = function(e, n, r) {
			if (void 0 === n && (n = 0), void 0 === r && (r = 0), e) {
				var s = this._position,
					h = this.write_position - s;
				if (h < 0) t.$error(1025);
				else {
					if (0 == r) r = h;
					else if (r > h) return void t.$error(1025);
					var u = e._position;
					e._position = 0, e.validateBuffer(n + r), e._position = u, e._bytes.set(this._bytes.subarray(s, s + r), n), this.position += r
				}
			}
		}, n.prototype.readDouble = function() {
			if (this.validate(8)) {
				var t = this.data.getFloat64(this._position, 0 == this.$endian);
				return this.position += 8, t
			}
		}, n.prototype.readFloat = function() {
			if (this.validate(4)) {
				var t = this.data.getFloat32(this._position, 0 == this.$endian);
				return this.position += 4, t
			}
		}, n.prototype.readInt = function() {
			if (this.validate(4)) {
				var t = this.data.getInt32(this._position, 0 == this.$endian);
				return this.position += 4, t
			}
		}, n.prototype.readShort = function() {
			if (this.validate(2)) {
				var t = this.data.getInt16(this._position, 0 == this.$endian);
				return this.position += 2, t
			}
		}, n.prototype.readUnsignedByte = function() {
			if (this.validate(1)) return this._bytes[this.position++]
		}, n.prototype.readUnsignedInt = function() {
			if (this.validate(4)) {
				var t = this.data.getUint32(this._position, 0 == this.$endian);
				return this.position += 4, t
			}
		}, n.prototype.readUnsignedShort = function() {
			if (this.validate(2)) {
				var t = this.data.getUint16(this._position, 0 == this.$endian);
				return this.position += 2, t
			}
		}, n.prototype.readUTF = function() {
			var t = this.readUnsignedShort();
			return t > 0 ? this.readUTFBytes(t) : ""
		}, n.prototype.readUTFBytes = function(t) {
			if (this.validate(t)) {
				var e = this.data,
					n = new Uint8Array(e.buffer, e.byteOffset + this._position, t);
				return this.position += t, this.decodeUTF8(n)
			}
		}, n.prototype.writeBoolean = function(t) {
			this.validateBuffer(1), this._bytes[this.position++] = +t
		}, n.prototype.writeByte = function(t) {
			this.validateBuffer(1), this._bytes[this.position++] = 255 & t
		}, n.prototype.writeBytes = function(t, e, n) {
			var r;
			void 0 === e && (e = 0), void 0 === n && (n = 0), e < 0 || n < 0 || (r = 0 == n ? t.length - e : Math.min(t.length - e, n)) > 0 && (this.validateBuffer(r), this._bytes.set(t._bytes.subarray(e, e + r), this._position), this.position = this._position + r)
		}, n.prototype.writeDouble = function(t) {
			this.validateBuffer(8), this.data.setFloat64(this._position, t, 0 == this.$endian), this.position += 8
		}, n.prototype.writeFloat = function(t) {
			this.validateBuffer(4), this.data.setFloat32(this._position, t, 0 == this.$endian), this.position += 4
		}, n.prototype.writeInt = function(t) {
			this.validateBuffer(4), this.data.setInt32(this._position, t, 0 == this.$endian), this.position += 4
		}, n.prototype.writeShort = function(t) {
			this.validateBuffer(2), this.data.setInt16(this._position, t, 0 == this.$endian), this.position += 2
		}, n.prototype.writeUnsignedInt = function(t) {
			this.validateBuffer(4), this.data.setUint32(this._position, t, 0 == this.$endian), this.position += 4
		}, n.prototype.writeUnsignedShort = function(t) {
			this.validateBuffer(2), this.data.setUint16(this._position, t, 0 == this.$endian), this.position += 2
		}, n.prototype.writeUTF = function(t) {
			var e = this.encodeUTF8(t),
				n = e.length;
			this.validateBuffer(2 + n), this.data.setUint16(this._position, n, 0 == this.$endian), this.position += 2, this._writeUint8Array(e, !1)
		}, n.prototype.writeUTFBytes = function(t) {
			this._writeUint8Array(this.encodeUTF8(t))
		}, n.prototype.toString = function() {
			return "[ByteArray] length:" + this.length + ", bytesAvailable:" + this.bytesAvailable
		}, n.prototype._writeUint8Array = function(t, e) {
			void 0 === e && (e = !0);
			var n = this._position,
				r = n + t.length;
			e && this.validateBuffer(r), this.bytes.set(t, n), this.position = r
		}, n.prototype.validate = function(e) {
			var n = this._bytes.length;
			if (n > 0 && this._position + e <= n) return !0;
			t.$error(1025)
		}, n.prototype.validateBuffer = function(t) {
			this.write_position = t > this.write_position ? t : this.write_position, t += this._position, this._validateBuffer(t)
		}, n.prototype.encodeUTF8 = function(t) {
			for (var e = 0, n = this.stringToCodePoints(t), r = []; n.length > e;) {
				var s = n[e++];
				if (this.inRange(s, 55296, 57343)) this.encoderError(s);
				else if (this.inRange(s, 0, 127)) r.push(s);
				else {
					var h = void 0,
						u = void 0;
					for (this.inRange(s, 128, 2047) ? (h = 1, u = 192) : this.inRange(s, 2048, 65535) ? (h = 2, u = 224) : this.inRange(s, 65536, 1114111) && (h = 3, u = 240), r.push(this.div(s, Math.pow(64, h)) + u); h > 0;) {
						var o = this.div(s, Math.pow(64, h - 1));
						r.push(128 + o % 64), h -= 1
					}
				}
			}
			return new Uint8Array(r)
		}, n.prototype.decodeUTF8 = function(t) {
			for (var e, n = 0, r = "", s = 0, h = 0, u = 0, o = 0; t.length > n;) {
				var a = t[n++];
				if (a == this.EOF_byte) e = 0 != h ? this.decoderError(!1) : this.EOF_code_point;
				else if (0 == h) this.inRange(a, 0, 127) ? e = a : (this.inRange(a, 194, 223) ? (h = 1, o = 128, s = a - 192) : this.inRange(a, 224, 239) ? (h = 2, o = 2048, s = a - 224) : this.inRange(a, 240, 244) ? (h = 3, o = 65536, s = a - 240) : this.decoderError(!1), s *= Math.pow(64, h), e = null);
				else if (this.inRange(a, 128, 191))
					if (u += 1, s += (a - 128) * Math.pow(64, h - u), u !== h) e = null;
					else {
						var c = s,
							f = o;
						s = 0, h = 0, u = 0, o = 0, e = this.inRange(c, f, 1114111) && !this.inRange(c, 55296, 57343) ? c : this.decoderError(!1, a)
					}
				else s = 0, h = 0, u = 0, o = 0, n--, e = this.decoderError(!1, a);
				null !== e && e !== this.EOF_code_point && (e <= 65535 ? e > 0 && (r += String.fromCharCode(e)) : (e -= 65536, r += String.fromCharCode(55296 + (e >> 10 & 1023)), r += String.fromCharCode(56320 + (1023 & e))))
			}
			return r
		}, n.prototype.encoderError = function(e) {
			t.$error(1026, e)
		}, n.prototype.decoderError = function(e, n) {
			return e && t.$error(1027), n || 65533
		}, n.prototype.inRange = function(t, e, n) {
			return e <= t && t <= n
		}, n.prototype.div = function(t, e) {
			return Math.floor(t / e)
		}, n.prototype.stringToCodePoints = function(t) {
			for (var e = [], n = 0, r = t.length; n < t.length;) {
				var s = t.charCodeAt(n);
				if (this.inRange(s, 55296, 57343))
					if (this.inRange(s, 56320, 57343)) e.push(65533);
					else if (n == r - 1) e.push(65533);
				else {
					var h = t.charCodeAt(n + 1);
					if (this.inRange(h, 56320, 57343)) {
						var u = 1023 & s,
							o = 1023 & h;
						n += 1, e.push(65536 + (u << 10) + o)
					} else e.push(65533)
				} else e.push(s);
				n += 1
			}
			return e
		}, n
	}();
	t.ByteArray = n, __reflect(n.prototype, "egret.ByteArray")
}(egret || (egret = {})),
function(t) {
	var e = function(e) {
		function n() {
			var n = e.call(this) || this;
			return n.$graphics = new t.Graphics, n.$graphics.$setTarget(n), n
		}
		return __extends(n, e), n.prototype.createNativeDisplayObject = function() {
			this.$nativeDisplayObject = new egret_native.NativeDisplayObject(9)
		}, Object.defineProperty(n.prototype, "graphics", {
			get: function() {
				return this.$graphics
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$hitTest = function(e, n) {
			if (!this.$visible) return null;
			var r = this.$getInvertedConcatenatedMatrix(),
				s = r.a * e + r.c * n + r.tx,
				h = r.b * e + r.d * n + r.ty,
				u = this.$scrollRect ? this.$scrollRect : this.$maskRect;
			if (u && !u.contains(s, h)) return null;
			if (this.$mask && !this.$mask.$hitTest(e, n)) return null;
			for (var o = this.$children, a = !1, c = null, f = o.length - 1; f >= 0; f--) {
				var l = o[f];
				if (!l.$maskedObject && (c = l.$hitTest(e, n))) {
					if (a = !0, c.$touchEnabled) break;
					c = null
				}
			}
			return c ? this.$touchChildren ? c : this : a ? this : ((c = t.DisplayObject.prototype.$hitTest.call(this, e, n)) && (c = this.$graphics.$hitTest(e, n)), c)
		}, n.prototype.$measureContentBounds = function(t) {
			this.$graphics.$measureContentBounds(t)
		}, n.prototype.$onRemoveFromStage = function() {
			e.prototype.$onRemoveFromStage.call(this), this.$graphics && this.$graphics.$onRemoveFromStage()
		}, n
	}(t.DisplayObjectContainer);
	t.Sprite = e, __reflect(e.prototype, "egret.Sprite")
}(egret || (egret = {})),
function(t) {
	t.registerClass = function(t, e, n) {
		var r = t.prototype;
		Object.defineProperty(r, "__class__", {
			value: e,
			enumerable: !1,
			writable: !0
		});
		var s = [e];
		n && (s = s.concat(n));
		var h = r.__types__;
		if (r.__types__)
			for (var u = h.length, o = 0; o < u; o++) {
				var a = h[o]; - 1 == s.indexOf(a) && s.push(a)
			}
		Object.defineProperty(r, "__types__", {
			value: s,
			enumerable: !1,
			writable: !0
		})
	}
}(egret || (egret = {})),
function(t) {
	t.BitmapFillMode = {
		REPEAT: "repeat",
		SCALE: "scale",
		CLIP: "clip"
	}
}(egret || (egret = {})),
function(t) {
	var e = function() {
		function t() {}
		return Object.defineProperty(t, "logLevel", {
			set: function(t) {},
			enumerable: !0,
			configurable: !0
		}), t.ALL = "all", t.DEBUG = "debug", t.INFO = "info", t.WARN = "warn", t.ERROR = "error", t.OFF = "off", t
	}();
	t.Logger = e, __reflect(e.prototype, "egret.Logger")
}(egret || (egret = {})),
function(t) {
	var e = function() {
		function t() {}
		return t.isNumber = function(t) {
			return "number" == typeof t && !isNaN(t)
		}, t.sin = function(e) {
			var n = Math.floor(e),
				r = n + 1,
				s = t.sinInt(n);
			return n == e ? s : (e - n) * t.sinInt(r) + (r - e) * s
		}, t.sinInt = function(t) {
			return (t %= 360) < 0 && (t += 360), egret_sin_map[t]
		}, t.cos = function(e) {
			var n = Math.floor(e),
				r = n + 1,
				s = t.cosInt(n);
			return n == e ? s : (e - n) * t.cosInt(r) + (r - e) * s
		}, t.cosInt = function(t) {
			return (t %= 360) < 0 && (t += 360), egret_cos_map[t]
		}, t.convertStringToHashCode = function(t) {
			if (0 === t.length) return 0;
			for (var e = 0, n = 0, r = t.length; n < r; ++n) e = (e << 5) - e + t.charCodeAt(n), e |= 0;
			return e
		}, t
	}();
	t.NumberUtils = e, __reflect(e.prototype, "egret.NumberUtils")
}(egret || (egret = {}));
for (var egret, egret_sin_map = {}, egret_cos_map = {}, DEG_TO_RAD = Math.PI / 180, NumberUtils_i = 0; NumberUtils_i < 360; NumberUtils_i++) egret_sin_map[NumberUtils_i] = Math.sin(NumberUtils_i * DEG_TO_RAD), egret_cos_map[NumberUtils_i] = Math.cos(NumberUtils_i * DEG_TO_RAD);
egret_sin_map[90] = 1, egret_cos_map[90] = 0, egret_sin_map[180] = 0, egret_cos_map[180] = -1, egret_sin_map[270] = -1, egret_cos_map[270] = 0, Function.prototype.bind || (Function.prototype.bind = function(t) {
		"function" != typeof this && egret.$error(1029);
		var e = Array.prototype.slice.call(arguments, 1),
			n = this,
			r = function() {},
			s = function() {
				return n.apply(this instanceof r && t ? this : t, e.concat(Array.prototype.slice.call(arguments)))
			};
		return r.prototype = this.prototype, s.prototype = new r, s
	}),
	function(t) {
		var e = function(e) {
			function n(t, n) {
				void 0 === n && (n = 0);
				var r = e.call(this) || this;
				return r._delay = 0, r._currentCount = 0, r._running = !1, r.updateInterval = 1e3, r.lastCount = 1e3, r.lastTimeStamp = 0, r.delay = t, r.repeatCount = 0 | +n, r
			}
			return __extends(n, e), Object.defineProperty(n.prototype, "delay", {
				get: function() {
					return this._delay
				},
				set: function(t) {
					t < 1 && (t = 1), this._delay != t && (this._delay = t, this.lastCount = this.updateInterval = Math.round(60 * t))
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "currentCount", {
				get: function() {
					return this._currentCount
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "running", {
				get: function() {
					return this._running
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.reset = function() {
				this.stop(), this._currentCount = 0
			}, n.prototype.start = function() {
				this._running || (this.lastCount = this.updateInterval, this.lastTimeStamp = t.getTimer(), t.ticker.$startTick(this.$update, this), this._running = !0)
			}, n.prototype.stop = function() {
				this._running && (t.stopTick(this.$update, this), this._running = !1)
			}, n.prototype.$update = function(e) {
				if (e - this.lastTimeStamp >= this._delay) this.lastCount = this.updateInterval;
				else {
					if (this.lastCount -= 1e3, this.lastCount > 0) return !1;
					this.lastCount += this.updateInterval
				}
				this.lastTimeStamp = e, this._currentCount++;
				var n = this.repeatCount > 0 && this._currentCount >= this.repeatCount;
				return (0 == this.repeatCount || this._currentCount <= this.repeatCount) && t.TimerEvent.dispatchTimerEvent(this, t.TimerEvent.TIMER), n && (this.stop(), t.TimerEvent.dispatchTimerEvent(this, t.TimerEvent.TIMER_COMPLETE)), !1
			}, n
		}(t.EventDispatcher);
		t.Timer = e, __reflect(e.prototype, "egret.Timer")
	}(egret || (egret = {})), egret || (egret = {}),
	function(t) {
		t.$callLaterFunctionList = [], t.$callLaterThisList = [], t.$callLaterArgsList = [], t.callLater = function(e, n) {
			for (var r = [], s = 2; s < arguments.length; s++) r[s - 2] = arguments[s];
			t.$callLaterFunctionList.push(e), t.$callLaterThisList.push(n), t.$callLaterArgsList.push(r)
		}, t.$callAsyncFunctionList = [], t.$callAsyncThisList = [], t.$callAsyncArgsList = [], t.$callAsync = function(e, n) {
			for (var r = [], s = 2; s < arguments.length; s++) r[s - 2] = arguments[s];
			t.$callAsyncFunctionList.push(e), t.$callAsyncThisList.push(n), t.$callAsyncArgsList.push(r)
		}
	}(egret || (egret = {})),
	function(t) {
		t.superSetter = function(t, e, n) {
			for (var r = [], s = 3; s < arguments.length; s++) r[s - 3] = arguments[s];
			var h, u = t.prototype;
			t.hasOwnProperty("__sets__") || Object.defineProperty(t, "__sets__", {
				value: {}
			});
			var o = (h = t.__sets__)[n];
			if (o) return o.apply(e, r);
			var a = Object.getPrototypeOf(u);
			if (null != a) {
				for (; !a.hasOwnProperty(n);)
					if (null == (a = Object.getPrototypeOf(a))) return;
				o = Object.getOwnPropertyDescriptor(a, n).set, h[n] = o, o.apply(e, r)
			}
		}, t.superGetter = function(t, e, n) {
			var r, s = t.prototype;
			t.hasOwnProperty("__gets__") || Object.defineProperty(t, "__gets__", {
				value: {}
			});
			var h = (r = t.__gets__)[n];
			if (h) return h.call(e);
			var u = Object.getPrototypeOf(s);
			if (null != u) {
				for (; !u.hasOwnProperty(n);)
					if (null == (u = Object.getPrototypeOf(u))) return;
				return h = Object.getOwnPropertyDescriptor(u, n).get, r[n] = h, h.call(e)
			}
		}
	}(egret || (egret = {})),
	function(t) {
		var e = {};
		t.getDefinitionByName = function(t) {
			if (!t) return null;
			var n = e[t];
			if (n) return n;
			var r = t.split("."),
				s = r.length;
			n = global;
			for (var h = 0; h < s; h++)
				if (!(n = n[r[h]])) return null;
			return e[t] = n, n
		}
	}(egret || (egret = {})), egret || (egret = {}),
	function(t) {
		t.getQualifiedClassName = function(t) {
			var e = typeof t;
			if (!t || "object" != e && !t.prototype) return e;
			var n = t.prototype ? t.prototype : Object.getPrototypeOf(t);
			if (n.hasOwnProperty("__class__")) return n.__class__;
			var r = n.constructor.toString().trim(),
				s = r.indexOf("("),
				h = r.substring(9, s);
			return Object.defineProperty(n, "__class__", {
				value: h,
				enumerable: !1,
				writable: !0
			}), h
		}
	}(egret || (egret = {})),
	function(t) {
		t.getQualifiedSuperclassName = function(e) {
			if (!e || "object" != typeof e && !e.prototype) return null;
			var n = e.prototype ? e.prototype : Object.getPrototypeOf(e),
				r = Object.getPrototypeOf(n);
			return r && t.getQualifiedClassName(r.constructor) || null
		}
	}(egret || (egret = {})),
	function(t) {
		t.getTimer = function() {
			return Date.now() - t.sys.$START_TIME
		}
	}(egret || (egret = {})),
	function(t) {
		t.hasDefinition = function(e) {
			return !!t.getDefinitionByName(e)
		}
	}(egret || (egret = {})),
	function(t) {
		t.is = function(t, e) {
			if (!t || "object" != typeof t) return !1;
			var n = Object.getPrototypeOf(t),
				r = n ? n.__types__ : null;
			return !!r && -1 !== r.indexOf(e)
		}
	}(egret || (egret = {})),
	function(t) {
		t.startTick = function(e, n) {
			t.ticker.$startTick(e, n)
		}
	}(egret || (egret = {})),
	function(t) {
		t.stopTick = function(e, n) {
			t.ticker.$stopTick(e, n)
		}
	}(egret || (egret = {})),
	function(t) {
		t.toColorString = function(t) {
			t < 0 && (t = 0), t > 16777215 && (t = 16777215);
			for (var e = t.toString(16).toUpperCase(); e.length > 6;) e = e.slice(1, e.length);
			for (; e.length < 6;) e = "0" + e;
			return "#" + e
		}
	}(egret || (egret = {})),
	function(t) {
		t.egretEngineVersion = 36
	}(egret || (egret = {}));
var language, egret;
! function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n(n) {
			var r = i.call(this) || this;
			return r.onUpdate = function(i) {
				var n = new t.GeolocationEvent(t.Event.CHANGE),
					e = i.coords;
				n.altitude = e.altitude, n.heading = e.heading, n.accuracy = e.accuracy, n.latitude = e.latitude, n.longitude = e.longitude, n.speed = e.speed, n.altitudeAccuracy = e.altitudeAccuracy, r.dispatchEvent(n)
			}, r.onError = function(i) {
				var n = t.GeolocationEvent.UNAVAILABLE;
				i.code == i.PERMISSION_DENIED && (n = t.GeolocationEvent.PERMISSION_DENIED);
				var e = new t.GeolocationEvent(t.IOErrorEvent.IO_ERROR);
				e.errorType = n, e.errorMessage = i.message, r.dispatchEvent(e)
			}, r.geolocation = navigator.geolocation, r
		}
		return __extends(n, i), n.prototype.start = function() {
			var i = this.geolocation;
			i ? this.watchId = i.watchPosition(this.onUpdate, this.onError) : this.onError({
				code: 2,
				message: t.sys.tr(3004),
				PERMISSION_DENIED: 1,
				POSITION_UNAVAILABLE: 2
			})
		}, n.prototype.stop = function() {
			this.geolocation.clearWatch(this.watchId)
		}, n
	}(t.EventDispatcher), i.WebGeolocation = n, __reflect(n.prototype, "egret.web.WebGeolocation", ["egret.Geolocation"])
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n() {
			var n = null !== i && i.apply(this, arguments) || this;
			return n.onChange = function(i) {
				var r = new t.MotionEvent(t.Event.CHANGE),
					e = {
						x: i.acceleration.x,
						y: i.acceleration.y,
						z: i.acceleration.z
					},
					s = {
						x: i.accelerationIncludingGravity.x,
						y: i.accelerationIncludingGravity.y,
						z: i.accelerationIncludingGravity.z
					},
					h = {
						alpha: i.rotationRate.alpha,
						beta: i.rotationRate.beta,
						gamma: i.rotationRate.gamma
					};
				r.acceleration = e, r.accelerationIncludingGravity = s, r.rotationRate = h, n.dispatchEvent(r)
			}, n
		}
		return __extends(n, i), n.prototype.start = function() {
			window.addEventListener("devicemotion", this.onChange)
		}, n.prototype.stop = function() {
			window.removeEventListener("devicemotion", this.onChange)
		}, n
	}(t.EventDispatcher), i.WebMotion = n, __reflect(n.prototype, "egret.web.WebMotion", ["egret.Motion"])
}(egret || (egret = {})),
function(t) {
	! function(i) {
		function n(t) {
			if (window.location) {
				var i = location.search;
				if ("" == i) return "";
				for (var n = (i = i.slice(1)).split("&"), r = n.length, e = 0; e < r; e++) {
					var s = n[e].split("=");
					if (s[0] == t) return s[1]
				}
			}
			return ""
		}
		i.getOption = n, t.getOption = n
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(n) {
		function r(i) {
			var r = n.call(this) || this;
			return r.$startTime = 0, r.audio = null, r.isStopped = !1, r.canPlay = function() {
				r.audio.removeEventListener("canplay", r.canPlay);
				try {
					r.audio.currentTime = r.$startTime
				} catch (t) {} finally {
					r.audio.play()
				}
			}, r.onPlayEnd = function() {
				if (1 == r.$loops) return r.stop(), void r.dispatchEventWith(t.Event.SOUND_COMPLETE);
				r.$loops > 0 && r.$loops--, r.$play()
			}, r._volume = 1, i.addEventListener("ended", r.onPlayEnd), r.audio = i, r
		}
		return __extends(r, n), r.prototype.$play = function() {
			if (this.isStopped) t.$error(1036);
			else {
				try {
					this.audio.volume = this._volume, this.audio.currentTime = this.$startTime
				} catch (t) {
					return void this.audio.addEventListener("canplay", this.canPlay)
				}
				this.audio.play()
			}
		}, r.prototype.stop = function() {
			if (this.audio) {
				this.isStopped || t.sys.$popSoundChannel(this), this.isStopped = !0;
				var n = this.audio;
				n.removeEventListener("ended", this.onPlayEnd), n.removeEventListener("canplay", this.canPlay), n.volume = 0, this._volume = 0, this.audio = null;
				var r = this.$url;
				window.setTimeout((function() {
					n.pause(), i.HtmlSound.$recycle(r, n)
				}), 200)
			}
		}, Object.defineProperty(r.prototype, "volume", {
			get: function() {
				return this._volume
			},
			set: function(i) {
				this.isStopped ? t.$error(1036) : (this._volume = i, this.audio && (this.audio.volume = i))
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "position", {
			get: function() {
				return this.audio ? this.audio.currentTime : 0
			},
			enumerable: !0,
			configurable: !0
		}), r
	}(t.EventDispatcher), i.HtmlSoundChannel = n, __reflect(n.prototype, "egret.web.HtmlSoundChannel", ["egret.SoundChannel", "egret.IEventDispatcher"])
}(egret || (egret = {})),
function(t) {
	! function(i) {
		var n = function() {
			function i() {}
			return i.decodeAudios = function() {
				if (!(i.decodeArr.length <= 0 || i.isDecoding)) {
					i.isDecoding = !0;
					var n = i.decodeArr.shift();
					i.ctx.decodeAudioData(n.buffer, (function(t) {
						n.self.audioBuffer = t, n.success && n.success(), i.isDecoding = !1, i.decodeAudios()
					}), (function() {
						t.log("sound decode error"), n.fail && n.fail(), i.isDecoding = !1, i.decodeAudios()
					}))
				}
			}, i.decodeArr = [], i.isDecoding = !1, i
		}();
		i.WebAudioDecode = n, __reflect(n.prototype, "egret.web.WebAudioDecode");
		var r = function(r) {
			function e() {
				var t = r.call(this) || this;
				return t.loaded = !1, t
			}
			return __extends(e, r), Object.defineProperty(e.prototype, "length", {
				get: function() {
					if (this.audioBuffer) return this.audioBuffer.duration;
					throw new Error("sound not loaded!")
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.load = function(i) {
				var r = this;
				this.url = i;
				var e = new XMLHttpRequest;

				function s() {
					r.loaded = !0, r.dispatchEventWith(t.Event.COMPLETE)
				}

				function h() {
					r.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
				}
				e.open("GET", i, !0), e.responseType = "arraybuffer", e.addEventListener("load", (function() {
					e.status >= 400 ? r.dispatchEventWith(t.IOErrorEvent.IO_ERROR) : (n.decodeArr.push({
						buffer: e.response,
						success: s,
						fail: h,
						self: r,
						url: r.url
					}), n.decodeAudios())
				})), e.addEventListener("error", (function() {
					r.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
				})), e.send()
			}, e.prototype.play = function(n, r) {
				n = +n || 0, r = +r || 0;
				var e = new i.WebAudioSoundChannel;
				return e.$url = this.url, e.$loops = r, e.$audioBuffer = this.audioBuffer, e.$startTime = n, e.$play(), t.sys.$pushSoundChannel(e), e
			}, e.prototype.close = function() {}, e.MUSIC = "music", e.EFFECT = "effect", e
		}(t.EventDispatcher);
		i.WebAudioSound = r, __reflect(r.prototype, "egret.web.WebAudioSound", ["egret.Sound"])
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(n) {
		function r() {
			var r = n.call(this) || this;
			return r.$startTime = 0, r.bufferSource = null, r.context = i.WebAudioDecode.ctx, r.isStopped = !1, r._currentTime = 0, r._volume = 1, r.onPlayEnd = function() {
				if (1 == r.$loops) return r.stop(), void r.dispatchEventWith(t.Event.SOUND_COMPLETE);
				r.$loops > 0 && r.$loops--, r.$play()
			}, r._startTime = 0, r.context.createGain ? r.gain = r.context.createGain() : r.gain = r.context.createGainNode(), r
		}
		return __extends(r, n), r.prototype.$play = function() {
			if (this.isStopped) t.$error(1036);
			else {
				this.bufferSource && (this.bufferSource.onended = null, this.bufferSource = null);
				var i = this.context,
					n = this.gain,
					r = i.createBufferSource();
				this.bufferSource = r, r.buffer = this.$audioBuffer, r.connect(n), n.connect(i.destination), r.onended = this.onPlayEnd, this._startTime = Date.now(), this.gain.gain.value = this._volume, r.start(0, this.$startTime), this._currentTime = 0
			}
		}, r.prototype.stop = function() {
			if (this.bufferSource) {
				var i = this.bufferSource;
				i.stop ? i.stop(0) : i.noteOff(0), i.onended = null, i.disconnect(), this.bufferSource = null, this.$audioBuffer = null
			}
			this.isStopped || t.sys.$popSoundChannel(this), this.isStopped = !0
		}, Object.defineProperty(r.prototype, "volume", {
			get: function() {
				return this._volume
			},
			set: function(i) {
				this.isStopped ? t.$error(1036) : (this._volume = i, this.gain.gain.value = i)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(r.prototype, "position", {
			get: function() {
				return this.bufferSource ? (Date.now() - this._startTime) / 1e3 + this.$startTime : 0
			},
			enumerable: !0,
			configurable: !0
		}), r
	}(t.EventDispatcher), i.WebAudioSoundChannel = n, __reflect(n.prototype, "egret.web.WebAudioSoundChannel", ["egret.SoundChannel", "egret.IEventDispatcher"])
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n(n, r) {
			void 0 === r && (r = !0);
			var e = i.call(this) || this;
			return e.loaded = !1, e.closed = !1, e.heightSet = NaN, e.widthSet = NaN, e.waiting = !1, e.userPause = !1, e.userPlay = !1, e.isPlayed = !1, e.screenChanged = function(i) {
				var n = document.fullscreenEnabled || document.webkitIsFullScreen;
				n || (e.checkFullScreen(!1), t.Capabilities.isMobile || (e._fullscreen = n))
			}, e._fullscreen = !0, e.onVideoLoaded = function() {
				e.video.removeEventListener("canplay", e.onVideoLoaded);
				var i = e.video;
				e.loaded = !0, e.posterData && (e.posterData.width = e.getPlayWidth(), e.posterData.height = e.getPlayHeight()), i.width = i.videoWidth, i.height = i.videoHeight, window.setTimeout((function() {
					e.dispatchEventWith(t.Event.COMPLETE)
				}), 200)
			}, e.$renderNode = new t.sys.BitmapNode, e.src = n, e.once(t.Event.ADDED_TO_STAGE, e.loadPoster, e), n && e.load(), e
		}
		return __extends(n, i), n.prototype.createNativeDisplayObject = function() {
			this.$nativeDisplayObject = new egret_native.NativeDisplayObject(1)
		}, n.prototype.load = function(i, n) {
			var r = this;
			if (void 0 === n && (n = !0), i = i || this.src, this.src = i, !this.video || this.video.src != i) {
				var e;
				!this.video || t.Capabilities.isMobile ? (e = document.createElement("video"), this.video = e, e.controls = null) : e = this.video, e.src = i, e.setAttribute("autoplay", "autoplay"), e.setAttribute("webkit-playsinline", "true"), e.addEventListener("canplay", this.onVideoLoaded), e.addEventListener("error", (function() {
					return r.onVideoError()
				})), e.addEventListener("ended", (function() {
					return r.onVideoEnded()
				}));
				var s = !1;
				e.addEventListener("canplay", (function() {
					r.waiting = !1, s ? r.userPause ? r.pause() : r.userPlay && r.play() : (s = !0, e.pause())
				})), e.addEventListener("waiting", (function() {
					r.waiting = !0
				})), e.load(), this.videoPlay(), e.style.position = "absolute", e.style.top = "0px", e.style.zIndex = "-88888", e.style.left = "0px", e.height = 1, e.width = 1
			}
		}, n.prototype.play = function(i, n) {
			var r = this;
			if (void 0 === n && (n = !1), 0 == this.loaded) return this.load(this.src), void this.once(t.Event.COMPLETE, (function(t) {
				return r.play(i, n)
			}), this);
			this.isPlayed = !0;
			var e = this.video;
			null != i && (e.currentTime = +i || 0), e.loop = !!n, t.Capabilities.isMobile ? e.style.zIndex = "-88888" : e.style.zIndex = "9999", e.style.position = "absolute", e.style.top = "0px", e.style.left = "0px", e.height = e.videoHeight, e.width = e.videoWidth, "Windows PC" != t.Capabilities.os && "Mac OS" != t.Capabilities.os && window.setTimeout((function() {
				e.width = 0
			}), 1e3), this.checkFullScreen(this._fullscreen)
		}, n.prototype.videoPlay = function() {
			this.userPause = !1, this.waiting ? this.userPlay = !0 : (this.userPlay = !1, this.video.play())
		}, n.prototype.checkFullScreen = function(i) {
			var n = this.video;
			if (i) null == n.parentElement && (n.removeAttribute("webkit-playsinline"), document.body.appendChild(n)), t.stopTick(this.markDirty, this), this.goFullscreen();
			else if (null != n.parentElement && n.parentElement.removeChild(n), n.setAttribute("webkit-playsinline", "true"), this.setFullScreenMonitor(!1), t.startTick(this.markDirty, this), t.Capabilities.isMobile) return this.video.currentTime = 0, void this.onVideoEnded();
			this.videoPlay()
		}, n.prototype.goFullscreen = function() {
			var i, n = this.video;
			return !n[i = t.web.getPrefixStyleName("requestFullscreen", n)] && !n[i = t.web.getPrefixStyleName("requestFullScreen", n)] || (n.removeAttribute("webkit-playsinline"), n[i](), this.setFullScreenMonitor(!0), !0)
		}, n.prototype.setFullScreenMonitor = function(t) {
			var i = this.video;
			t ? (i.addEventListener("mozfullscreenchange", this.screenChanged), i.addEventListener("webkitfullscreenchange", this.screenChanged), i.addEventListener("mozfullscreenerror", this.screenError), i.addEventListener("webkitfullscreenerror", this.screenError)) : (i.removeEventListener("mozfullscreenchange", this.screenChanged), i.removeEventListener("webkitfullscreenchange", this.screenChanged), i.removeEventListener("mozfullscreenerror", this.screenError), i.removeEventListener("webkitfullscreenerror", this.screenError))
		}, n.prototype.screenError = function() {
			t.$error(3014)
		}, n.prototype.exitFullscreen = function() {
			document.exitFullscreen ? document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.oCancelFullScreen ? document.oCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen()
		}, n.prototype.onVideoEnded = function() {
			this.pause(), this.isPlayed = !1, this.dispatchEventWith(t.Event.ENDED)
		}, n.prototype.onVideoError = function() {
			this.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
		}, n.prototype.close = function() {
			var t = this;
			this.closed = !0, this.video.removeEventListener("canplay", this.onVideoLoaded), this.video.removeEventListener("error", (function() {
				return t.onVideoError()
			})), this.video.removeEventListener("ended", (function() {
				return t.onVideoEnded()
			})), this.pause(), 0 == this.loaded && this.video && (this.video.src = ""), this.video && this.video.parentElement && (this.video.parentElement.removeChild(this.video), this.video = null), this.loaded = !1
		}, n.prototype.pause = function() {
			this.userPlay = !1, this.waiting ? this.userPause = !0 : (this.userPause = !1, this.video.pause(), t.stopTick(this.markDirty, this))
		}, Object.defineProperty(n.prototype, "volume", {
			get: function() {
				return this.video ? this.video.volume : 1
			},
			set: function(t) {
				this.video && (this.video.volume = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "position", {
			get: function() {
				return this.video ? this.video.currentTime : 0
			},
			set: function(t) {
				this.video && (this.video.currentTime = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "fullscreen", {
			get: function() {
				return this._fullscreen
			},
			set: function(i) {
				t.Capabilities.isMobile || (this._fullscreen = !!i, this.video && 0 == this.video.paused && this.checkFullScreen(this._fullscreen))
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "bitmapData", {
			get: function() {
				return this.video && this.loaded ? (this._bitmapData || (this.video.width = this.video.videoWidth, this.video.height = this.video.videoHeight, this._bitmapData = new t.BitmapData(this.video), this._bitmapData.$deleteSource = !1), this._bitmapData) : null
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.loadPoster = function() {
			var i = this,
				n = this.poster;
			if (n) {
				var r = new t.ImageLoader;
				r.once(t.Event.COMPLETE, (function(n) {
					if (r.data, i.posterData = r.data, i.$renderDirty = !0, i.posterData.width = i.getPlayWidth(), i.posterData.height = i.getPlayHeight(), t.nativeRender) {
						var e = new t.Texture;
						e._setBitmapData(i.posterData), i.$nativeDisplayObject.setTexture(e)
					}
				}), this), r.load(n)
			}
		}, n.prototype.$measureContentBounds = function(t) {
			var i = this.bitmapData,
				n = this.posterData;
			i || n ? t.setTo(0, 0, this.getPlayWidth(), this.getPlayHeight()) : t.setEmpty()
		}, n.prototype.getPlayWidth = function() {
			return isNaN(this.widthSet) ? this.bitmapData ? this.bitmapData.width : this.posterData ? this.posterData.width : NaN : this.widthSet
		}, n.prototype.getPlayHeight = function() {
			return isNaN(this.heightSet) ? this.bitmapData ? this.bitmapData.height : this.posterData ? this.posterData.height : NaN : this.heightSet
		}, n.prototype.$updateRenderNode = function() {
			var i = this.$renderNode,
				n = this.bitmapData,
				r = this.posterData,
				e = this.getPlayWidth(),
				s = this.getPlayHeight();
			this.isPlayed && !t.Capabilities.isMobile || !r ? this.isPlayed && n && (i.image = n, i.imageWidth = n.width, i.imageHeight = n.height, t.WebGLUtils.deleteWebGLTexture(n.webGLTexture), n.webGLTexture = null, i.drawImage(0, 0, n.width, n.height, 0, 0, e, s)) : (i.image = r, i.imageWidth = e, i.imageHeight = s, i.drawImage(0, 0, r.width, r.height, 0, 0, e, s))
		}, n.prototype.markDirty = function() {
			return this.$renderDirty = !0, !0
		}, n.prototype.$setHeight = function(t) {
			if (this.heightSet = t, this.paused) {
				var n = this;
				this.$renderDirty = !0, window.setTimeout((function() {
					n.$renderDirty = !1
				}), 200)
			}
			i.prototype.$setHeight.call(this, t)
		}, n.prototype.$setWidth = function(t) {
			if (this.widthSet = t, this.paused) {
				var n = this;
				this.$renderDirty = !0, window.setTimeout((function() {
					n.$renderDirty = !1
				}), 200)
			}
			i.prototype.$setWidth.call(this, t)
		}, Object.defineProperty(n.prototype, "paused", {
			get: function() {
				return !this.video || this.video.paused
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "length", {
			get: function() {
				if (this.video) return this.video.duration;
				throw new Error("Video not loaded!")
			},
			enumerable: !0,
			configurable: !0
		}), n
	}(t.DisplayObject), i.WebVideo = n, __reflect(n.prototype, "egret.web.WebVideo", ["egret.Video", "egret.DisplayObject"]), t.Video = n
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n() {
			var t = i.call(this) || this;
			return t.timeout = 0, t._url = "", t._method = "", t
		}
		return __extends(n, i), Object.defineProperty(n.prototype, "response", {
			get: function() {
				return this._xhr ? null != this._xhr.response ? this._xhr.response : "text" == this._responseType ? this._xhr.responseText : "arraybuffer" == this._responseType && /msie 9.0/i.test(navigator.userAgent) ? window.convertResponseBodyToText(this._xhr.responseBody) : "document" == this._responseType ? this._xhr.responseXML : null : null
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "responseType", {
			get: function() {
				return this._responseType
			},
			set: function(t) {
				this._responseType = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "withCredentials", {
			get: function() {
				return this._withCredentials
			},
			set: function(t) {
				this._withCredentials = t
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.getXHR = function() {
			return window.XMLHttpRequest ? "get" == this._method.toLowerCase() && window.XyqHttpGetRequest ? new window.XyqHttpGetRequest : new window.XMLHttpRequest : new ActiveXObject("MSXML2.XMLHTTP")
		}, n.prototype.open = function(t, i) {
			void 0 === i && (i = "GET"), this._url = t, this._method = i, this._xhr && (this._xhr.abort(), this._xhr = null);
			var n = this.getXHR();
			window.XMLHttpRequest ? (n.addEventListener("load", this.onload.bind(this)), n.addEventListener("error", this.onerror.bind(this))) : n.onreadystatechange = this.onReadyStateChange.bind(this), n.onprogress = this.updateProgress.bind(this), n.ontimeout = this.onTimeout.bind(this), n.open(this._method, this._url, !0), this._xhr = n
		}, n.prototype.send = function(t) {
			if (null != this._responseType && (this._xhr.responseType = this._responseType), null != this._withCredentials && (this._xhr.withCredentials = this._withCredentials), this.headerObj)
				for (var i in this.headerObj) this._xhr.setRequestHeader(i, this.headerObj[i]);
			this._xhr.timeout = this.timeout, this._xhr.send(t)
		}, n.prototype.abort = function() {
			this._xhr && this._xhr.abort()
		}, n.prototype.getAllResponseHeaders = function() {
			return this._xhr ? this._xhr.getAllResponseHeaders() || "" : null
		}, n.prototype.setRequestHeader = function(t, i) {
			this.headerObj || (this.headerObj = {}), this.headerObj[t] = i
		}, n.prototype.getResponseHeader = function(t) {
			return this._xhr ? this._xhr.getResponseHeader(t) || "" : null
		}, n.prototype.onTimeout = function() {
			this.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
		}, n.prototype.onReadyStateChange = function() {
			var i = this._xhr;
			if (4 == i.readyState) {
				var n = i.status >= 400,
					r = (this._url, this);
				window.setTimeout((function() {
					n ? r.dispatchEventWith(t.IOErrorEvent.IO_ERROR) : r.dispatchEventWith(t.Event.COMPLETE)
				}), 0)
			}
		}, n.prototype.updateProgress = function(i) {
			i.lengthComputable && t.ProgressEvent.dispatchProgressEvent(this, t.ProgressEvent.PROGRESS, i.loaded, i.total)
		}, n.prototype.onload = function() {
			var i = this,
				n = this._xhr,
				r = (this._url, n.status >= 400);
			window.setTimeout((function() {
				r ? i.dispatchEventWith(t.IOErrorEvent.IO_ERROR) : i.dispatchEventWith(t.Event.COMPLETE)
			}), 0)
		}, n.prototype.onerror = function() {
			this._url;
			var i = this;
			window.setTimeout((function() {
				i.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
			}), 0)
		}, n
	}(t.EventDispatcher), i.WebHttpRequest = n, __reflect(n.prototype, "egret.web.WebHttpRequest", ["egret.HttpRequest"]), t.HttpRequest = n
}(egret || (egret = {})),
function(t) {
	var i, n, r;
	i = t.web || (t.web = {}), n = window.URL || window.webkitURL, r = function(r) {
		function e() {
			var t = null !== r && r.apply(this, arguments) || this;
			return t.data = null, t._crossOrigin = null, t._hasCrossOriginSet = !1, t.currentImage = null, t.request = null, t
		}
		return __extends(e, r), Object.defineProperty(e.prototype, "crossOrigin", {
			get: function() {
				return this._crossOrigin
			},
			set: function(t) {
				this._hasCrossOriginSet = !0, this._crossOrigin = t
			},
			enumerable: !0,
			configurable: !0
		}), e.prototype.load = function(n) {
			if (i.Html5Capatibility._canUseBlob && 0 != n.indexOf("wxLocalResource:") && 0 != n.indexOf("data:") && 0 != n.indexOf("http:") && 0 != n.indexOf("https:")) {
				var r = this.request;
				r || ((r = this.request = new t.web.WebHttpRequest).addEventListener(t.Event.COMPLETE, this.onBlobLoaded, this), r.addEventListener(t.IOErrorEvent.IO_ERROR, this.onBlobError, this), r.responseType = "blob"), r.open(n), r.send()
			} else this.loadImage(n)
		}, e.prototype.onBlobLoaded = function(t) {
			var i = this.request.response;
			this.request = void 0, this.loadImage(n.createObjectURL(i))
		}, e.prototype.onBlobError = function(t) {
			this.dispatchIOError(this.currentURL), this.request = void 0
		}, e.prototype.loadImage = function(t) {
			var i = new Image;
			this.data = null, this.currentImage = i, this._hasCrossOriginSet ? this._crossOrigin && (i.crossOrigin = this._crossOrigin) : e.crossOrigin && (i.crossOrigin = e.crossOrigin), i.onload = this.onImageComplete.bind(this), i.onerror = this.onLoadError.bind(this), i.src = t
		}, e.prototype.onImageComplete = function(i) {
			var n = this.getImage(i);
			if (n) {
				this.data = new t.BitmapData(n);
				var r = this;
				window.setTimeout((function() {
					r.dispatchEventWith(t.Event.COMPLETE)
				}), 0)
			}
		}, e.prototype.onLoadError = function(t) {
			var i = this.getImage(t);
			i && this.dispatchIOError(i.src)
		}, e.prototype.dispatchIOError = function(i) {
			var n = this;
			window.setTimeout((function() {
				n.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
			}), 0)
		}, e.prototype.getImage = function(i) {
			var r = i.target;
			if (0 == r.src.indexOf("blob:")) try {
				n.revokeObjectURL(r.src)
			} catch (i) {
				t.$warn(1037)
			}
			return r.onerror = null, r.onload = null, this.currentImage !== r ? null : (this.currentImage = null, r)
		}, e.crossOrigin = null, e
	}(t.EventDispatcher), i.WebImageLoader = r, __reflect(r.prototype, "egret.web.WebImageLoader", ["egret.ImageLoader"]), t.ImageLoader = r
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n() {
			var t = i.call(this) || this;
			return t._isNeedShow = !1, t.inputElement = null, t.inputDiv = null, t._gscaleX = 0, t._gscaleY = 0, t.textValue = "", t.colorValue = 16777215, t._styleInfoes = {}, t
		}
		return __extends(n, i), n.prototype.$setTextField = function(t) {
			return this.$textfield = t, !0
		}, n.prototype.$addToStage = function() {
			this.htmlInput = t.web.$getTextAdapter(this.$textfield)
		}, n.prototype._initElement = function() {
			var i = this.$textfield.localToGlobal(0, 0),
				n = i.x,
				r = i.y,
				e = this.htmlInput.$scaleX,
				s = this.htmlInput.$scaleY;
			this.htmlInput.native ? (this.inputElement.style.left = Math.round(n * e), this.inputElement.style.top = Math.round(r * s), this.inputElement.multiline = this.$textfield.multiline) : (this.inputDiv.style.left = n * e + "px", this.inputDiv.style.top = r * s + "px", this.$textfield.multiline && this.$textfield.height > this.$textfield.size ? (this.inputDiv.style.top = r * s + "px", this.inputElement.style.top = -this.$textfield.lineSpacing / 2 * s + "px") : (this.inputDiv.style.top = r * s + "px", this.inputElement.style.top = "0px"));
			for (var h = this.$textfield, o = 1, a = 1, u = 0; h.parent;) o *= h.scaleX, a *= h.scaleY, u += h.rotation, h = h.parent;
			var c = t.web.getPrefixStyleName("transform");
			this.inputDiv.style[c] = "rotate(" + u + "deg)", this._gscaleX = e * o, this._gscaleY = s * a
		}, n.prototype.$show = function() {
			this.htmlInput.isCurrentStageText(this) ? this.inputElement.onblur = null : (this.inputElement = this.htmlInput.getInputElement(this), this.$textfield.multiline ? this.inputElement.type = "text" : this.inputElement.type = this.$textfield.inputType, this.inputDiv = this.htmlInput._inputDIV), this.htmlInput._needShow = !0, this._isNeedShow = !0, this._initElement()
		}, n.prototype.onBlurHandler = function() {
			this.htmlInput.clearInputElement(), window.scrollTo(0, 0)
		}, n.prototype.onFocusHandler = function() {
			var t = this;
			window.setTimeout((function() {
				t.inputElement && t.inputElement.scrollIntoView()
			}), 200)
		}, n.prototype.executeShow = function() {
			this.inputElement.value = this.$getText(), null == this.inputElement.onblur && (this.inputElement.onblur = this.onBlurHandler.bind(this)), t.Capabilities.isMobile && null == this.inputElement.onfocus && (this.inputElement.onfocus = this.onFocusHandler.bind(this)), this.$resetStageText(), this.$textfield.maxChars > 0 ? this.htmlInput.native ? this.inputElement.maxlength = this.$textfield.maxChars : this.inputElement.setAttribute("maxlength", this.$textfield.maxChars) : this.htmlInput.native ? this.inputElement.maxlength = 0 : this.inputElement.removeAttribute("maxlength"), this.inputElement.selectionStart = this.inputElement.value.length, this.inputElement.selectionEnd = this.inputElement.value.length, this.inputElement.focus()
		}, n.prototype.$hide = function() {
			this.htmlInput && this.htmlInput.disconnectStageText(this)
		}, n.prototype.$getText = function() {
			return this.textValue || (this.textValue = ""), this.textValue
		}, n.prototype.$setText = function(t) {
			return this.textValue = t, this.resetText(), !0
		}, n.prototype.resetText = function() {
			this.inputElement && (this.inputElement.value = this.textValue)
		}, n.prototype.$setColor = function(t) {
			return this.colorValue = t, this.resetColor(), !0
		}, n.prototype.resetColor = function() {
			this.inputElement && this.setElementStyle("color", this.htmlInput.native ? this.colorValue : t.toColorString(this.colorValue))
		}, n.prototype.$onBlur = function() {}, n.prototype._onInput = function() {
			var i = this;
			window.setTimeout((function() {
				i.inputElement && i.inputElement.selectionStart == i.inputElement.selectionEnd && (i.textValue = i.inputElement.value, t.Event.dispatchEvent(i, "updateText", !1))
			}), 0)
		}, n.prototype._onInputDone = function() {}, n.prototype._onInputSend = function() {
			var i = this;
			t.callLater((function() {
				t.Event.dispatchEvent(i.$textfield, t.Event.SEND_TEXT, !1)
			}), this)
		}, n.prototype.setAreaHeight = function() {
			var i = this.$textfield;
			if (i.multiline) {
				var n = t.TextFieldUtils.$getTextHeight(i);
				if (i.height <= i.size) this.setElementStyle("height", i.size * this._gscaleY + "px"), this.setElementStyle("padding", "0px"), this.setElementStyle("lineHeight", i.size * this._gscaleY + "px");
				else if (i.height < n) this.setElementStyle("height", i.height * this._gscaleY + "px"), this.setElementStyle("padding", "0px"), this.setElementStyle("lineHeight", (i.size + i.lineSpacing) * this._gscaleY + "px");
				else {
					this.setElementStyle("height", (n + i.lineSpacing) * this._gscaleY + "px");
					var r = (i.height - n) * this._gscaleY,
						e = r * t.TextFieldUtils.$getValign(i),
						s = r - e;
					this.setElementStyle("padding", e + "px 0px " + s + "px 0px"), this.setElementStyle("lineHeight", (i.size + i.lineSpacing) * this._gscaleY + "px")
				}
			}
		}, n.prototype._onClickHandler = function(i) {
			this._isNeedShow && (i.stopImmediatePropagation(), this._isNeedShow = !1, this.executeShow(), this.dispatchEvent(new t.Event("focus")))
		}, n.prototype._onDisconnect = function() {
			this.inputElement = null, this.dispatchEvent(new t.Event("blur"))
		}, n.prototype.setElementStyle = function(t, i) {
			this.inputElement && (this.htmlInput.native ? this.inputElement.style[t] = "left" == t || "top" == t || "width" == t || "height" == t || "fontSize" == t ? Math.floor(Number(i.replace("px", ""))) : i : this._styleInfoes[t] != i && (this.inputElement.style[t] = i))
		}, n.prototype.$removeFromStage = function() {
			this.inputElement && this.htmlInput.disconnectStageText(this)
		}, n.prototype.$resetStageText = function() {
			if (this.inputElement) {
				var i = this.$textfield;
				this.setElementStyle("fontFamily", i.fontFamily), this.setElementStyle("fontStyle", i.italic ? "italic" : "normal"), this.setElementStyle("fontWeight", i.bold ? "bold" : "normal"), this.setElementStyle("textAlign", i.textAlign), this.setElementStyle("fontSize", i.size * this._gscaleY + "px"), this.setElementStyle("color", this.htmlInput.native ? this.colorValue : t.toColorString(i.textColor));
				var n = void 0;
				if (i.stage ? (n = i.localToGlobal(0, 0).x, n = Math.min(i.width, i.stage.stageWidth - n)) : n = i.width, this.setElementStyle("width", n * this._gscaleX + "px"), this.setElementStyle("verticalAlign", i.verticalAlign), i.multiline) this.setAreaHeight();
				else if (this.setElementStyle("lineHeight", i.size * this._gscaleY + "px"), i.height < i.size) {
					this.setElementStyle("height", i.size * this._gscaleY + "px");
					var r = i.size / 2 * this._gscaleY;
					this.setElementStyle("padding", "0px 0px " + r + "px 0px")
				} else {
					this.setElementStyle("height", i.size * this._gscaleY + "px");
					var e = (i.height - i.size) * this._gscaleY,
						s = e * t.TextFieldUtils.$getValign(i);
					(r = e - s) < i.size / 2 * this._gscaleY && (r = i.size / 2 * this._gscaleY), this.setElementStyle("padding", s + "px 0px " + r + "px 0px")
				}
				this.htmlInput.native || (this.inputDiv.style.clip = "rect(0px " + i.width * this._gscaleX + "px " + i.height * this._gscaleY + "px 0px)", this.inputDiv.style.height = i.height * this._gscaleY + "px", this.inputDiv.style.width = n * this._gscaleX + "px")
			}
		}, n
	}(t.EventDispatcher), i.HTML5StageText = n, __reflect(n.prototype, "egret.web.HTML5StageText", ["egret.StageText"]), t.StageText = n
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function() {
		function i() {
			this._needShow = !1, this.$scaleX = 1, this.$scaleY = 1
		}
		return Object.defineProperty(i.prototype, "nativeElement", {
			set: function(t) {
				this._nativeElement !== t && (this._nativeElement = t, this.initNativeInputElement())
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(i.prototype, "native", {
			get: function() {
				return this._inputElement == this._nativeElement
			},
			enumerable: !0,
			configurable: !0
		}), i.prototype.isInputOn = function() {
			return null != this._stageText
		}, i.prototype.isCurrentStageText = function(t) {
			return this._stageText == t
		}, i.prototype.initValue = function(t) {
			t.style.position = "absolute", t.style.left = "0px", t.style.top = "0px", t.style.border = "none", t.style.padding = "0"
		}, i.prototype.$updateSize = function() {
			if (this.canvas) {
				this.$scaleX = t.sys.DisplayList.$canvasScaleX, this.$scaleY = t.sys.DisplayList.$canvasScaleY, this.StageDelegateDiv.style.left = this.canvas.style.left, this.StageDelegateDiv.style.top = this.canvas.style.top;
				var i = t.web.getPrefixStyleName("transform");
				this.StageDelegateDiv.style[i] = this.canvas.style[i], this.StageDelegateDiv.style[t.web.getPrefixStyleName("transformOrigin")] = "0% 0% 0px"
			}
		}, i.prototype._initStageDelegateDiv = function(i, n) {
			this.canvas = n;
			var r, e = this;
			r || (r = document.createElement("div"), this.StageDelegateDiv = r, r.id = "StageDelegateDiv", i.appendChild(r), e.initValue(r), e._inputDIV = document.createElement("div"), e.initValue(e._inputDIV), e._inputDIV.style.width = "0px", e._inputDIV.style.height = "0px", e._inputDIV.style.left = "0px", e._inputDIV.style.top = "-100px", e._inputDIV.style[t.web.getPrefixStyleName("transformOrigin")] = "0% 0% 0px", r.appendChild(e._inputDIV), this.canvas.addEventListener("click", (function(t) {
				e._needShow ? (e._needShow = !1, e._stageText._onClickHandler(t), e.show()) : e._inputElement && (e._inputElement.blur(), e.clearInputElement(), e._inputElement = null)
			})), e.initInputElement(!0), e.initInputElement(!1), e._nativeElement = null)
		}, i.prototype.initInputElement = function(t) {
			var i, n = this;
			t ? ((i = document.createElement("textarea")).style.resize = "none", n._multiElement = i, i.id = "egretTextarea") : (i = document.createElement("input"), n._simpleElement = i, i.id = "egretInput"), n._inputDIV.appendChild(i), i.setAttribute("tabindex", "-1"), i.style.width = "1px", i.style.height = "12px", n.initValue(i), i.style.outline = "thin", i.style.background = "none", i.style.overflow = "hidden", i.style.wordBreak = "break-all", i.style.opacity = 0, i.oninput = function() {
				n._stageText && n._stageText._onInput()
			}
		}, i.prototype.initNativeInputElement = function() {
			if (this._nativeElement) {
				var t = this;
				this._nativeElement.oninput = function() {
					t._stageText && t._stageText._onInput()
				}, this._nativeElement.onkeydone = function() {
					t._stageText && t._stageText._onInputDone(), t._inputElement && (t._inputElement.blur(), t.clearInputElement(), t._inputElement = null)
				}, this._nativeElement.onkeysend = function() {
					t._stageText && t._stageText._onInputSend(), t._inputElement && (t._inputElement.blur(), t.clearInputElement(), t._inputElement = null)
				}
			}
		}, i.prototype.show = function() {
			this._inputElement.style.opacity = 1
		}, i.prototype.disconnectStageText = function(t) {
			null != this._stageText && this._stageText != t || (this._inputElement && this._inputElement.blur(), this.clearInputElement()), this._needShow = !1
		}, i.prototype.clearInputElement = function() {
			if (this._inputElement) {
				this._inputElement.value = "", this._inputElement.onblur = null, this._inputElement.onfocus = null, this._inputElement.style.width = "1px", this._inputElement.style.height = "12px", this._inputElement.style.left = "0px", this._inputElement.style.top = "0px", this._inputElement.style.opacity = 0;
				var t = void 0;
				this._simpleElement == this._inputElement ? t = this._multiElement : this._multiElement == this._inputElement && (t = this._simpleElement), t && (t.style.display = "block"), this._inputDIV.style.left = "0px", this._inputDIV.style.top = "-100px", this._inputDIV.style.height = "0px", this._inputDIV.style.width = "0px"
			}
			this._stageText && (this._stageText._onDisconnect(), this._stageText = null, this.canvas.userTyping = !1)
		}, i.prototype.getInputElement = function(t) {
			var i;
			return this.clearInputElement(), this._stageText = t, this.canvas.userTyping = !0, this._stageText.$textfield.multiline ? this._inputElement = this._multiElement : this._inputElement = this._simpleElement, this._simpleElement == this._inputElement ? i = this._multiElement : this._multiElement == this._inputElement && (i = this._simpleElement), i && (i.style.display = "none"), this._inputElement = this._nativeElement ? this._nativeElement : this._inputElement, this._inputElement
		}, i
	}(), i.HTMLInput = n, __reflect(n.prototype, "egret.web.HTMLInput")
}(egret || (egret = {})),
function(t) {
	var i, n, r, e;
	i = t.web || (t.web = {}), n = {}, r = {}, e = {}, i.$getTextAdapter = function(t) {
		var i = t.stage ? t.stage.$hashCode : 0,
			s = n[i],
			h = r[i],
			o = e[i];
		return h && o && (delete r[i], delete e[i]), s
	}, i.$cacheTextAdapter = function(t, i, s, h) {
		t._initStageDelegateDiv(s, h), n[i.$hashCode] = t, r[i.$hashCode] = h, e[i.$hashCode] = s, i.textAdapter = t
	}
}(egret || (egret = {})),
function(t) {
	var i;
	t.web || (t.web = {}), i = null, t.sys.measureText = function(n, r, e, s, h) {
		i || ((i = t.sys.canvasHitTestBuffer.context).textAlign = "left", i.textBaseline = "middle");
		var o = "";
		return h && (o += "italic "), s && (o += "bold "), o += (e || 12) + "px ", o += r || "Arial", i.font = o, t.sys.measureTextWith(i, n)
	}
}(egret || (egret = {})),
function(t) {
	! function(i) {
		function n(i, n) {
			var r = t.sys.createCanvas(i, n),
				e = r.getContext("2d");
			if (void 0 === e.imageSmoothingEnabled) {
				for (var s, h = ["webkitImageSmoothingEnabled", "mozImageSmoothingEnabled", "msImageSmoothingEnabled"], o = h.length - 1; o >= 0 && void 0 === e[s = h[o]]; o--);
				try {
					Object.defineProperty(e, "imageSmoothingEnabled", {
						get: function() {
							return this[s]
						},
						set: function(t) {
							this[s] = t
						}
					})
				} catch (t) {
					e.imageSmoothingEnabled = e[s]
				}
			}
			return r
		}
		var r = function() {
			function i(i, r, e) {
				this.surface = t.sys.createCanvasRenderBufferSurface(n, i, r, e), this.context = this.surface.getContext("2d"), this.context && (this.context.$offsetX = 0, this.context.$offsetY = 0), this.resize(i, r)
			}
			return Object.defineProperty(i.prototype, "width", {
				get: function() {
					return this.surface.width
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(i.prototype, "height", {
				get: function() {
					return this.surface.height
				},
				enumerable: !0,
				configurable: !0
			}), i.prototype.resize = function(i, n, r) {
				t.sys.resizeCanvasRenderBuffer(this, i, n, r)
			}, i.prototype.getPixels = function(t, i, n, r) {
				return void 0 === n && (n = 1), void 0 === r && (r = 1), this.context.getImageData(t, i, n, r).data
			}, i.prototype.toDataURL = function(t, i) {
				return this.surface.toDataURL(t, i)
			}, i.prototype.clear = function() {
				this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.surface.width, this.surface.height)
			}, i.prototype.destroy = function() {
				this.surface.width = this.surface.height = 0
			}, i
		}();
		i.CanvasRenderBuffer = r, __reflect(r.prototype, "egret.web.CanvasRenderBuffer", ["egret.sys.RenderBuffer"])
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n(n, r) {
			var e = i.call(this) || this;
			return e.mouseDownCanvas = function(i) {
				t.TouchEvent.dispatchEvent(e.touch.stage, t.TouchEvent.TOUCH_CANVAS)
			}, e.touchCanvas = function(i) {
				t.TouchEvent.dispatchEvent(e.touch.stage, t.TouchEvent.TOUCH_CANVAS)
			}, e.onTouchBegin = function(t) {
				var i = e.getLocation(t);
				e.touch.onTouchBegin(i.x, i.y, t.identifier)
			}, e.onMouseMove = function(t) {
				0 == t.buttons ? e.onTouchEnd(t) : e.onTouchMove(t);
				var i = e.getLocation(t);
				e.touch.onMouseMove(i.x, i.y)
			}, e.onTouchMove = function(t) {
				var i = e.getLocation(t);
				e.touch.onTouchMove(i.x, i.y, t.identifier)
			}, e.onTouchEnd = function(t) {
				var i = e.getLocation(t);
				e.touch.onTouchEnd(i.x, i.y, t.identifier)
			}, e.scaleX = 1, e.scaleY = 1, e.rotation = 0, e.canvas = r, e.touch = new t.sys.TouchHandler(n), e.addListeners(), e
		}
		return __extends(n, i), n.prototype.addListeners = function() {
			var i = this;
			window.navigator.msPointerEnabled ? (this.canvas.addEventListener("MSPointerDown", (function(t) {
				t.identifier = t.pointerId, i.onTouchBegin(t), i.prevent(t)
			}), !1), this.canvas.addEventListener("MSPointerMove", (function(t) {
				t.identifier = t.pointerId, i.onTouchMove(t), i.prevent(t)
			}), !1), this.canvas.addEventListener("MSPointerUp", (function(t) {
				t.identifier = t.pointerId, i.onTouchEnd(t), i.prevent(t)
			}), !1)) : (t.Capabilities.isMobile || this.addMouseListener(), this.addTouchListener())
		}, n.prototype.addMouseListener = function() {
			this.canvas.addEventListener("mousedown", this.mouseDownCanvas), this.canvas.addEventListener("mousedown", this.onTouchBegin), this.canvas.addEventListener("mousemove", this.onMouseMove), this.canvas.addEventListener("mouseup", this.onTouchEnd)
		}, n.prototype.addTouchListener = function() {
			var t = this;
			this.canvas.addEventListener("touchstart", this.touchCanvas), this.canvas.addEventListener("touchstart", (function(i) {
				for (var n = i.changedTouches.length, r = 0; r < n; r++) t.onTouchBegin(i.changedTouches[r]);
				t.prevent(i)
			}), !1), this.canvas.addEventListener("touchmove", (function(i) {
				for (var n = i.changedTouches.length, r = 0; r < n; r++) t.onTouchMove(i.changedTouches[r]);
				t.prevent(i)
			}), !1), this.canvas.addEventListener("touchend", (function(i) {
				for (var n = i.changedTouches.length, r = 0; r < n; r++) t.onTouchEnd(i.changedTouches[r]);
				t.prevent(i)
			}), !1), this.canvas.addEventListener("touchcancel", (function(i) {
				for (var n = i.changedTouches.length, r = 0; r < n; r++) t.onTouchEnd(i.changedTouches[r]);
				t.prevent(i)
			}), !1)
		}, n.prototype.prevent = function(t) {
			t.stopPropagation(), 1 == t.isScroll || this.canvas.userTyping || t.preventDefault()
		}, n.prototype.getLocation = function(i) {
			i.identifier = +i.identifier || 0;
			var n = document.documentElement,
				r = this.canvas.getBoundingClientRect(),
				e = r.left + window.pageXOffset - n.clientLeft,
				s = r.top + window.pageYOffset - n.clientTop,
				h = i.pageX - e,
				o = h,
				a = i.pageY - s,
				u = a;
			return 90 == this.rotation ? (o = a, u = r.width - h) : -90 == this.rotation && (o = r.height - a, u = h), o /= this.scaleX, u /= this.scaleY, t.$TempPoint.setTo(Math.round(o), Math.round(u))
		}, n.prototype.updateScaleMode = function(t, i, n) {
			this.scaleX = t, this.scaleY = i, this.rotation = n
		}, n.prototype.$updateMaxTouches = function() {
			this.touch.$initMaxTouches()
		}, n
	}(t.HashObject), i.WebTouchHandler = n, __reflect(n.prototype, "egret.web.WebTouchHandler")
}(egret || (egret = {})),
function(t) {
	(t.web || (t.web = {})).WebLifeCycleHandler = function(i) {
		var n, r;
		i.isWebLifeCycleHandler = !0, window.addEventListener("focus", i.resume, !1), window.addEventListener("blur", i.pause, !1), void 0 !== document.hidden ? (n = "hidden", r = "visibilitychange") : void 0 !== document.mozHidden ? (n = "mozHidden", r = "mozvisibilitychange") : void 0 !== document.msHidden ? (n = "msHidden", r = "msvisibilitychange") : void 0 !== document.webkitHidden ? (n = "webkitHidden", r = "webkitvisibilitychange") : void 0 !== document.oHidden && (n = "oHidden", r = "ovisibilitychange"), "onpageshow" in window && "onpagehide" in window && (window.addEventListener("pageshow", i.resume, !1), window.addEventListener("pagehide", i.pause, !1)), n && r && !t.Capabilities.isInApp && document.addEventListener(r, (function() {
			document[n] ? i.pause() : i.resume(), t.lifecycle.isHidden = document[n], window.tickWorker && window.tickWorker.postMessage(document[n])
		}), !1);
		var e = navigator.userAgent,
			s = /micromessenger/gi.test(e),
			h = /mqq/gi.test(e);
		if ((/mobile.*qq/gi.test(e) || s) && (h = !1), h) {
			var o = window.browser || {};
			o.execWebFn = o.execWebFn || {}, o.execWebFn.postX5GamePlayerMessage = function(t) {
				var n = t.type;
				"app_enter_background" == n ? i.pause() : "app_enter_foreground" == n && i.resume()
			}, window.browser = o
		}
	}
}(egret || (egret = {})),
function(t) {
	! function(i) {
		var n = function() {
			function t() {}
			return t.WEB_AUDIO = 2, t.HTML5_AUDIO = 3, t
		}();
		i.AudioType = n, __reflect(n.prototype, "egret.web.AudioType");
		var r = function(r) {
			function e() {
				return r.call(this) || this
			}
			return __extends(e, r), e.$init = function() {
				var r = navigator.userAgent.toLowerCase();
				e.ua = r, e._canUseBlob = !1;
				var s = window.AudioContext || window.webkitAudioContext || window.mozAudioContext,
					h = r.indexOf("iphone") >= 0 || r.indexOf("ipad") >= 0 || r.indexOf("ipod") >= 0;
				if (s) try {
					i.WebAudioDecode.ctx = new(window.AudioContext || window.webkitAudioContext || window.mozAudioContext)
				} catch (t) {
					s = !1
				}
				var o, a = e._audioType;
				a == n.WEB_AUDIO && s || a == n.HTML5_AUDIO ? (o = !1, e.setAudioType(a)) : !h && r.indexOf("safari") >= 0 && -1 === r.indexOf("chrome") ? (o = !1, e.setAudioType(n.WEB_AUDIO)) : (o = !0, e.setAudioType(n.HTML5_AUDIO)), r.indexOf("android") >= 0 ? o && s && e.setAudioType(n.WEB_AUDIO) : h && e.getIOSVersion() >= 7 && (e._canUseBlob = !0, o && s && e.setAudioType(n.WEB_AUDIO)), window.URL || window.webkitURL || (e._canUseBlob = !1), r.indexOf("egretnative") >= 0 && (e.setAudioType(n.HTML5_AUDIO), e._canUseBlob = !0), t.Sound = window.XyqAudioSound || e._AudioClass
			}, e.setAudioType = function(i) {
				switch (e._audioType = i, i) {
					case n.WEB_AUDIO:
						e._AudioClass = t.web.WebAudioSound;
						break;
					case n.HTML5_AUDIO:
						e._AudioClass = t.web.HtmlSound
				}
			}, e.getIOSVersion = function() {
				var t = e.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/);
				if (!t || 0 == t.length) return 0;
				var i = t[0];
				return parseInt(i.match(/\d+(_\d)*/)[0]) || 0
			}, e._canUseBlob = !1, e._audioType = 0, e.ua = "", e
		}(t.HashObject);
		i.Html5Capatibility = r, __reflect(r.prototype, "egret.web.Html5Capatibility");
		var e = null;

		function s(t, i) {
			if (t in i) return "";
			t = t.charAt(0).toUpperCase() + t.substring(1, t.length);
			for (var n = ["webkit", "ms", "Moz", "O"], r = 0; r < n.length; r++)
				if (n[r] + t in i) return n[r];
			return ""
		}
		i.getPrefixStyleName = function(t, i) {
			var n = "";
			if (null != i) n = s(t, i);
			else {
				if (null == e) {
					var r = document.createElement("div").style;
					e = s("transform", r)
				}
				n = e
			}
			return "" == n ? t : n + t.charAt(0).toUpperCase() + t.substring(1, t.length)
		}, i.getPrefix = s
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	! function(i) {
		function n(t, i) {
			var n = document.createElement("canvas");
			return isNaN(t) || isNaN(i) || (n.width = t, n.height = i), n
		}

		function r(t, i, n, r) {
			if (t) {
				var e = t,
					s = e.surface;
				r ? (s.width < i && (s.width = i), s.height < n && (s.height = n)) : (s.width !== i && (s.width = i), s.height !== n && (s.height = n)), e.onResize()
			}
		}

		function e(t) {
			return t ? t.getContext("2d") : null
		}
		t.sys.mainCanvas = function(t, i) {
			return n(t, i)
		}, t.sys.createCanvas = n, i.resizeContext = r, t.sys.resizeContext = r, t.sys.getContextWebGL = function(n) {
			for (var r = {
					antialias: i.WebGLRenderContext.antialias,
					stencil: !0
				}, e = null, s = ["webgl", "experimental-webgl"], h = 0; h < s.length; ++h) {
				try {
					e = n.getContext(s[h], r)
				} catch (t) {}
				if (e) break
			}
			return e || t.$error(1021), e
		}, i.getContext2d = e, t.sys.getContext2d = e, t.sys.createTexture = function(i, n) {
			var r = i,
				e = r.context,
				s = e.createTexture();
			if (s) return s[t.glContext] = e, e.bindTexture(e.TEXTURE_2D, s), e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1), s[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL] = !0, e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, n), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), s;
			r.contextLost = !0
		}, t.sys._createTexture = function(i, n, r, e) {
			var s = i,
				h = s.context,
				o = h.createTexture();
			return o ? (o[t.glContext] = h, h.bindTexture(h.TEXTURE_2D, o), h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1), o[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL] = !0, h.texImage2D(h.TEXTURE_2D, 0, h.RGBA, n, r, 0, h.RGBA, h.UNSIGNED_BYTE, e), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, h.LINEAR), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.LINEAR), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.CLAMP_TO_EDGE), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.CLAMP_TO_EDGE), o) : (s.contextLost = !0, null)
		}, t.sys.drawTextureElements = function(t, i, n) {
			var r = t.context;
			r.activeTexture(r.TEXTURE0), r.bindTexture(r.TEXTURE_2D, i.texture);
			var e = 3 * i.count;
			return r.drawElements(r.TRIANGLES, e, r.UNSIGNED_SHORT, 2 * n), e
		}, t.sys.measureTextWith = function(t, i) {
			return t.measureText(i).width
		}, t.sys.createCanvasRenderBufferSurface = function(t, i, n, r) {
			return t(i, n)
		}, t.sys.resizeCanvasRenderBuffer = function(t, i, n, r) {
			var e = t,
				s = e.surface;
			if (r) {
				var h = !1;
				s.width < i && (s.width = i, h = !0), s.height < n && (s.height = n, h = !0), h || (e.context.globalCompositeOperation = "source-over", e.context.setTransform(1, 0, 0, 1, 0, 0), e.context.globalAlpha = 1)
			} else s.width != i && (s.width = i), s.height != n && (s.height = n);
			e.clear()
		}, t.Geolocation = t.web.WebGeolocation, t.Motion = t.web.WebMotion
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	! function(i) {
		var n = !1;

		function r(n) {
			"webgl" == n && t.WebGLUtils.checkCanUseWebGL() ? (t.sys.RenderBuffer = i.WebGLRenderBuffer, t.sys.systemRenderer = new i.WebGLRenderer, t.sys.canvasRenderer = new t.CanvasRenderer, t.sys.customHitTestBuffer = new i.WebGLRenderBuffer(3, 3), t.sys.canvasHitTestBuffer = new i.CanvasRenderBuffer(3, 3), t.Capabilities.renderMode = "webgl") : (t.sys.RenderBuffer = i.CanvasRenderBuffer, t.sys.systemRenderer = new t.CanvasRenderer, t.sys.canvasRenderer = t.sys.systemRenderer, t.sys.customHitTestBuffer = new i.CanvasRenderBuffer(3, 3), t.sys.canvasHitTestBuffer = t.sys.customHitTestBuffer, t.Capabilities.renderMode = "canvas")
		}

		function e(i, n) {
			var r;
			void 0 === n && (n = 1);
			try {
				var e = function(t) {
					var i = new Blob(["var fps=1;var interval=1000/fps;var i;function onTick(){this.postMessage(0);i=setTimeout(onTick,interval)}onmessage=function(e){e.data?onTick():clearTimeout(i)};"], {
						type: "application/javascript"
					});
					return URL.createObjectURL(i)
				}();
				r = new Worker(e)
			} catch (i) {
				t.log(i)
			}
			r && (t.log("Tick use WebWorker"), r.onmessage = function(n) {
				t.log("onTickerMsg"), i.update()
			}, r.onerror = function(i) {
				t.error("!!!WebWorker Error: ", i)
			}, window.tickWorker = r), t.log("Tick use requestAnimationFrame");
			var s = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
			s || (s = function(t) {
				return window.setTimeout(t, 1e3 / 60)
			}), s((function t() {
				i.update(), s(t)
			}))
		}
		window.isNaN = function(t) {
			return (t = +t) != t
		}, t.runEgret = function(o) {
			if (!n) {
				n = !0, o || (o = {}), t.runEgretOptionsIns = o;
				var a = navigator.userAgent.toLowerCase();
				if (a.indexOf("egretnative") >= 0 && -1 == a.indexOf("egretwebview") && (t.Capabilities.runtimeType = t.RuntimeType.RUNTIME2), a.indexOf("egretnative") >= 0 && t.nativeRender) egret_native.addModuleCallback((function() {
					if (i.Html5Capatibility.$init(), "webgl" == o.renderMode) {
						var n = o.antialias;
						i.WebGLRenderContext.antialias = !!n
					}
					var a;
					t.sys.CanvasRenderBuffer = i.CanvasRenderBuffer, r(o.renderMode), egret_native.nrSetRenderMode(2), a = o.canvasScaleFactor ? o.canvasScaleFactor : o.calculateCanvasScaleFactor ? o.calculateCanvasScaleFactor(t.sys.canvasHitTestBuffer.context) : window.devicePixelRatio, t.sys.DisplayList.$canvasScaleFactor = a, e(t.ticker, o.tickMode), o.screenAdapter ? t.sys.screenAdapter = o.screenAdapter : t.sys.screenAdapter || (t.sys.screenAdapter = new t.sys.DefaultScreenAdapter);
					for (var u = document.querySelectorAll(".egret-player"), c = u.length, f = 0; f < c; f++) {
						var l = u[f],
							v = new i.WebPlayer(l, o);
						l["egret-player"] = v, window.player = v
					}
					window.addEventListener("resize", (function() {
						isNaN(s) && (s = window.setTimeout(h, 300))
					}))
				}), null), egret_native.initNativeRender();
				else {
					i.Html5Capatibility._audioType = o.audioType, i.Html5Capatibility.$init();
					var u = o.renderMode;
					if ("webgl" == u) {
						var c = o.antialias;
						i.WebGLRenderContext.antialias = !!c
					}
					t.sys.CanvasRenderBuffer = i.CanvasRenderBuffer, a.indexOf("egretnative") >= 0 && "webgl" != u && (t.$warn(1051), u = "webgl"), r(u);
					var f = void 0;
					if (o.canvasScaleFactor) f = o.canvasScaleFactor;
					else if (o.calculateCanvasScaleFactor) f = o.calculateCanvasScaleFactor(t.sys.canvasHitTestBuffer.context);
					else {
						var l = t.sys.canvasHitTestBuffer.context,
							v = l.backingStorePixelRatio || l.webkitBackingStorePixelRatio || l.mozBackingStorePixelRatio || l.msBackingStorePixelRatio || l.oBackingStorePixelRatio || l.backingStorePixelRatio || 1;
						f = (window.devicePixelRatio || 1) / v
					}
					t.sys.DisplayList.$canvasScaleFactor = f, e(t.ticker, o.tickMode), o.screenAdapter ? t.sys.screenAdapter = o.screenAdapter : t.sys.screenAdapter || (t.sys.screenAdapter = new t.sys.DefaultScreenAdapter);
					for (var d = document.querySelectorAll(".egret-player"), g = d.length, w = 0; w < g; w++) {
						var m = d[w],
							p = new i.WebPlayer(m, o);
						m["egret-player"] = p, window.player = p
					}
					window.addEventListener("resize", (function() {
						isNaN(s) && (s = window.setTimeout(h, 300))
					}))
				}
			}
		}, t.updateAllScreens = function() {
			if (n)
				for (var t = document.querySelectorAll(".egret-player"), i = t.length, r = 0; r < i; r++) t[r]["egret-player"].updateScreenSize()
		};
		var s = NaN;

		function h() {
			s = NaN, t.updateAllScreens()
		}
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function() {
		function i() {}
		return i.detect = function() {
			var n = t.Capabilities,
				r = navigator.userAgent.toLowerCase();
			n.isMobile = -1 != r.indexOf("mobile") || -1 != r.indexOf("android"), n.isMobile ? r.indexOf("windows") < 0 && (-1 != r.indexOf("iphone") || -1 != r.indexOf("ipad") || -1 != r.indexOf("ipod")) ? n.os = "iOS" : -1 != r.indexOf("android") && -1 != r.indexOf("linux") ? n.os = "Android" : -1 != r.indexOf("windows") && (n.os = "Windows Phone") : -1 != r.indexOf("windows nt") ? n.os = "Windows PC" : "MacIntel" == navigator.platform && navigator.maxTouchPoints > 1 ? (n.os = "iOS", n.isMobile = !0) : -1 != r.indexOf("mac os") && (n.os = "Mac OS");
			var e = (navigator.language || navigator.browserLanguage).toLowerCase().split("-");
			e.length > 1 && (e[1] = e[1].toUpperCase()), n.language = e.join("-"), n.isInApp = !1, t.Capabilities.runtimeType === t.RuntimeType.RUNTIME2 && (n.isInApp = !0), r && r.indexOf("egretwebview") > -1 && (n.isInApp = !0), i.injectUIntFixOnIE9()
		}, i.injectUIntFixOnIE9 = function() {
			/msie 9.0/i.test(navigator.userAgent) && !/opera/i.test(navigator.userAgent) && document.write("\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\n<script type='text/vbscript' language='VBScript'>\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = \"\"\r\n   End If\r\nEnd Function\r\n<\/script>\r\n\x3c!-- convertResponseBodyToText --\x3e\r\n<script>\r\nlet convertResponseBodyToText = function (binary) {\r\n   let byteMapping = {};\r\n   for ( let i = 0; i < 256; i++ ) {\r\n       for ( let j = 0; j < 256; j++ ) {\r\n           byteMapping[ String.fromCharCode( i + j * 256 ) ] =\r\n           String.fromCharCode(i) + String.fromCharCode(j);\r\n       }\r\n   }\r\n   let rawBytes = IEBinaryToArray_ByteStr(binary);\r\n   let lastChr = IEBinaryToArray_ByteStr_Last(binary);\r\n   return rawBytes.replace(/[\\s\\S]/g,                           function( match ) { return byteMapping[match]; }) + lastChr;\r\n};\r\n<\/script>\r\n")
		}, i
	}(), i.WebCapability = n, __reflect(n.prototype, "egret.web.WebCapability"), n.detect()
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function() {
		function i(i, n, r, e, s) {
			if (this.showPanle = !0, this.fpsHeight = 0, this.WIDTH = 101, this.HEIGHT = 20, this.bgCanvasColor = "#18304b", this.fpsFrontColor = "#18fefe", this.WIDTH_COST = 50, this.cost1Color = "#18fefe", this.cost3Color = "#ff0000", this.arrFps = [], this.arrCost = [], this.arrLog = [], n || r) {
				"canvas" == t.Capabilities.renderMode ? this.renderMode = "Canvas" : this.renderMode = "WebGL", this.panelX = void 0 === s.x ? 0 : parseInt(s.x), this.panelY = void 0 === s.y ? 0 : parseInt(s.y), this.fontColor = void 0 === s.textColor ? "#ffffff" : s.textColor.replace("0x", "#"), this.fontSize = void 0 === s.size ? 12 : parseInt(s.size), t.Capabilities.isMobile && (this.fontSize -= 2);
				var h = document.createElement("div");
				h.style.position = "absolute", h.style.background = "rgba(0,0,0," + s.bgAlpha + ")", h.style.left = this.panelX + "px", h.style.top = this.panelY + "px", h.style.pointerEvents = "none", h.id = "egret-fps-panel", document.body.appendChild(h);
				var o = document.createElement("div");
				o.style.color = this.fontColor, o.style.fontSize = this.fontSize + "px", o.style.lineHeight = this.fontSize + "px", o.style.margin = "4px 4px 4px 4px", this.container = o, h.appendChild(o), n && this.addFps(), r && this.addLog()
			}
		}
		return i.prototype.addFps = function() {
			var t = document.createElement("div");
			t.style.display = "inline-block", this.containerFps = t, this.container.appendChild(t);
			var i = document.createElement("div");
			i.style.paddingBottom = "2px", this.fps = i, this.containerFps.appendChild(i), i.innerHTML = "0 FPS " + this.renderMode + "<br/>min0 max0 avg0";
			var n = document.createElement("canvas");
			this.containerFps.appendChild(n), n.width = this.WIDTH, n.height = this.HEIGHT, this.canvasFps = n;
			var r = n.getContext("2d");
			this.contextFps = r, r.fillStyle = this.bgCanvasColor, r.fillRect(0, 0, this.WIDTH, this.HEIGHT);
			var e = document.createElement("div");
			this.divDatas = e, this.containerFps.appendChild(e);
			var s = document.createElement("div");
			s.style.float = "left", s.innerHTML = "Draw<br/>Cost", e.appendChild(s);
			var h = document.createElement("div");
			h.style.paddingLeft = s.offsetWidth + 20 + "px", e.appendChild(h);
			var o = document.createElement("div");
			this.divDraw = o, o.innerHTML = "0<br/>", h.appendChild(o);
			var a = document.createElement("div");
			this.divCost = a, a.innerHTML = '<font  style="color:' + this.cost1Color + '">0<font/> <font  style="color:' + this.cost3Color + '">0<font/>', h.appendChild(a), n = document.createElement("canvas"), this.canvasCost = n, this.containerFps.appendChild(n), n.width = this.WIDTH, n.height = this.HEIGHT, r = n.getContext("2d"), this.contextCost = r, r.fillStyle = this.bgCanvasColor, r.fillRect(0, 0, this.WIDTH, this.HEIGHT), r.fillStyle = "#000000", r.fillRect(this.WIDTH_COST, 0, 1, this.HEIGHT), this.fpsHeight = this.container.offsetHeight
		}, i.prototype.addLog = function() {
			var t = document.createElement("div");
			t.style.maxWidth = document.body.clientWidth - 8 - this.panelX + "px", t.style.wordWrap = "break-word", this.log = t, this.container.appendChild(t)
		}, i.prototype.update = function(t, i) {
			var n, r, e;
			void 0 === i && (i = !1), i ? (n = this.arrFps[this.arrFps.length - 1], r = this.arrCost[this.arrCost.length - 1][0], e = this.arrCost[this.arrCost.length - 1][1]) : (n = t.fps, r = t.costTicker, e = t.costRender, this.lastNumDraw = t.draw, this.arrFps.push(n), this.arrCost.push([r, e]));
			var s = 0,
				h = this.arrFps.length;
			h > 101 && (h = 101, this.arrFps.shift(), this.arrCost.shift());
			for (var o = this.arrFps[0], a = this.arrFps[0], u = 0; u < h; u++) {
				var c = this.arrFps[u];
				s += c, c < o ? o = c : c > a && (a = c)
			}
			var f = this.WIDTH,
				l = this.HEIGHT,
				v = this.contextFps;
			v.drawImage(this.canvasFps, 1, 0, f - 1, l, 0, 0, f - 1, l), v.fillStyle = this.bgCanvasColor, v.fillRect(f - 1, 0, 1, l);
			var d = Math.floor(n / 60 * 20);
			d < 1 && (d = 1), v.fillStyle = this.fpsFrontColor, v.fillRect(f - 1, 20 - d, 1, d);
			var g = this.WIDTH_COST;
			(v = this.contextCost).drawImage(this.canvasCost, 1, 0, g - 1, l, 0, 0, g - 1, l), v.drawImage(this.canvasCost, g + 2, 0, g - 1, l, g + 1, 0, g - 1, l);
			var w = Math.floor(r / 2);
			w < 1 ? w = 1 : w > 20 && (w = 20);
			var m = Math.floor(e / 2);
			m < 1 ? m = 1 : m > 20 && (m = 20), v.fillStyle = this.bgCanvasColor, v.fillRect(g - 1, 0, 1, l), v.fillRect(2 * g, 0, 1, l), v.fillRect(3 * g + 1, 0, 1, l), v.fillStyle = this.cost1Color, v.fillRect(g - 1, 20 - w, 1, w), v.fillStyle = this.cost3Color, v.fillRect(2 * g, 20 - m, 1, m);
			var p = Math.floor(s / h),
				b = n + " FPS " + this.renderMode;
			this.showPanle && (b += "<br/>min" + o + " max" + a + " avg" + p, this.divDraw.innerHTML = this.lastNumDraw + "<br/>", this.divCost.innerHTML = '<font  style="color:#18fefe">' + r + '<font/> <font  style="color:#ff0000">' + e + "<font/>"), this.fps.innerHTML = b
		}, i.prototype.updateInfo = function(t) {
			this.arrLog.push(t), this.updateLogLayout()
		}, i.prototype.updateWarn = function(t) {
			this.arrLog.push("[Warning]" + t), this.updateLogLayout()
		}, i.prototype.updateError = function(t) {
			this.arrLog.push("[Error]" + t), this.updateLogLayout()
		}, i.prototype.updateLogLayout = function() {
			for (this.log.innerHTML = this.arrLog.join("<br/>"); document.body.clientHeight < this.log.offsetHeight + this.fpsHeight + this.panelY + 2 * this.fontSize;) this.arrLog.shift(), this.log.innerHTML = this.arrLog.join("<br/>")
		}, i
	}(), i.WebFps = n, __reflect(n.prototype, "egret.web.WebFps", ["egret.FPSDisplay"]), t.FPSDisplay = n
}(egret || (egret = {})),
function(t) {
	var i;
	(i = t.localStorage || (t.localStorage = {})).web || (i.web = {}), i.getItem = function(t) {
		return window.localStorage.getItem(t)
	}, i.setItem = function(i, n) {
		try {
			return window.localStorage.setItem(i, n), !0
		} catch (r) {
			return t.$warn(1047, i, n), !1
		}
	}, i.removeItem = function(t) {
		window.localStorage.removeItem(t)
	}, i.clear = function() {
		window.localStorage.clear()
	}
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(n) {
		function r(t, i) {
			var r = n.call(this) || this;
			return r.init(t, i), r.initOrientation(), r
		}
		return __extends(r, n), r.prototype.init = function(n, r) {
			console.log("Egret Engine Version:", t.Capabilities.engineVersion);
			var e = this.readOption(n, r),
				s = new t.Stage;
			s.$screen = this, s.$scaleMode = e.scaleMode, s.$orientation = e.orientation, s.$maxTouches = e.maxTouches, s.frameRate = e.frameRate, s.textureScaleFactor = e.textureScaleFactor;
			var h = new t.sys.RenderBuffer(void 0, void 0, !0),
				o = h.surface;
			this.attachCanvas(n, o);
			var a = new i.WebTouchHandler(s, o),
				u = new t.sys.Player(h, s, e.entryClassName);
			t.lifecycle.stage = s, t.lifecycle.addLifecycleListener(i.WebLifeCycleHandler);
			var c = new i.HTMLInput;
			(e.showFPS || e.showLog) && (t.nativeRender || u.displayFPS(e.showFPS, e.showLog, e.logFilter, e.fpsStyles)), this.playerOption = e, this.container = n, this.canvas = o, this.stage = s, this.player = u, this.webTouchHandler = a, this.webInput = c, t.web.$cacheTextAdapter(c, s, n, o), this.updateScreenSize(), this.updateMaxTouches(), u.start()
		}, r.prototype.initOrientation = function() {
			var i = this;
			window.addEventListener("orientationchange", (function() {
				window.setTimeout((function() {
					t.StageOrientationEvent.dispatchStageOrientationEvent(i.stage, t.StageOrientationEvent.ORIENTATION_CHANGE)
				}), 350)
			}))
		}, r.prototype.readOption = function(i, n) {
			var r = {};
			r.entryClassName = i.getAttribute("data-entry-class"), r.scaleMode = i.getAttribute("data-scale-mode") || t.StageScaleMode.NO_SCALE, r.frameRate = +i.getAttribute("data-frame-rate") || 30, r.contentWidth = +i.getAttribute("data-content-width") || 480, r.contentHeight = +i.getAttribute("data-content-height") || 800, r.orientation = i.getAttribute("data-orientation") || t.OrientationMode.AUTO, r.maxTouches = +i.getAttribute("data-multi-fingered") || 2, r.textureScaleFactor = +i.getAttribute("texture-scale-factor") || 1, r.showFPS = "true" == i.getAttribute("data-show-fps");
			for (var e = (i.getAttribute("data-show-fps-style") || "").split(","), s = {}, h = 0; h < e.length; h++) {
				var o = e[h].split(":");
				s[o[0]] = o[1]
			}
			return r.fpsStyles = s, r.showLog = "true" == i.getAttribute("data-show-log"), r.logFilter = i.getAttribute("data-log-filter"), r
		}, r.prototype.attachCanvas = function(t, i) {
			var n = i.style;
			n.cursor = "inherit", n.position = "absolute", n.top = "0", n.bottom = "0", n.left = "0", n.right = "0", t.appendChild(i), (n = t.style).overflow = "hidden", n.position = "absolute"
		}, r.prototype.updateScreenSize = function() {
			var i = this.canvas;
			if (!i.userTyping) {
				var n = this.playerOption,
					r = this.container.getBoundingClientRect(),
					e = 0,
					s = r.width,
					h = r.height;
				if (0 != s && 0 != h) {
					r.top < 0 && (h += r.top, e = -r.top);
					var o = !1,
						a = this.stage.$orientation;
					a != t.OrientationMode.AUTO && (o = a != t.OrientationMode.PORTRAIT && h > s || a == t.OrientationMode.PORTRAIT && s > h);
					var u = o ? h : s,
						c = o ? s : h;
					t.Capabilities.boundingClientWidth = u, t.Capabilities.boundingClientHeight = c;
					var f = t.sys.screenAdapter.calculateStageSize(this.stage.$scaleMode, u, c, n.contentWidth, n.contentHeight),
						l = f.stageWidth,
						v = f.stageHeight,
						d = f.displayWidth,
						g = f.displayHeight;
					i.style[t.web.getPrefixStyleName("transformOrigin")] = "0% 0% 0px", i.width != l && (i.width = l), i.height != v && (i.height = v);
					var w = 0;
					o ? a == t.OrientationMode.LANDSCAPE ? (w = 90, i.style.top = e + (h - d) / 2 + "px", i.style.left = (s + g) / 2 + "px") : (w = -90, i.style.top = e + (h + d) / 2 + "px", i.style.left = (s - g) / 2 + "px") : (i.style.top = e + (h - g) / 2 + "px", i.style.left = (s - d) / 2 + "px");
					var m = d / l,
						p = g / v,
						b = m * t.sys.DisplayList.$canvasScaleFactor,
						x = p * t.sys.DisplayList.$canvasScaleFactor;
					"canvas" == t.Capabilities.renderMode && (b = Math.ceil(b), x = Math.ceil(x));
					var _ = t.Matrix.create();
					_.identity(), _.scale(m / b, p / x), _.rotate(w * Math.PI / 180);
					var C = "matrix(" + _.a + "," + _.b + "," + _.c + "," + _.d + "," + _.tx + "," + _.ty + ")";
					t.Matrix.release(_), i.style[t.web.getPrefixStyleName("transform")] = C, t.sys.DisplayList.$setCanvasScale(b, x), this.webTouchHandler.updateScaleMode(m, p, w), this.webInput.$updateSize(), this.player.updateStageSize(l, v, u, c), t.nativeRender && (i.width = l * b, i.height = v * x)
				}
			}
		}, r.prototype.setContentSize = function(t, i) {
			var n = this.playerOption;
			n.contentWidth = t, n.contentHeight = i, this.updateScreenSize()
		}, r.prototype.updateMaxTouches = function() {
			this.webTouchHandler.$updateMaxTouches()
		}, r
	}(t.HashObject), i.WebPlayer = n, __reflect(n.prototype, "egret.web.WebPlayer", ["egret.sys.Screen"])
}(egret || (egret = {})),
function(t) {
	! function(i) {
		var n, r;

		function e(i, e) {
			n || (n = t.sys.createCanvas(), r = n.getContext("2d"));
			var s = i.$getTextureWidth(),
				h = i.$getTextureHeight();
			null == e && ((e = t.$TempRectangle).x = 0, e.y = 0, e.width = s, e.height = h), e.x = Math.min(e.x, s - 1), e.y = Math.min(e.y, h - 1), e.width = Math.min(e.width, s - e.x), e.height = Math.min(e.height, h - e.y);
			var o = e.width,
				a = e.height,
				u = n;
			if (u.style.width = o + "px", u.style.height = a + "px", n.width = o, n.height = a, "webgl" == t.Capabilities.renderMode) {
				var c = void 0;
				i.$renderBuffer ? c = i : (c = new t.RenderTexture).drawToTexture(new t.Bitmap(i));
				for (var f = c.$renderBuffer.getPixels(e.x, e.y, o, a), l = new ImageData(o, a), v = 0; v < f.length; v++) l.data[v] = f[v];
				return r.putImageData(l, 0, 0), i.$renderBuffer || c.dispose(), u
			}
			var d = i,
				g = Math.round(d.$offsetX),
				w = Math.round(d.$offsetY),
				m = d.$bitmapWidth,
				p = d.$bitmapHeight;
			return r.drawImage(d.$bitmapData.source, d.$bitmapX + e.x / t.$TextureScaleFactor, d.$bitmapY + e.y / t.$TextureScaleFactor, m * e.width / s, p * e.height / h, g, w, e.width, e.height), u
		}

		function s(i, n, r) {
			try {
				return e(this, n).toDataURL(i, r)
			} catch (i) {
				t.$error(1033)
			}
			return null
		}
		t.Texture.prototype.toDataURL = s, t.Texture.prototype.saveToFile = function(t, i, n, r) {
			var e = s.call(this, t, n, r);
			if (null != e) {
				var h = e.replace(/^data:image[^;]*/, "data:image/octet-stream"),
					o = document.createElement("a");
				o.download = i, o.href = h;
				var a = document.createEvent("MouseEvents");
				a.initMouseEvent("click", !0, !1, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), o.dispatchEvent(a)
			}
		}, t.Texture.prototype.getPixel32 = function(i, n) {
			return t.$warn(1041, "getPixel32", "getPixels"), this.getPixels(i, n)
		}, t.Texture.prototype.getPixels = function(i, n, s, h) {
			if (void 0 === s && (s = 1), void 0 === h && (h = 1), "webgl" == t.Capabilities.renderMode) {
				var o = void 0;
				return this.$renderBuffer ? o = this : (o = new t.RenderTexture).drawToTexture(new t.Bitmap(this)), o.$renderBuffer.getPixels(i, n, s, h)
			}
			try {
				return e(this), r.getImageData(i, n, s, h).data
			} catch (i) {
				t.$error(1039)
			}
		}
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	! function(i) {
		var n = function(t, i) {
			this.nodeType = t, this.parent = i
		};
		i.XMLNode = n, __reflect(n.prototype, "egret.web.XMLNode");
		var r = function(t) {
			function i(i, n, r, e, s) {
				var h = t.call(this, 1, n) || this;
				return h.attributes = {}, h.children = [], h.localName = i, h.prefix = r, h.namespace = e, h.name = s, h
			}
			return __extends(i, t), i
		}(n);
		i.XML = r, __reflect(r.prototype, "egret.web.XML");
		var e = function(t) {
			function i(i, n) {
				var r = t.call(this, 3, n) || this;
				return r.text = i, r
			}
			return __extends(i, t), i
		}(n);
		i.XMLText = e, __reflect(e.prototype, "egret.web.XMLText");
		var s = new DOMParser;

		function h(t, i) {
			if ("parsererror" == t.localName) throw new Error(t.textContent);
			for (var n = new r(t.localName, i, t.prefix, t.namespaceURI, t.nodeName), s = t.attributes, o = n.attributes, a = s.length, u = 0; u < a; u++) {
				var c = s[u],
					f = c.name;
				0 != f.indexOf("xmlns:") && (o[f] = c.value, n["$" + f] = c.value)
			}
			var l = t.childNodes;
			a = l.length;
			var v = n.children;
			for (u = 0; u < a; u++) {
				var d = l[u],
					g = d.nodeType,
					w = null;
				if (1 == g) w = h(d, n);
				else if (3 == g) {
					var m = d.textContent.trim();
					m && (w = new e(m, n))
				}
				w && v.push(w)
			}
			return n
		}
		t.XML = {
			parse: function(t) {
				for (var i = s.parseFromString(t, "text/xml"), n = i.childNodes.length, r = 0; r < n; r++) {
					var e = i.childNodes[r];
					if (1 == e.nodeType) return h(e, null)
				}
				return null
			}
		}
	}(t.web || (t.web = {}))
}(egret || (egret = {})),
function(t) {
	var i, n;
	i = t.web || (t.web = {}), n = function(i) {
		function n() {
			var n = null !== i && i.apply(this, arguments) || this;
			return n.onChange = function(i) {
				var r = new t.OrientationEvent(t.Event.CHANGE);
				r.beta = i.beta, r.gamma = i.gamma, r.alpha = i.alpha, n.dispatchEvent(r)
			}, n
		}
		return __extends(n, i), n.prototype.start = function() {
			window.addEventListener("deviceorientation", this.onChange)
		}, n.prototype.stop = function() {
			window.removeEventListener("deviceorientation", this.onChange)
		}, n
	}(t.EventDispatcher), i.WebDeviceOrientation = n, __reflect(n.prototype, "egret.web.WebDeviceOrientation", ["egret.DeviceOrientation"])
}(egret || (egret = {})), egret.DeviceOrientation = egret.web.WebDeviceOrientation,
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function t() {}
			return t.call = function(t, i) {}, t.addCallback = function(t, i) {}, t
		}(), i.WebExternalInterface = n, __reflect(n.prototype, "egret.web.WebExternalInterface", ["egret.ExternalInterface"]), navigator.userAgent.toLowerCase().indexOf("egretnative") < 0 && (t.ExternalInterface = n)
	}(egret || (egret = {})),
	function(t) {
		var i, n, r;
		i = t.web || (t.web = {}), n = {}, r = function() {
			function t() {}
			return t.call = function(t, i) {
				var n = {};
				n.functionName = t, n.value = i, egret_native.sendInfoToPlugin(JSON.stringify(n))
			}, t.addCallback = function(t, i) {
				n[t] = i
			}, t
		}(), i.NativeExternalInterface = r, __reflect(r.prototype, "egret.web.NativeExternalInterface", ["egret.ExternalInterface"]), navigator.userAgent.toLowerCase().indexOf("egretnative") >= 0 && (t.ExternalInterface = r, egret_native.receivedPluginInfo = function(i) {
			var r = JSON.parse(i),
				e = r.functionName,
				s = n[e];
			if (s) {
				var h = r.value;
				s.call(null, h)
			} else t.$warn(1050, e)
		})
	}(egret || (egret = {})),
	function(t) {
		var i, n, r;
		i = t.web || (t.web = {}), n = {}, r = function() {
			function i() {}
			return i.call = function(t, i) {
				__global.ExternalInterface.call(t, i)
			}, i.addCallback = function(t, i) {
				n[t] = i
			}, i.invokeCallback = function(i, r) {
				var e = n[i];
				r = t.Base64Util.decode_utf8(r), e ? e.call(null, r) : t.$warn(1050, i)
			}, i
		}(), i.WebViewExternalInterface = r, __reflect(r.prototype, "egret.web.WebViewExternalInterface", ["egret.ExternalInterface"]), navigator.userAgent.toLowerCase().indexOf("egretwebview") >= 0 && (t.ExternalInterface = r)
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function(n) {
			function r() {
				var t = n.call(this) || this;
				return t.loaded = !1, t
			}
			return __extends(r, n), Object.defineProperty(r.prototype, "length", {
				get: function() {
					if (this.originAudio) return this.originAudio.duration;
					throw new Error("sound not loaded!")
				},
				enumerable: !0,
				configurable: !0
			}), r.prototype.load = function(i) {
				var n = this;
				this.url = i;
				var e = new Audio(i);
				e.addEventListener("canplaythrough", o), e.addEventListener("error", a);
				var s = navigator.userAgent.toLowerCase();
				s.indexOf("firefox") >= 0 && (e.autoplay = !0, e.muted = !0);
				var h = s.indexOf("edge") >= 0 || s.indexOf("trident") >= 0;

				function o() {
					r.$recycle(n.url, e), u(), s.indexOf("firefox") >= 0 && (e.pause(), e.muted = !1), h && document.body.appendChild(e), n.loaded = !0, n.dispatchEventWith(t.Event.COMPLETE)
				}

				function a() {
					u(), n.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
				}

				function u() {
					e.removeEventListener("canplaythrough", o), e.removeEventListener("error", a), h && document.body.removeChild(e)
				}
				h && document.body.appendChild(e), e.load(), this.originAudio = e, r.clearAudios[this.url] && delete r.clearAudios[this.url]
			}, r.prototype.play = function(n, e) {
				n = +n || 0, e = +e || 0;
				var s = r.$pop(this.url);
				null == s && (s = this.originAudio.cloneNode()), s.autoplay = !0;
				var h = new i.HtmlSoundChannel(s);
				return h.$url = this.url, h.$loops = e, h.$startTime = n, h.$play(), t.sys.$pushSoundChannel(h), h
			}, r.prototype.close = function() {
				this.loaded && this.originAudio && (this.originAudio.src = ""), this.originAudio && (this.originAudio = null), r.$clear(this.url), this.loaded = !1
			}, r.$clear = function(t) {
				r.clearAudios[t] = !0;
				var i = r.audios[t];
				i && (i.length = 0)
			}, r.$pop = function(t) {
				var i = r.audios[t];
				return i && i.length > 0 ? i.pop() : null
			}, r.$recycle = function(t, i) {
				if (!r.clearAudios[t]) {
					var n = r.audios[t];
					null == r.audios[t] && (n = r.audios[t] = []), n.push(i)
				}
			}, r.MUSIC = "music", r.EFFECT = "effect", r.audios = {}, r.clearAudios = {}, r
		}(t.EventDispatcher), i.HtmlSound = n, __reflect(n.prototype, "egret.web.HtmlSound", ["egret.Sound"])
	}(egret || (egret = {})),
	function(t) {
		t.web || (t.web = {})
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function t() {
				this.drawData = [], this.drawDataLen = 0
			}
			return t.prototype.pushDrawRect = function() {
				if (0 == this.drawDataLen || 1 != this.drawData[this.drawDataLen - 1].type) {
					var t = this.drawData[this.drawDataLen] || {};
					t.type = 1, t.count = 0, this.drawData[this.drawDataLen] = t, this.drawDataLen++
				}
				this.drawData[this.drawDataLen - 1].count += 2
			}, t.prototype.pushDrawTexture = function(t, i, n, r, e) {
				var s;
				void 0 === i && (i = 2), n ? ((s = this.drawData[this.drawDataLen] || {}).type = 0, s.texture = t, s.filter = n, s.count = i, s.textureWidth = r, s.textureHeight = e, this.drawData[this.drawDataLen] = s, this.drawDataLen++) : ((0 == this.drawDataLen || 0 != this.drawData[this.drawDataLen - 1].type || t != this.drawData[this.drawDataLen - 1].texture || this.drawData[this.drawDataLen - 1].filter) && ((s = this.drawData[this.drawDataLen] || {}).type = 0, s.texture = t, s.count = 0, this.drawData[this.drawDataLen] = s, this.drawDataLen++), this.drawData[this.drawDataLen - 1].count += i)
			}, t.prototype.pushChangeSmoothing = function(t, i) {
				t.smoothing = i;
				var n = this.drawData[this.drawDataLen] || {};
				n.type = 10, n.texture = t, n.smoothing = i, this.drawData[this.drawDataLen] = n, this.drawDataLen++
			}, t.prototype.pushPushMask = function(t) {
				void 0 === t && (t = 1);
				var i = this.drawData[this.drawDataLen] || {};
				i.type = 2, i.count = 2 * t, this.drawData[this.drawDataLen] = i, this.drawDataLen++
			}, t.prototype.pushPopMask = function(t) {
				void 0 === t && (t = 1);
				var i = this.drawData[this.drawDataLen] || {};
				i.type = 3, i.count = 2 * t, this.drawData[this.drawDataLen] = i, this.drawDataLen++
			}, t.prototype.pushSetBlend = function(t) {
				for (var i = !1, n = this.drawDataLen - 1; n >= 0; n--) {
					var r = this.drawData[n];
					if (r) {
						if (0 != r.type && 1 != r.type || (i = !0), i || 4 != r.type) break;
						return void(r.value = t)
					}
				}
				var e = this.drawData[this.drawDataLen] || {};
				e.type = 4, e.value = t, this.drawData[this.drawDataLen] = e, this.drawDataLen++
			}, t.prototype.pushResize = function(t, i, n) {
				var r = this.drawData[this.drawDataLen] || {};
				r.type = 5, r.buffer = t, r.width = i, r.height = n, this.drawData[this.drawDataLen] = r, this.drawDataLen++
			}, t.prototype.pushClearColor = function() {
				var t = this.drawData[this.drawDataLen] || {};
				t.type = 6, this.drawData[this.drawDataLen] = t, this.drawDataLen++
			}, t.prototype.pushActivateBuffer = function(t) {
				for (var i = !1, n = this.drawDataLen - 1; n >= 0; n--) {
					var r = this.drawData[n];
					if (r) {
						if (4 != r.type && 7 != r.type && (i = !0), i || 7 != r.type) break;
						return r.buffer = t, r.width = t.rootRenderTarget.width, void(r.height = t.rootRenderTarget.height)
					}
				}
				var e = this.drawData[this.drawDataLen] || {};
				e.type = 7, e.buffer = t, e.width = t.rootRenderTarget.width, e.height = t.rootRenderTarget.height, this.drawData[this.drawDataLen] = e, this.drawDataLen++
			}, t.prototype.pushEnableScissor = function(t, i, n, r) {
				var e = this.drawData[this.drawDataLen] || {};
				e.type = 8, e.x = t, e.y = i, e.width = n, e.height = r, this.drawData[this.drawDataLen] = e, this.drawDataLen++
			}, t.prototype.pushDisableScissor = function() {
				var t = this.drawData[this.drawDataLen] || {};
				t.type = 9, this.drawData[this.drawDataLen] = t, this.drawDataLen++
			}, t.prototype.clear = function() {
				this.drawData.length = 0, this.drawDataLen = 0
			}, t
		}(), i.WebGLDrawCmdManager = n, __reflect(n.prototype, "egret.web.WebGLDrawCmdManager")
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function i() {
				this.vertSize = 5, this.vertByteSize = 4 * this.vertSize, this.maxQuadsCount = 2048, this.maxVertexCount = 4 * this.maxQuadsCount, this.maxIndicesCount = 6 * this.maxQuadsCount, this.vertices = null, this.indices = null, this.indicesForMesh = null, this.vertexIndex = 0, this.indexIndex = 0, this.hasMesh = !1, this._vertices = null, this._verticesFloat32View = null, this._verticesUint32View = null;
				var t = this.maxVertexCount * this.vertSize;
				this.vertices = new Float32Array(t), this._vertices = new ArrayBuffer(this.maxVertexCount * this.vertByteSize), this._verticesFloat32View = new Float32Array(this._vertices), this._verticesUint32View = new Uint32Array(this._vertices), this.vertices = this._verticesFloat32View;
				var i = this.maxIndicesCount;
				this.indices = new Uint16Array(i), this.indicesForMesh = new Uint16Array(i);
				for (var n = 0, r = 0; n < i; n += 6, r += 4) this.indices[n + 0] = r + 0, this.indices[n + 1] = r + 1, this.indices[n + 2] = r + 2, this.indices[n + 3] = r + 0, this.indices[n + 4] = r + 2, this.indices[n + 5] = r + 3
			}
			return i.prototype.reachMaxSize = function(t, i) {
				return void 0 === t && (t = 4), void 0 === i && (i = 6), this.vertexIndex > this.maxVertexCount - t || this.indexIndex > this.maxIndicesCount - i
			}, i.prototype.getVertices = function() {
				return this.vertices.subarray(0, this.vertexIndex * this.vertSize)
			}, i.prototype.getIndices = function() {
				return this.indices
			}, i.prototype.getMeshIndices = function() {
				return this.indicesForMesh
			}, i.prototype.changeToMeshIndices = function() {
				if (!this.hasMesh) {
					for (var t = 0, i = this.indexIndex; t < i; ++t) this.indicesForMesh[t] = this.indices[t];
					this.hasMesh = !0
				}
			}, i.prototype.isMesh = function() {
				return this.hasMesh
			}, i.prototype.cacheArrays = function(i, n, r, e, s, h, o, a, u, c, f, l, v, d, g) {
				var w = i.globalAlpha;
				w = Math.min(w, 1);
				var m = i.globalTintColor || 16777215,
					p = i.currentTexture;
				w = w < 1 && p && p[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL] ? t.WebGLUtils.premultiplyTint(m, w) : m + (255 * w << 24);
				var b = i.globalMatrix,
					x = b.a,
					_ = b.b,
					C = b.c,
					y = b.d,
					T = b.tx,
					k = b.ty,
					S = i.$offsetX,
					A = i.$offsetY;
				if (0 == S && 0 == A || (T = S * x + A * C + T, k = S * _ + A * y + k), !v) {
					0 == h && 0 == o || (T = h * x + o * C + T, k = h * _ + o * y + k);
					var M = a / e;
					1 != M && (x *= M, _ *= M);
					var E = u / s;
					1 != E && (C *= E, y *= E)
				}
				if (v) {
					var D, O = this.vertices,
						B = this._verticesUint32View,
						W = this.vertexIndex * this.vertSize,
						I = 0,
						j = 0,
						L = 0,
						G = 0,
						N = 0,
						F = 0;
					for (I = 0, D = l.length; I < D; I += 2) j = W + 5 * I / 2, N = v[I], F = v[I + 1], L = l[I], G = l[I + 1], O[j + 0] = x * N + C * F + T, O[j + 1] = _ * N + y * F + k, g ? (O[j + 2] = (n + (1 - G) * s) / c, O[j + 3] = (r + L * e) / f) : (O[j + 2] = (n + L * e) / c, O[j + 3] = (r + G * s) / f), B[j + 4] = w;
					if (this.hasMesh)
						for (var P = 0, R = d.length; P < R; ++P) this.indicesForMesh[this.indexIndex + P] = d[P] + this.vertexIndex;
					this.vertexIndex += l.length / 2, this.indexIndex += d.length
				} else {
					var z = c,
						X = f,
						H = e,
						V = s;
					if (n /= z, r /= X, O = this.vertices, B = this._verticesUint32View, W = this.vertexIndex * this.vertSize, g) {
						var U = e;
						e = s / z, s = U / X, O[W++] = T, O[W++] = k, O[W++] = e + n, O[W++] = r, B[W++] = w, O[W++] = x * H + T, O[W++] = _ * H + k, O[W++] = e + n, O[W++] = s + r, B[W++] = w, O[W++] = x * H + C * V + T, O[W++] = y * V + _ * H + k, O[W++] = n, O[W++] = s + r, B[W++] = w, O[W++] = C * V + T, O[W++] = y * V + k, O[W++] = n, O[W++] = r, B[W++] = w
					} else e /= z, s /= X, O[W++] = T, O[W++] = k, O[W++] = n, O[W++] = r, B[W++] = w, O[W++] = x * H + T, O[W++] = _ * H + k, O[W++] = e + n, O[W++] = r, B[W++] = w, O[W++] = x * H + C * V + T, O[W++] = y * V + _ * H + k, O[W++] = e + n, O[W++] = s + r, B[W++] = w, O[W++] = C * V + T, O[W++] = y * V + k, O[W++] = n, O[W++] = s + r, B[W++] = w;
					if (this.hasMesh) {
						var Y = this.indicesForMesh;
						Y[this.indexIndex + 0] = 0 + this.vertexIndex, Y[this.indexIndex + 1] = 1 + this.vertexIndex, Y[this.indexIndex + 2] = 2 + this.vertexIndex, Y[this.indexIndex + 3] = 0 + this.vertexIndex, Y[this.indexIndex + 4] = 2 + this.vertexIndex, Y[this.indexIndex + 5] = 3 + this.vertexIndex
					}
					this.vertexIndex += 4, this.indexIndex += 6
				}
			}, i.prototype.clear = function() {
				this.hasMesh = !1, this.vertexIndex = 0, this.indexIndex = 0
			}, i
		}(), i.WebGLVertexArrayObject = n, __reflect(n.prototype, "egret.web.WebGLVertexArrayObject")
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function(n) {
			function r(t, i, r) {
				var e = n.call(this) || this;
				return e.clearColor = [0, 0, 0, 0], e.useFrameBuffer = !0, e.gl = t, e._resize(i, r), e
			}
			return __extends(r, n), r.prototype._resize = function(t, i) {
				(t = t || 1) < 1 && (t = 1), (i = i || 1) < 1 && (i = 1), this.width = t, this.height = i
			}, r.prototype.resize = function(t, i) {
				this._resize(t, i);
				var n = this.gl;
				this.frameBuffer && (n.bindTexture(n.TEXTURE_2D, this.texture), n.texImage2D(n.TEXTURE_2D, 0, n.RGBA, this.width, this.height, 0, n.RGBA, n.UNSIGNED_BYTE, null)), this.stencilBuffer && (n.deleteRenderbuffer(this.stencilBuffer), this.stencilBuffer = null)
			}, r.prototype.activate = function() {
				var t = this.gl;
				t.bindFramebuffer(t.FRAMEBUFFER, this.getFrameBuffer())
			}, r.prototype.getFrameBuffer = function() {
				return this.useFrameBuffer ? this.frameBuffer : null
			}, r.prototype.initFrameBuffer = function() {
				if (!this.frameBuffer) {
					var t = this.gl;
					this.texture = this.createTexture(), this.frameBuffer = t.createFramebuffer(), t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texture, 0)
				}
			}, r.prototype.createTexture = function() {
				var n = i.WebGLRenderContext.getInstance(0, 0);
				return t.sys._createTexture(n, this.width, this.height, null)
			}, r.prototype.clear = function(t) {
				var i = this.gl;
				t && this.activate(), i.colorMask(!0, !0, !0, !0), i.clearColor(this.clearColor[0], this.clearColor[1], this.clearColor[2], this.clearColor[3]), i.clear(i.COLOR_BUFFER_BIT)
			}, r.prototype.enabledStencil = function() {
				if (this.frameBuffer && !this.stencilBuffer) {
					var t = this.gl;
					t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer), this.stencilBuffer = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencilBuffer), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencilBuffer)
				}
			}, r.prototype.dispose = function() {
				t.WebGLUtils.deleteWebGLTexture(this.texture)
			}, r
		}(t.HashObject), i.WebGLRenderTarget = n, __reflect(n.prototype, "egret.web.WebGLRenderTarget")
	}(egret || (egret = {})),
	function(t) {
		var i, n, r;
		i = t.web || (t.web = {}), n = {}, r = function() {
			function r(n, r) {
				if (this._defaultEmptyTexture = null, this.currentBlendMode = "", this.glID = null, this.projectionX = NaN, this.projectionY = NaN, this.contextLost = !1, this._supportedCompressedTextureInfo = [], this.$scissorState = !1, this.vertSize = 5, this.surface = t.sys.mainCanvas(n, r), !t.nativeRender) {
					this.initWebGL(), this.$bufferStack = [];
					var e = this.context;
					this.vertexBuffer = e.createBuffer(), this.indexBuffer = e.createBuffer(), e.bindBuffer(e.ARRAY_BUFFER, this.vertexBuffer), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.indexBuffer), this.drawCmdManager = new i.WebGLDrawCmdManager, this.vao = new i.WebGLVertexArrayObject, this.setGlobalCompositeOperation("source-over")
				}
			}
			return r.getInstance = function(t, i) {
				return this.instance || (this.instance = new r(t, i)), this.instance
			}, r.prototype.pushBuffer = function(t) {
				return t != this.currentBuffer && (this.$bufferStack.push(t), this.drawCmdManager.pushActivateBuffer(t), this.currentBuffer = t, !0)
			}, r.prototype.popBuffer = function() {
				if (!(this.$bufferStack.length <= 1)) {
					this.$bufferStack.pop();
					var t = this.$bufferStack[this.$bufferStack.length - 1];
					this.drawCmdManager.pushActivateBuffer(t), this.currentBuffer = t
				}
			}, r.prototype.activateBuffer = function(t, i, n) {
				t.rootRenderTarget.activate(), this.bindIndices || this.uploadIndicesArray(this.vao.getIndices()), t.restoreStencil(), t.restoreScissor(), this.onResize(i, n)
			}, r.prototype.uploadVerticesArray = function(t) {
				var i = this.context;
				i.bufferData(i.ARRAY_BUFFER, t, i.STREAM_DRAW)
			}, r.prototype.uploadIndicesArray = function(t) {
				var i = this.context;
				i.bufferData(i.ELEMENT_ARRAY_BUFFER, t, i.STATIC_DRAW), this.bindIndices = !0
			}, r.prototype.destroy = function() {
				this.surface.width = this.surface.height = 0
			}, r.prototype.onResize = function(t, i) {
				t = t || this.surface.width, i = i || this.surface.height, this.projectionX = t / 2, this.projectionY = -i / 2, this.context && this.context.viewport(0, 0, t, i)
			}, r.prototype.resize = function(i, n, r) {
				t.sys.resizeContext(this, i, n, r)
			}, r.prototype._buildSupportedCompressedTextureInfo = function(t) {
				for (var i = [], n = 0, r = t; n < r.length; n++) {
					var e = r[n];
					if (e) {
						var s = {
							extensionName: e.name,
							supportedFormats: []
						};
						for (var h in e) s.supportedFormats.push([h, e[h]]);
						i.push(s)
					}
				}
				return i
			}, r.prototype.initWebGL = function() {
				this.onResize(), this.surface.addEventListener("webglcontextlost", this.handleContextLost.bind(this), !1), this.surface.addEventListener("webglcontextrestored", this.handleContextRestored.bind(this), !1), this.getWebGLContext();
				var i = this.context;
				this.$maxTextureSize = i.getParameter(i.MAX_TEXTURE_SIZE), this.pvrtc = i.getExtension("WEBGL_compressed_texture_pvrtc") || i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"), this.pvrtc && (this.pvrtc.name = "WEBGL_compressed_texture_pvrtc"), this.etc1 = i.getExtension("WEBGL_compressed_texture_etc1") || i.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"), this.etc1 && (this.etc1.name = "WEBGL_compressed_texture_etc1"), this.etc2 = i.getExtension("WEBGL_compressed_texture_etc") || i.getExtension("WEBKIT_WEBGL_compressed_texture_etc"), this.etc2 && (this.etc2.name = "WEBGL_compressed_texture_etc"), this.s3tc = i.getExtension("WEBGL_compressed_texture_s3tc") || i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"), this.s3tc && (this.s3tc.name = "WEBGL_compressed_texture_s3tc"), this.astc = i.getExtension("WEBGL_compressed_texture_astc") || i.getExtension("WEBKIT_WEBGL_compressed_texture_astc"), this.astc && (this.astc.name = "WEBGL_compressed_texture_astc"), t.Capabilities.supportedCompressedTexture = t.Capabilities.supportedCompressedTexture || {}, t.Capabilities.supportedCompressedTexture.pvrtc = !!this.pvrtc, t.Capabilities.supportedCompressedTexture.etc1 = !!this.etc1, t.Capabilities.supportedCompressedTexture.etc2 = !!this.etc2, t.Capabilities.supportedCompressedTexture.s3tc = !!this.s3tc, t.Capabilities.supportedCompressedTexture.astc = !!this.astc, this._supportedCompressedTextureInfo = this._buildSupportedCompressedTextureInfo([this.etc1, this.pvrtc, this.etc2, this.s3tc, this.astc])
			}, r.prototype.handleContextLost = function() {
				this.contextLost = !0
			}, r.prototype.handleContextRestored = function() {
				this.initWebGL(), this.contextLost = !1
			}, r.prototype.getWebGLContext = function() {
				var i = t.sys.getContextWebGL(this.surface);
				this.setContext(i)
			}, r.prototype.setContext = function(t) {
				this.context = t, t.id = r.glContextId++, this.glID = t.id, t.disable(t.DEPTH_TEST), t.disable(t.CULL_FACE), t.enable(t.BLEND), t.colorMask(!0, !0, !0, !0), t.activeTexture(t.TEXTURE0)
			}, r.prototype.enableStencilTest = function() {
				var t = this.context;
				t.enable(t.STENCIL_TEST)
			}, r.prototype.disableStencilTest = function() {
				var t = this.context;
				t.disable(t.STENCIL_TEST)
			}, r.prototype.enableScissorTest = function(t) {
				var i = this.context;
				i.enable(i.SCISSOR_TEST), i.scissor(t.x, t.y, t.width, t.height)
			}, r.prototype.disableScissorTest = function() {
				var t = this.context;
				t.disable(t.SCISSOR_TEST)
			}, r.prototype.getPixels = function(t, i, n, r, e) {
				var s = this.context;
				s.readPixels(t, i, n, r, s.RGBA, s.UNSIGNED_BYTE, e)
			}, r.prototype.createTexture = function(i) {
				return "type" in i && "ArrayBuffer" === i.type ? t.sys._createTexture(this, i.width, i.height, new Uint8Array(i.data)) : t.sys.createTexture(this, i)
			}, r.prototype.checkCompressedTextureInternalFormat = function(t, i) {
				for (var n = 0, r = t.length; n < r; ++n)
					for (var e = t[n].supportedFormats, s = 0, h = e.length; s < h; ++s)
						if (e[s][1] === i) return !0;
				return !1
			}, r.prototype.$debugLogCompressedTextureNotSupported = function(i, r) {
				if (!n[r]) {
					n[r] = !0, t.log("internalFormat = " + r + ":0x" + r.toString(16) + ", the current hardware does not support the corresponding compression format.");
					for (var e = 0, s = i.length; e < s; ++e) {
						var h = i[e];
						if (h.supportedFormats.length > 0) {
							t.log("support = " + h.extensionName);
							for (var o = 0, a = h.supportedFormats.length; o < a; ++o) {
								var u = h.supportedFormats[o];
								t.log(u[0] + " : " + u[1] + " : 0x" + u[1].toString(16))
							}
						}
					}
				}
			}, r.prototype.createCompressedTexture = function(i, n, r, e, s) {
				if (!this.checkCompressedTextureInternalFormat(this._supportedCompressedTextureInfo, s)) return this.$debugLogCompressedTextureNotSupported(this._supportedCompressedTextureInfo, s), this.defaultEmptyTexture;
				var h = this.context,
					o = h.createTexture();
				if (o) return o[t.glContext] = h, o[t.is_compressed_texture] = !0, h.bindTexture(h.TEXTURE_2D, o), h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1), o[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL] = !0, h.compressedTexImage2D(h.TEXTURE_2D, e, s, n, r, 0, i), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, h.LINEAR), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, h.LINEAR), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.CLAMP_TO_EDGE), h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.CLAMP_TO_EDGE), h.bindTexture(h.TEXTURE_2D, null), o;
				this.contextLost = !0
			}, r.prototype.updateTexture = function(t, i) {
				var n = this.context;
				n.bindTexture(n.TEXTURE_2D, t), n.texImage2D(n.TEXTURE_2D, 0, n.RGBA, n.RGBA, n.UNSIGNED_BYTE, i)
			}, Object.defineProperty(r.prototype, "defaultEmptyTexture", {
				get: function() {
					if (!this._defaultEmptyTexture) {
						var i = t.sys.createCanvas(16, 16),
							n = t.sys.getContext2d(i);
						n.fillStyle = "white", n.fillRect(0, 0, 16, 16), this._defaultEmptyTexture = this.createTexture(i), this._defaultEmptyTexture[t.engine_default_empty_texture] = !0
					}
					return this._defaultEmptyTexture
				},
				enumerable: !0,
				configurable: !0
			}), r.prototype.getWebGLTexture = function(i) {
				if (!i.webGLTexture && i.valid()) {
					if ("image" != i.format || i.hasCompressed2d()) {
						if (i.hasCompressed2d()) {
							var n = i.getCompressed2dTextureData();
							i.webGLTexture = this.createCompressedTexture(n.byteArray, n.width, n.height, n.level, n.glInternalFormat);
							var r = i.etcAlphaMask;
							if (r) {
								var e = this.getWebGLTexture(r);
								e && (i.webGLTexture[t.etc_alpha_mask] = e)
							}
							i.webGLTexture[t.vertical_alpha_mask] = i.verticalAlphaMask, i.webGLTexture[t.horizontal_alpha_mask] = i.horizontalAlphaMask
						}
					} else i.webGLTexture = this.createTexture(i.source);
					i.$deleteSource && i.webGLTexture && (i.source && (i.source.src = "", i.source = null), i.clearCompressedTextureData()), i.webGLTexture && (i.webGLTexture.smoothing = !0)
				}
				return i.webGLTexture
			}, r.prototype.clearRect = function(t, i, n, r) {
				if (0 != t || 0 != i || n != this.surface.width || r != this.surface.height) {
					var e = this.currentBuffer;
					if (e.$hasScissor) this.setGlobalCompositeOperation("destination-out"), this.drawRect(t, i, n, r), this.setGlobalCompositeOperation("source-over");
					else {
						var s = e.globalMatrix;
						0 == s.b && 0 == s.c ? (t = t * s.a + s.tx, i = i * s.d + s.ty, n *= s.a, r *= s.d, this.enableScissor(t, -i - r + e.height, n, r), this.clear(), this.disableScissor()) : (this.setGlobalCompositeOperation("destination-out"), this.drawRect(t, i, n, r), this.setGlobalCompositeOperation("source-over"))
					}
				} else this.clear()
			}, r.prototype.setGlobalCompositeOperation = function(t) {
				this.currentBlendMode != t && (this.drawCmdManager.pushSetBlend(t), this.currentBlendMode = t)
			}, r.prototype.drawImage = function(t, i, n, r, e, s, h, o, a, u, c, f, l) {
				var v = this.currentBuffer;
				if (!this.contextLost && t && v) {
					var d, g, w;
					if (t.texture || t.source && t.source.texture) d = t.texture || t.source.texture, v.saveTransform(), g = v.$offsetX, w = v.$offsetY, v.useOffset(), v.transform(1, 0, 0, -1, 0, a + 2 * h);
					else {
						if (!t.source && !t.webGLTexture) return;
						d = this.getWebGLTexture(t)
					}
					d && (this.drawTexture(d, i, n, r, e, s, h, o, a, u, c, void 0, void 0, void 0, void 0, f, l), t.source && t.source.texture && (v.$offsetX = g, v.$offsetY = w, v.restoreTransform()))
				}
			}, r.prototype.drawMesh = function(t, i, n, r, e, s, h, o, a, u, c, f, l, v, d, g, w) {
				var m = this.currentBuffer;
				if (!this.contextLost && t && m) {
					var p, b, x;
					if (t.texture || t.source && t.source.texture) p = t.texture || t.source.texture, m.saveTransform(), b = m.$offsetX, x = m.$offsetY, m.useOffset(), m.transform(1, 0, 0, -1, 0, a + 2 * h);
					else {
						if (!t.source && !t.webGLTexture) return;
						p = this.getWebGLTexture(t)
					}
					p && (this.drawTexture(p, i, n, r, e, s, h, o, a, u, c, f, l, v, d, g, w), (t.texture || t.source && t.source.texture) && (m.$offsetX = b, m.$offsetY = x, m.restoreTransform()))
				}
			}, r.prototype.drawTexture = function(t, i, n, r, e, s, h, o, a, u, c, f, l, v, d, g, w) {
				var m = this.currentBuffer;
				if (!this.contextLost && t && m) {
					l && v ? this.vao.reachMaxSize(l.length / 2, v.length) && this.$drawWebGL() : this.vao.reachMaxSize() && this.$drawWebGL(), null != w && t.smoothing != w && this.drawCmdManager.pushChangeSmoothing(t, w), f && this.vao.changeToMeshIndices();
					var p = v ? v.length / 3 : 2;
					this.drawCmdManager.pushDrawTexture(t, p, this.$filter, u, c), m.currentTexture = t, this.vao.cacheArrays(m, i, n, r, e, s, h, o, a, u, c, f, l, v, g)
				}
			}, r.prototype.drawRect = function(t, i, n, r) {
				var e = this.currentBuffer;
				!this.contextLost && e && (this.vao.reachMaxSize() && this.$drawWebGL(), this.drawCmdManager.pushDrawRect(), e.currentTexture = null, this.vao.cacheArrays(e, 0, 0, n, r, t, i, n, r, n, r))
			}, r.prototype.pushMask = function(t, i, n, r) {
				var e = this.currentBuffer;
				!this.contextLost && e && (e.$stencilList.push({
					x: t,
					y: i,
					width: n,
					height: r
				}), this.vao.reachMaxSize() && this.$drawWebGL(), this.drawCmdManager.pushPushMask(), e.currentTexture = null, this.vao.cacheArrays(e, 0, 0, n, r, t, i, n, r, n, r))
			}, r.prototype.popMask = function() {
				var t = this.currentBuffer;
				if (!this.contextLost && t) {
					var i = t.$stencilList.pop();
					this.vao.reachMaxSize() && this.$drawWebGL(), this.drawCmdManager.pushPopMask(), t.currentTexture = null, this.vao.cacheArrays(t, 0, 0, i.width, i.height, i.x, i.y, i.width, i.height, i.width, i.height)
				}
			}, r.prototype.clear = function() {
				this.drawCmdManager.pushClearColor()
			}, r.prototype.enableScissor = function(t, i, n, r) {
				var e = this.currentBuffer;
				this.drawCmdManager.pushEnableScissor(t, i, n, r), e.$hasScissor = !0
			}, r.prototype.disableScissor = function() {
				var t = this.currentBuffer;
				this.drawCmdManager.pushDisableScissor(), t.$hasScissor = !1
			}, r.prototype.$drawWebGL = function() {
				if (0 != this.drawCmdManager.drawDataLen && !this.contextLost) {
					this.uploadVerticesArray(this.vao.getVertices()), this.vao.isMesh() && this.uploadIndicesArray(this.vao.getMeshIndices());
					for (var t = this.drawCmdManager.drawDataLen, i = 0, n = 0; n < t; n++) {
						var r = this.drawCmdManager.drawData[n];
						i = this.drawData(r, i), 7 == r.type && (this.activatedBuffer = r.buffer), 0 != r.type && 1 != r.type && 2 != r.type && 3 != r.type || this.activatedBuffer && this.activatedBuffer.$computeDrawCall && this.activatedBuffer.$drawCalls++
					}
					this.vao.isMesh() && this.uploadIndicesArray(this.vao.getIndices()), this.drawCmdManager.clear(), this.vao.clear()
				}
			}, r.prototype.drawData = function(n, r) {
				if (n) {
					var e, s = this.context,
						h = n.filter;
					switch (n.type) {
						case 0:
							h ? "custom" === h.type ? e = i.EgretWebGLProgram.getProgram(s, h.$vertexSrc, h.$fragmentSrc, h.$shaderKey) : "colorTransform" === h.type ? n.texture[t.etc_alpha_mask] ? (s.activeTexture(s.TEXTURE1), s.bindTexture(s.TEXTURE_2D, n.texture[t.etc_alpha_mask]), e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.colorTransform_frag_etc_alphamask_frag, "colorTransform_frag_etc_alphamask_frag")) : e = n.texture[t.vertical_alpha_mask] ? i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.colorTransform_texture_vertical_alphamask_frag, "colorTransform_texture_vertical_alphamask_frag") : n.texture[t.horizontal_alpha_mask] ? i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.colorTransform_texture_horizontal_alphamask_frag, "colorTransform_texture_horizontal_alphamask_frag") : i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.colorTransform_frag, "colorTransform") : "blurX" === h.type || "blurY" === h.type ? e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.blur_frag, "blur") : "glow" === h.type && (e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.glow_frag, "glow")) : n.texture[t.etc_alpha_mask] ? (e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.texture_etc_alphamask_frag, t.etc_alpha_mask), s.activeTexture(s.TEXTURE1), s.bindTexture(s.TEXTURE_2D, n.texture[t.etc_alpha_mask])) : e = n.texture[t.vertical_alpha_mask] ? i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.texture_vertical_alphamask_frag, t.vertical_alpha_mask) : n.texture[t.horizontal_alpha_mask] ? i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.texture_horizontal_alphamask_frag, t.horizontal_alpha_mask) : i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.texture_frag, "texture"), this.activeProgram(s, e), this.syncUniforms(e, h, n.textureWidth, n.textureHeight), r += this.drawTextureElements(n, r);
							break;
						case 1:
							e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.primitive_frag, "primitive"), this.activeProgram(s, e), this.syncUniforms(e, h, n.textureWidth, n.textureHeight), r += this.drawRectElements(n, r);
							break;
						case 2:
							e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.primitive_frag, "primitive"), this.activeProgram(s, e), this.syncUniforms(e, h, n.textureWidth, n.textureHeight), r += this.drawPushMaskElements(n, r);
							break;
						case 3:
							e = i.EgretWebGLProgram.getProgram(s, i.EgretShaderLib.default_vert, i.EgretShaderLib.primitive_frag, "primitive"), this.activeProgram(s, e), this.syncUniforms(e, h, n.textureWidth, n.textureHeight), r += this.drawPopMaskElements(n, r);
							break;
						case 4:
							this.setBlendMode(n.value);
							break;
						case 5:
							n.buffer.rootRenderTarget.resize(n.width, n.height), this.onResize(n.width, n.height);
							break;
						case 6:
							if (this.activatedBuffer) {
								var o = this.activatedBuffer.rootRenderTarget;
								0 == o.width && 0 == o.height || o.clear(!0)
							}
							break;
						case 7:
							this.activateBuffer(n.buffer, n.width, n.height);
							break;
						case 8:
							var a = this.activatedBuffer;
							a && (a.rootRenderTarget && a.rootRenderTarget.enabledStencil(), a.enableScissor(n.x, n.y, n.width, n.height));
							break;
						case 9:
							(a = this.activatedBuffer) && a.disableScissor();
							break;
						case 10:
							s.bindTexture(s.TEXTURE_2D, n.texture), n.smoothing ? (s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.LINEAR), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.LINEAR)) : (s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MAG_FILTER, s.NEAREST), s.texParameteri(s.TEXTURE_2D, s.TEXTURE_MIN_FILTER, s.NEAREST))
					}
					return r
				}
			}, r.prototype.activeProgram = function(t, i) {
				if (i != this.currentProgram) {
					t.useProgram(i.id);
					var n = i.attributes;
					for (var r in n) "aVertexPosition" === r ? (t.vertexAttribPointer(n.aVertexPosition.location, 2, t.FLOAT, !1, 20, 0), t.enableVertexAttribArray(n.aVertexPosition.location)) : "aTextureCoord" === r ? (t.vertexAttribPointer(n.aTextureCoord.location, 2, t.FLOAT, !1, 20, 8), t.enableVertexAttribArray(n.aTextureCoord.location)) : "aColor" === r && (t.vertexAttribPointer(n.aColor.location, 4, t.UNSIGNED_BYTE, !0, 20, 16), t.enableVertexAttribArray(n.aColor.location));
					this.currentProgram = i
				}
			}, r.prototype.syncUniforms = function(t, i, n, r) {
				var e = t.uniforms;
				for (var s in i && i.type, e)
					if ("projectionVector" === s) e[s].setValue({
						x: this.projectionX,
						y: this.projectionY
					});
					else if ("uTextureSize" === s) e[s].setValue({
					x: n,
					y: r
				});
				else if ("uSampler" === s) e[s].setValue(0);
				else if ("uSamplerAlphaMask" === s) e[s].setValue(1);
				else {
					var h = i.$uniforms[s];
					void 0 !== h && e[s].setValue(h)
				}
			}, r.prototype.drawTextureElements = function(i, n) {
				return t.sys.drawTextureElements(this, i, n)
			}, r.prototype.drawRectElements = function(t, i) {
				var n = this.context,
					r = 3 * t.count;
				return n.drawElements(n.TRIANGLES, r, n.UNSIGNED_SHORT, 2 * i), r
			}, r.prototype.drawPushMaskElements = function(t, i) {
				var n = this.context,
					r = 3 * t.count,
					e = this.activatedBuffer;
				if (e) {
					e.rootRenderTarget && e.rootRenderTarget.enabledStencil(), 0 == e.stencilHandleCount && (e.enableStencil(), n.clear(n.STENCIL_BUFFER_BIT));
					var s = e.stencilHandleCount;
					e.stencilHandleCount++, n.colorMask(!1, !1, !1, !1), n.stencilFunc(n.EQUAL, s, 255), n.stencilOp(n.KEEP, n.KEEP, n.INCR), n.drawElements(n.TRIANGLES, r, n.UNSIGNED_SHORT, 2 * i), n.stencilFunc(n.EQUAL, s + 1, 255), n.colorMask(!0, !0, !0, !0), n.stencilOp(n.KEEP, n.KEEP, n.KEEP)
				}
				return r
			}, r.prototype.drawPopMaskElements = function(t, i) {
				var n = this.context,
					r = 3 * t.count,
					e = this.activatedBuffer;
				if (e)
					if (e.stencilHandleCount--, 0 == e.stencilHandleCount) e.disableStencil();
					else {
						var s = e.stencilHandleCount;
						n.colorMask(!1, !1, !1, !1), n.stencilFunc(n.EQUAL, s + 1, 255), n.stencilOp(n.KEEP, n.KEEP, n.DECR), n.drawElements(n.TRIANGLES, r, n.UNSIGNED_SHORT, 2 * i), n.stencilFunc(n.EQUAL, s, 255), n.colorMask(!0, !0, !0, !0), n.stencilOp(n.KEEP, n.KEEP, n.KEEP)
					}
				return r
			}, r.prototype.setBlendMode = function(t) {
				var i = this.context,
					n = r.blendModesForGL[t];
				n && i.blendFunc(n[0], n[1])
			}, r.prototype.drawTargetWidthFilters = function(t, n) {
				var r, e = n,
					s = t.length;
				if (s > 1)
					for (var h = 0; h < s - 1; h++) {
						var o = t[h],
							a = n.rootRenderTarget.width,
							u = n.rootRenderTarget.height;
						(r = i.WebGLRenderBuffer.create(a, u)).setTransform(1, 0, 0, 1, 0, 0), r.globalAlpha = 1, this.drawToRenderTarget(o, n, r), n != e && i.WebGLRenderBuffer.release(n), n = r
					}
				var c = t[s - 1];
				this.drawToRenderTarget(c, n, this.currentBuffer), n != e && i.WebGLRenderBuffer.release(n)
			}, r.prototype.drawToRenderTarget = function(t, n, r) {
				if (!this.contextLost) {
					this.vao.reachMaxSize() && this.$drawWebGL();
					var e, s = this.pushBuffer(r),
						h = n,
						o = n.rootRenderTarget.width,
						a = n.rootRenderTarget.height;
					if ("blur" == t.type) {
						var u = t.blurXFilter,
							c = t.blurYFilter;
						0 != u.blurX && 0 != c.blurY ? ((e = i.WebGLRenderBuffer.create(o, a)).setTransform(1, 0, 0, 1, 0, 0), e.globalAlpha = 1, this.drawToRenderTarget(t.blurXFilter, n, e), n != h && i.WebGLRenderBuffer.release(n), n = e, t = c) : t = 0 === u.blurX ? c : u
					}
					r.saveTransform(), r.transform(1, 0, 0, -1, 0, a), r.currentTexture = n.rootRenderTarget.texture, this.vao.cacheArrays(r, 0, 0, o, a, 0, 0, o, a, o, a), r.restoreTransform(), this.drawCmdManager.pushDrawTexture(n.rootRenderTarget.texture, 2, t, o, a), n != h && i.WebGLRenderBuffer.release(n), s && this.popBuffer()
				}
			}, r.initBlendMode = function() {
				r.blendModesForGL = {}, r.blendModesForGL["source-over"] = [1, 771], r.blendModesForGL.lighter = [1, 1], r.blendModesForGL["lighter-in"] = [770, 771], r.blendModesForGL["destination-out"] = [0, 771], r.blendModesForGL["destination-in"] = [0, 770]
			}, r.glContextId = 0, r.blendModesForGL = null, r
		}(), i.WebGLRenderContext = r, __reflect(r.prototype, "egret.web.WebGLRenderContext", ["egret.sys.RenderContext"]), r.initBlendMode()
	}(egret || (egret = {})),
	function(t) {
		! function(i) {
			var n = function(n) {
				function e(r, e, s) {
					var h = n.call(this) || this;
					if (h.currentTexture = null, h.globalAlpha = 1, h.globalTintColor = 16777215, h.stencilState = !1, h.$stencilList = [], h.stencilHandleCount = 0, h.$scissorState = !1, h.scissorRect = new t.Rectangle, h.$hasScissor = !1, h.$drawCalls = 0, h.$computeDrawCall = !1, h.globalMatrix = new t.Matrix, h.savedGlobalMatrix = new t.Matrix, h.$offsetX = 0, h.$offsetY = 0, h.context = i.WebGLRenderContext.getInstance(r, e), t.nativeRender) return h.surface = s ? h.context.surface : new egret_native.NativeRenderSurface(h, r, e, s), h.rootRenderTarget = null, h;
					if (h.rootRenderTarget = new i.WebGLRenderTarget(h.context.context, 3, 3), r && e && h.resize(r, e), h.root = s, h.root) h.context.pushBuffer(h), h.surface = h.context.surface, h.$computeDrawCall = !0;
					else {
						var o = h.context.activatedBuffer;
						o && o.rootRenderTarget.activate(), h.rootRenderTarget.initFrameBuffer(), h.surface = h.rootRenderTarget
					}
					return h
				}
				return __extends(e, n), e.prototype.enableStencil = function() {
					this.stencilState || (this.context.enableStencilTest(), this.stencilState = !0)
				}, e.prototype.disableStencil = function() {
					this.stencilState && (this.context.disableStencilTest(), this.stencilState = !1)
				}, e.prototype.restoreStencil = function() {
					this.stencilState ? this.context.enableStencilTest() : this.context.disableStencilTest()
				}, e.prototype.enableScissor = function(t, i, n, r) {
					this.$scissorState || (this.$scissorState = !0, this.scissorRect.setTo(t, i, n, r), this.context.enableScissorTest(this.scissorRect))
				}, e.prototype.disableScissor = function() {
					this.$scissorState && (this.$scissorState = !1, this.scissorRect.setEmpty(), this.context.disableScissorTest())
				}, e.prototype.restoreScissor = function() {
					this.$scissorState ? this.context.enableScissorTest(this.scissorRect) : this.context.disableScissorTest()
				}, Object.defineProperty(e.prototype, "width", {
					get: function() {
						return t.nativeRender ? this.surface.width : this.rootRenderTarget.width
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(e.prototype, "height", {
					get: function() {
						return t.nativeRender ? this.surface.height : this.rootRenderTarget.height
					},
					enumerable: !0,
					configurable: !0
				}), e.prototype.resize = function(i, n, r) {
					if (i = i || 1, n = n || 1, t.nativeRender) this.surface.resize(i, n);
					else {
						var e = this.context.pushBuffer(this);
						i == this.rootRenderTarget.width && n == this.rootRenderTarget.height || (this.context.drawCmdManager.pushResize(this, i, n), this.rootRenderTarget.width = i, this.rootRenderTarget.height = n), this.root && this.context.resize(i, n, r), this.context.clear(), e && this.context.popBuffer()
					}
				}, e.prototype.getPixels = function(i, n, r, e) {
					void 0 === r && (r = 1), void 0 === e && (e = 1);
					var s = new Uint8Array(4 * r * e);
					if (t.nativeRender) egret_native.activateBuffer(this), egret_native.nrGetPixels(i, n, r, e, s), egret_native.activateBuffer(null);
					else {
						var h = this.rootRenderTarget.useFrameBuffer;
						this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate(), this.context.getPixels(i, n, r, e, s), this.rootRenderTarget.useFrameBuffer = h, this.rootRenderTarget.activate()
					}
					for (var o = new Uint8Array(4 * r * e), a = 0; a < e; a++)
						for (var u = 0; u < r; u++) {
							var c = 4 * (r * (e - a - 1) + u),
								f = 4 * (r * a + u),
								l = s[f + 3];
							o[c] = Math.round(s[f] / l * 255), o[c + 1] = Math.round(s[f + 1] / l * 255), o[c + 2] = Math.round(s[f + 2] / l * 255), o[c + 3] = s[f + 3]
						}
					return o
				}, e.prototype.toDataURL = function(t, i) {
					return this.context.surface.toDataURL(t, i)
				}, e.prototype.destroy = function() {
					this.context.destroy()
				}, e.prototype.onRenderFinish = function() {
					this.$drawCalls = 0
				}, e.prototype.drawFrameBufferToSurface = function(t, i, n, r, e, s, h, o, a) {
					void 0 === a && (a = !1), this.rootRenderTarget.useFrameBuffer = !1, this.rootRenderTarget.activate(), this.context.disableStencilTest(), this.context.disableScissorTest(), this.setTransform(1, 0, 0, 1, 0, 0), this.globalAlpha = 1, this.context.setGlobalCompositeOperation("source-over"), a && this.context.clear(), this.context.drawImage(this.rootRenderTarget, t, i, n, r, e, s, h, o, n, r, !1), this.context.$drawWebGL(), this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate(), this.restoreStencil(), this.restoreScissor()
				}, e.prototype.drawSurfaceToFrameBuffer = function(t, i, n, r, e, s, h, o, a) {
					void 0 === a && (a = !1), this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate(), this.context.disableStencilTest(), this.context.disableScissorTest(), this.setTransform(1, 0, 0, 1, 0, 0), this.globalAlpha = 1, this.context.setGlobalCompositeOperation("source-over"), a && this.context.clear(), this.context.drawImage(this.context.surface, t, i, n, r, e, s, h, o, n, r, !1), this.context.$drawWebGL(), this.rootRenderTarget.useFrameBuffer = !1, this.rootRenderTarget.activate(), this.restoreStencil(), this.restoreScissor()
				}, e.prototype.clear = function() {
					var t = this.context.pushBuffer(this);
					this.context.clear(), t && this.context.popBuffer()
				}, e.prototype.setTransform = function(t, i, n, r, e, s) {
					var h = this.globalMatrix;
					h.a = t, h.b = i, h.c = n, h.d = r, h.tx = e, h.ty = s
				}, e.prototype.transform = function(t, i, n, r, e, s) {
					var h = this.globalMatrix,
						o = h.a,
						a = h.b,
						u = h.c,
						c = h.d;
					1 == t && 0 == i && 0 == n && 1 == r || (h.a = t * o + i * u, h.b = t * a + i * c, h.c = n * o + r * u, h.d = n * a + r * c), h.tx = e * o + s * u + h.tx, h.ty = e * a + s * c + h.ty
				}, e.prototype.useOffset = function() {
					0 == this.$offsetX && 0 == this.$offsetY || (this.globalMatrix.append(1, 0, 0, 1, this.$offsetX, this.$offsetY), this.$offsetX = this.$offsetY = 0)
				}, e.prototype.saveTransform = function() {
					var t = this.globalMatrix,
						i = this.savedGlobalMatrix;
					i.a = t.a, i.b = t.b, i.c = t.c, i.d = t.d, i.tx = t.tx, i.ty = t.ty
				}, e.prototype.restoreTransform = function() {
					var t = this.globalMatrix,
						i = this.savedGlobalMatrix;
					t.a = i.a, t.b = i.b, t.c = i.c, t.d = i.d, t.tx = i.tx, t.ty = i.ty
				}, e.create = function(t, i) {
					var n = r.pop();
					if (n) {
						n.resize(t, i);
						var s = n.globalMatrix;
						s.a = 1, s.b = 0, s.c = 0, s.d = 1, s.tx = 0, s.ty = 0, n.globalAlpha = 1, n.$offsetX = 0, n.$offsetY = 0
					} else(n = new e(t, i)).$computeDrawCall = !1;
					return n
				}, e.release = function(t) {
					r.push(t)
				}, e.autoClear = !0, e
			}(t.HashObject);
			i.WebGLRenderBuffer = n, __reflect(n.prototype, "egret.web.WebGLRenderBuffer", ["egret.sys.RenderBuffer"]);
			var r = []
		}(t.web || (t.web = {}))
	}(egret || (egret = {})),
	function(t) {
		var i, n, r;
		i = t.web || (t.web = {}), n = ["source-over", "lighter", "destination-out"], r = function() {
			function r() {
				this.wxiOS10 = !1, this.nestLevel = 0
			}
			return r.prototype.render = function(i, n, r, e) {
				this.nestLevel++;
				var s = n,
					h = s.context,
					o = h.pushBuffer(s);
				s.transform(r.a, r.b, r.c, r.d, 0, 0), this.drawDisplayObject(i, s, r.tx, r.ty, !0), h.$drawWebGL(), h.setGlobalCompositeOperation("source-over");
				var a = s.$drawCalls;
				s.onRenderFinish(), o && h.popBuffer();
				var u = t.Matrix.create();
				return r.$invertInto(u), s.transform(u.a, u.b, u.c, u.d, 0, 0), t.Matrix.release(u), this.nestLevel--, a
			}, r.prototype.drawDisplayObject = function(i, r, e, s, h) {
				var o, a, u = 0;
				0 !== i.$blendMode && ((a = n[i.$blendMode]) || (a = "source-over"));
				var c = i.$displayList;
				if (c && !h ? ((i.$cacheDirty || i.$renderDirty || c.$canvasScaleX != t.sys.DisplayList.$canvasScaleX || c.$canvasScaleY != t.sys.DisplayList.$canvasScaleY) && (u += c.drawToSurface()), o = c.$renderNode) : o = i.$renderDirty ? i.$getRenderNode() : i.$renderNode, i.$cacheDirty = !1, o) {
					switch (u++, r.$offsetX = e, r.$offsetY = s, o.type) {
						case 1:
							this.renderBitmap(o, r);
							break;
						case 2:
							this.renderText(o, r);
							break;
						case 3:
							this.renderGraphics(o, r);
							break;
						case 4:
							this.renderGroup(o, r);
							break;
						case 5:
							this.renderMesh(o, r);
							break;
						case 6:
							this.renderNormalBitmap(o, r, a)
					}
					r.$offsetX = 0, r.$offsetY = 0
				}
				if (c && !h) return u;
				var f = i.$children;
				if (f) {
					i.sortableChildren && i.$sortDirty && i.sortChildren();
					for (var l = f.length, v = 0; v < l; v++) {
						var d = f[v],
							g = void 0,
							w = void 0,
							m = void 0,
							p = void 0;
						1 != d.$alpha && (m = r.globalAlpha, r.globalAlpha *= d.$alpha), 16777215 !== d.tint && (p = r.globalTintColor, r.globalTintColor = d.$tintRGB);
						var b = void 0;
						if (d.$useTranslate) {
							var x = d.$getMatrix();
							g = e + d.$x, w = s + d.$y;
							var _ = r.globalMatrix;
							(b = t.Matrix.create()).a = _.a, b.b = _.b, b.c = _.c, b.d = _.d, b.tx = _.tx, b.ty = _.ty, r.transform(x.a, x.b, x.c, x.d, g, w), g = -d.$anchorOffsetX, w = -d.$anchorOffsetY
						} else g = e + d.$x - d.$anchorOffsetX, w = s + d.$y - d.$anchorOffsetY;
						switch (d.$renderMode) {
							case 1:
								break;
							case 2:
								u += this.drawWithFilter(d, r, g, w);
								break;
							case 3:
								u += this.drawWithClip(d, r, g, w);
								break;
							case 4:
								u += this.drawWithScrollRect(d, r, g, w);
								break;
							default:
								u += this.drawDisplayObject(d, r, g, w)
						}
						m && (r.globalAlpha = m), p && (r.globalTintColor = p), b && ((x = r.globalMatrix).a = b.a, x.b = b.b, x.c = b.c, x.d = b.d, x.tx = b.tx, x.ty = b.ty, t.Matrix.release(b))
					}
				}
				return u
			}, r.prototype.drawWithFilter = function(r, e, s, h) {
				var o = 0;
				if (r.$children && 0 == r.$children.length && (!r.$renderNode || 0 == r.$renderNode.$getRenderCount())) return o;
				var a, u = r.$filters;
				0 !== r.$blendMode && ((a = n[r.$blendMode]) || (a = "source-over"));
				var c = r.$getOriginalBounds(),
					f = c.x,
					l = c.y,
					v = c.width,
					d = c.height;
				if (v <= 0 || d <= 0) return o;
				if (!r.mask && 1 == u.length && ("colorTransform" == u[0].type || "custom" === u[0].type && 0 === u[0].padding)) {
					var g = this.getRenderCount(r);
					if (!r.$children || 1 == g) return e.context.$filter = u[0], r.$mask ? o += this.drawWithClip(r, e, s, h) : r.$scrollRect || r.$maskRect ? o += this.drawWithScrollRect(r, e, s, h) : o += this.drawDisplayObject(r, e, s, h), e.context.$filter = null, o
				}
				var w = i.WebGLRenderBuffer.create(v, d),
					m = w.context.pushBuffer(w);
				if (r.$mask ? o += this.drawWithClip(r, w, -f, -l) : r.$scrollRect || r.$maskRect ? o += this.drawWithScrollRect(r, w, -f, -l) : o += this.drawDisplayObject(r, w, -f, -l), m && w.context.popBuffer(), o > 0) {
					e.context.setGlobalCompositeOperation(a || "source-over"), o++, e.$offsetX = s + f, e.$offsetY = h + l;
					var p = t.Matrix.create(),
						b = e.globalMatrix;
					p.a = b.a, p.b = b.b, p.c = b.c, p.d = b.d, p.tx = b.tx, p.ty = b.ty, e.useOffset(), e.context.drawTargetWidthFilters(u, w), b.a = p.a, b.b = p.b, b.c = p.c, b.d = p.d, b.tx = p.tx, b.ty = p.ty, t.Matrix.release(p)
				}
				return i.WebGLRenderBuffer.release(w), o
			}, r.prototype.getRenderCount = function(t) {
				var i = 0,
					n = t.$getRenderNode();
				if (n && (i += n.$getRenderCount()), t.$children)
					for (var r = 0, e = t.$children; r < e.length; r++) {
						var s = e[r],
							h = s.$filters;
						if (h && h.length > 0) return 2;
						if (s.$children) i += this.getRenderCount(s);
						else {
							var o = s.$getRenderNode();
							o && (i += o.$getRenderCount())
						}
					}
				return i
			}, r.prototype.drawWithClip = function(r, e, s, h) {
				var o, a = 0;
				0 !== r.$blendMode && ((o = n[r.$blendMode]) || (o = "source-over"));
				var u = r.$scrollRect ? r.$scrollRect : r.$maskRect,
					c = r.$mask;
				if (c) {
					var f = c.$getMatrix();
					if (0 == f.a && 0 == f.b || 0 == f.c && 0 == f.d) return a
				}
				if (c || r.$children && 0 != r.$children.length) {
					var l = r.$getOriginalBounds(),
						v = l.x,
						d = l.y,
						g = l.width,
						w = l.height;
					if (g <= 0 || w <= 0) return a;
					var m = i.WebGLRenderBuffer.create(g, w),
						p = m.context.pushBuffer(m);
					if (a += this.drawDisplayObject(r, m, -v, -d), c) {
						var b = i.WebGLRenderBuffer.create(g, w),
							x = b.context.pushBuffer(b),
							_ = t.Matrix.create();
						_.copyFrom(c.$getConcatenatedMatrix()), c.$getConcatenatedMatrixAt(r, _), _.translate(-v, -d), b.setTransform(_.a, _.b, _.c, _.d, _.tx, _.ty), t.Matrix.release(_), a += this.drawDisplayObject(c, b, 0, 0), x && b.context.popBuffer(), m.context.setGlobalCompositeOperation("destination-in"), m.setTransform(1, 0, 0, -1, 0, b.height);
						var C = b.rootRenderTarget.width,
							y = b.rootRenderTarget.height;
						m.context.drawTexture(b.rootRenderTarget.texture, 0, 0, C, y, 0, 0, C, y, C, y), m.setTransform(1, 0, 0, 1, 0, 0), m.context.setGlobalCompositeOperation("source-over"), b.setTransform(1, 0, 0, 1, 0, 0), i.WebGLRenderBuffer.release(b)
					}
					if (p && m.context.popBuffer(), a > 0) {
						a++, e.context.setGlobalCompositeOperation(o || "source-over"), u && e.context.pushMask(u.x + s, u.y + h, u.width, u.height);
						var T = t.Matrix.create(),
							k = e.globalMatrix;
						T.a = k.a, T.b = k.b, T.c = k.c, T.d = k.d, T.tx = k.tx, T.ty = k.ty, k.append(1, 0, 0, -1, s + v, h + d + m.height);
						var S = m.rootRenderTarget.width,
							A = m.rootRenderTarget.height;
						e.context.drawTexture(m.rootRenderTarget.texture, 0, 0, S, A, 0, 0, S, A, S, A), u && m.context.popMask();
						var M = e.globalMatrix;
						M.a = T.a, M.b = T.b, M.c = T.c, M.d = T.d, M.tx = T.tx, M.ty = T.ty, t.Matrix.release(T)
					}
					return i.WebGLRenderBuffer.release(m), a
				}
				return u && e.context.pushMask(u.x + s, u.y + h, u.width, u.height), a += this.drawDisplayObject(r, e, s, h), u && e.context.popMask(), a
			}, r.prototype.drawWithScrollRect = function(t, i, n, r) {
				var e = 0,
					s = t.$scrollRect ? t.$scrollRect : t.$maskRect;
				if (s.isEmpty()) return e;
				t.$scrollRect && (n -= s.x, r -= s.y);
				var h = i.globalMatrix,
					o = i.context,
					a = !1;
				if (i.$hasScissor || 0 != h.b || 0 != h.c) i.context.pushMask(s.x + n, s.y + r, s.width, s.height);
				else {
					var u = h.a,
						c = h.d,
						f = h.tx,
						l = h.ty,
						v = s.x + n,
						d = s.y + r,
						g = v + s.width,
						w = d + s.height,
						m = void 0,
						p = void 0,
						b = void 0,
						x = void 0;
					if (1 == u && 1 == c) m = v + f, p = d + l, b = g + f, x = w + l;
					else {
						var _ = u * v + f,
							C = c * d + l,
							y = u * g + f,
							T = c * d + l,
							k = u * g + f,
							S = c * w + l,
							A = u * v + f,
							M = c * w + l,
							E = 0;
						_ > y && (E = _, _ = y, y = E), k > A && (E = k, k = A, A = E), m = _ < k ? _ : k, b = y > A ? y : A, C > T && (E = C, C = T, T = E), S > M && (E = S, S = M, M = E), p = C < S ? C : S, x = T > M ? T : M
					}
					o.enableScissor(m, -x + i.height, b - m, x - p), a = !0
				}
				return e += this.drawDisplayObject(t, i, n, r), a ? o.disableScissor() : o.popMask(), e
			}, r.prototype.drawNodeToBuffer = function(t, i, n, r) {
				var e = i,
					s = e.context.pushBuffer(e);
				e.setTransform(n.a, n.b, n.c, n.d, n.tx, n.ty), this.renderNode(t, i, 0, 0, r), e.context.$drawWebGL(), e.onRenderFinish(), s && e.context.popBuffer()
			}, r.prototype.drawDisplayToBuffer = function(t, i, n) {
				var r, e = i.context.pushBuffer(i);
				n && i.setTransform(n.a, n.b, n.c, n.d, n.tx, n.ty);
				var s = 0;
				if (r = t.$renderDirty ? t.$getRenderNode() : t.$renderNode) switch (s++, r.type) {
					case 1:
						this.renderBitmap(r, i);
						break;
					case 2:
						this.renderText(r, i);
						break;
					case 3:
						this.renderGraphics(r, i);
						break;
					case 4:
						this.renderGroup(r, i);
						break;
					case 5:
						this.renderMesh(r, i);
						break;
					case 6:
						this.renderNormalBitmap(r, i)
				}
				var h = t.$children;
				if (h)
					for (var o = h.length, a = 0; a < o; a++) {
						var u = h[a];
						switch (u.$renderMode) {
							case 1:
								break;
							case 2:
								s += this.drawWithFilter(u, i, 0, 0);
								break;
							case 3:
								s += this.drawWithClip(u, i, 0, 0);
								break;
							case 4:
								s += this.drawWithScrollRect(u, i, 0, 0);
								break;
							default:
								s += this.drawDisplayObject(u, i, 0, 0)
						}
					}
				return i.context.$drawWebGL(), i.onRenderFinish(), e && i.context.popBuffer(), s
			}, r.prototype.renderNode = function(t, i, n, r, e) {
				switch (i.$offsetX = n, i.$offsetY = r, t.type) {
					case 1:
						this.renderBitmap(t, i);
						break;
					case 2:
						this.renderText(t, i);
						break;
					case 3:
						this.renderGraphics(t, i, e);
						break;
					case 4:
						this.renderGroup(t, i);
						break;
					case 5:
						this.renderMesh(t, i);
						break;
					case 6:
						this.renderNormalBitmap(t, i)
				}
			}, r.prototype.renderNormalBitmap = function(i, n, r) {
				var e = i.image;
				e ? (e.valid() || (e.reload(i.bitmap), e.valid())) && (n.context.setGlobalCompositeOperation(r || "source-over"), n.context.drawImage(e, i.sourceX, i.sourceY, i.sourceW, i.sourceH, i.drawX, i.drawY, i.drawW, i.drawH, i.imageWidth, i.imageHeight, i.rotated, i.smoothing)) : i.bitmap && i.bitmap instanceof t.Bitmap && (i.bitmap.$refreshImageData(), i.bitmap.markDirtyUp())
			}, r.prototype.renderBitmap = function(i, r) {
				var e = i.image;
				if (e) {
					if (e.valid() || (e.reload(i.bitmap), e.valid())) {
						var s, h, o, a, u = i.drawData,
							c = u.length,
							f = 0,
							l = i.matrix,
							v = i.blendMode,
							d = i.alpha;
						if (l) {
							s = t.Matrix.create();
							var g = r.globalMatrix;
							s.a = g.a, s.b = g.b, s.c = g.c, s.d = g.d, s.tx = g.tx, s.ty = g.ty, h = r.$offsetX, o = r.$offsetY, r.useOffset(), r.transform(l.a, l.b, l.c, l.d, l.tx, l.ty)
						}
						if (r.context.setGlobalCompositeOperation(v ? n[v] : "source-over"), d == d && (a = r.globalAlpha, r.globalAlpha *= d), i.filter) {
							for (r.context.$filter = i.filter; f < c;) r.context.drawImage(e, u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], i.imageWidth, i.imageHeight, i.rotated, i.smoothing);
							r.context.$filter = null
						} else
							for (; f < c;) r.context.drawImage(e, u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], i.imageWidth, i.imageHeight, i.rotated, i.smoothing);
						if (d == d && (r.globalAlpha = a), l) {
							var w = r.globalMatrix;
							w.a = s.a, w.b = s.b, w.c = s.c, w.d = s.d, w.tx = s.tx, w.ty = s.ty, r.$offsetX = h, r.$offsetY = o, t.Matrix.release(s)
						}
					}
				} else i.bitmap && i.bitmap instanceof t.Bitmap && (i.bitmap.$refreshImageData(), i.bitmap.markDirtyUp())
			}, r.prototype.renderMesh = function(i, r) {
				var e, s, h, o, a = i.image,
					u = i.drawData,
					c = u.length,
					f = 0,
					l = i.matrix,
					v = i.blendMode,
					d = i.alpha;
				if (l) {
					e = t.Matrix.create();
					var g = r.globalMatrix;
					e.a = g.a, e.b = g.b, e.c = g.c, e.d = g.d, e.tx = g.tx, e.ty = g.ty, s = r.$offsetX, h = r.$offsetY, r.useOffset(), r.transform(l.a, l.b, l.c, l.d, l.tx, l.ty)
				}
				if (r.context.setGlobalCompositeOperation(v ? n[v] : "source-over"), d == d && (o = r.globalAlpha, r.globalAlpha *= d), i.filter) {
					for (r.context.$filter = i.filter; f < c;) r.context.drawMesh(a, u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], i.imageWidth, i.imageHeight, i.uvs, i.vertices, i.indices, i.bounds, i.rotated, i.smoothing);
					r.context.$filter = null
				} else
					for (; f < c;) r.context.drawMesh(a, u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], u[f++], i.imageWidth, i.imageHeight, i.uvs, i.vertices, i.indices, i.bounds, i.rotated, i.smoothing);
				if (d == d && (r.globalAlpha = o), l) {
					var w = r.globalMatrix;
					w.a = e.a, w.b = e.b, w.c = e.c, w.d = e.d, w.tx = e.tx, w.ty = e.ty, r.$offsetX = s, r.$offsetY = h, t.Matrix.release(e)
				}
			}, r.prototype.___renderText____ = function(n, r) {
				var e = n.width - n.x,
					s = n.height - n.y;
				if (!(e <= 0 || s <= 0) && e && s && 0 !== n.drawData.length) {
					r.context.setGlobalCompositeOperation("source-over");
					var h = t.sys.DisplayList.$canvasScaleX > 1 ? t.sys.DisplayList.$canvasScaleX : 1 / t.sys.DisplayList.$canvasScaleX,
						o = t.sys.DisplayList.$canvasScaleY > 1 ? t.sys.DisplayList.$canvasScaleY : 1 / t.sys.DisplayList.$canvasScaleY,
						a = r.context.$maxTextureSize;
					e * h > a && (h *= a / (e * h)), s * o > a && (o *= a / (s * o));
					var u = n.x,
						c = n.y;
					n.$canvasScaleX === h && n.$canvasScaleY === o || (n.$canvasScaleX = h, n.$canvasScaleY = o, n.dirtyRender = !0), (u || c) && r.transform(1, 0, 0, 1, u, c), n.dirtyRender && i.TextAtlasRender.analysisTextNodeAndFlushDrawLabel(n);
					var f = n[i.property_drawLabel];
					if (f && f.length > 0)
						for (var l = null, v = null, d = null, g = null, w = 0, m = f.length; w < m; ++w)
							for (var p = (l = f[w]).anchorX, b = 0, x = (v = l.textBlocks).length; b < x; ++b) {
								d = v[b];
								var _ = l.anchorY - d.contentHeight / o / 2;
								g = d.page, r.context.drawTexture(g.webGLTexture, d.u, d.v, d.contentWidth + d.stroke2, d.contentHeight, p, _, d.contentWidth / h, d.contentHeight / o, g.pageWidth, g.pageHeight), p += d.contentWidth / h
							}(u || c) && r.transform(1, 0, 0, 1, -u, -c), n.dirtyRender = !1
				}
			}, r.prototype.renderText = function(n, r) {
				if (t.textAtlasRenderEnable) this.___renderText____(n, r);
				else {
					var e = n.width - n.x,
						s = n.height - n.y;
					if (!(e <= 0 || s <= 0) && e && s && 0 != n.drawData.length) {
						var h = t.sys.DisplayList.$canvasScaleX > 1 ? t.sys.DisplayList.$canvasScaleX : 1 / t.sys.DisplayList.$canvasScaleX,
							o = t.sys.DisplayList.$canvasScaleY > 1 ? t.sys.DisplayList.$canvasScaleY : 1 / t.sys.DisplayList.$canvasScaleY,
							a = r.context.$maxTextureSize;
						e * h > a && (h *= a / (e * h)), s * o > a && (o *= a / (s * o)), e *= h, s *= o;
						var u = n.x * h,
							c = n.y * o;
						if (n.$canvasScaleX == h && n.$canvasScaleY == o || (n.$canvasScaleX = h, n.$canvasScaleY = o, n.dirtyRender = !0), this.wxiOS10 ? (this.canvasRenderer || (this.canvasRenderer = new t.CanvasRenderer), n.dirtyRender && (this.canvasRenderBuffer = new i.CanvasRenderBuffer(e, s))) : this.canvasRenderBuffer && this.canvasRenderBuffer.context ? n.dirtyRender && this.canvasRenderBuffer.resize(e, s) : (this.canvasRenderer = new t.CanvasRenderer, this.canvasRenderBuffer = new i.CanvasRenderBuffer(e, s)), this.canvasRenderBuffer.context) {
							if (u || c ? (n.dirtyRender && this.canvasRenderBuffer.context.setTransform(h, 0, 0, o, -u, -c), r.transform(1, 0, 0, 1, u / h, c / o)) : !n.dirtyRender || 1 == h && 1 == o || this.canvasRenderBuffer.context.scale(h, o), n.dirtyRender) {
								var f = this.canvasRenderBuffer.surface;
								if (this.canvasRenderer.renderText(n, this.canvasRenderBuffer.context), this.wxiOS10) f.isCanvas = !0, n.$texture = f;
								else {
									var l = n.$texture;
									l ? r.context.updateTexture(l, f) : (l = r.context.createTexture(f), n.$texture = l)
								}
								n.$textureWidth = f.width, n.$textureHeight = f.height
							}
							var v = n.$textureWidth,
								d = n.$textureHeight;
							r.context.setGlobalCompositeOperation("source-over"), r.context.drawTexture(n.$texture, 0, 0, v, d, 0, 0, v / h, d / o, v, d), (u || c) && (n.dirtyRender && this.canvasRenderBuffer.context.translate(0, 0), r.transform(1, 0, 0, 1, -u / h, -c / o)), n.dirtyRender = !1
						}
					}
				}
			}, r.prototype.renderGraphics = function(n, r, e) {
				var s = n.width,
					h = n.height;
				if (!(s <= 0 || h <= 0) && s && h && 0 != n.drawData.length) {
					var o = t.sys.DisplayList.$canvasScaleX > 1 ? t.sys.DisplayList.$canvasScaleX : 1 / t.sys.DisplayList.$canvasScaleX,
						a = t.sys.DisplayList.$canvasScaleY > 1 ? t.sys.DisplayList.$canvasScaleY : 1 / t.sys.DisplayList.$canvasScaleY;
					(s * o < 1 || h * a < 1) && (o = a = 1), n.$canvasScaleX == o && n.$canvasScaleY == a || (n.$canvasScaleX = o, n.$canvasScaleY = a, n.dirtyRender = !0), s *= o, h *= a;
					var u = Math.ceil(s),
						c = Math.ceil(h);
					if (o *= u / s, a *= c / h, s = u, h = c, this.wxiOS10 ? (this.canvasRenderer || (this.canvasRenderer = new t.CanvasRenderer), n.dirtyRender && (this.canvasRenderBuffer = new i.CanvasRenderBuffer(s, h))) : this.canvasRenderBuffer && this.canvasRenderBuffer.context ? n.dirtyRender && this.canvasRenderBuffer.resize(s, h) : (this.canvasRenderer = new t.CanvasRenderer, this.canvasRenderBuffer = new i.CanvasRenderBuffer(s, h)), this.canvasRenderBuffer.context) {
						1 == o && 1 == a || this.canvasRenderBuffer.context.setTransform(o, 0, 0, a, 0, 0), (n.x || n.y) && ((n.dirtyRender || e) && this.canvasRenderBuffer.context.translate(-n.x, -n.y), r.transform(1, 0, 0, 1, n.x, n.y)), r.context.setGlobalCompositeOperation("source-over");
						var f = this.canvasRenderBuffer.surface;
						if (e) {
							this.canvasRenderer.renderGraphics(n, this.canvasRenderBuffer.context, !0);
							var l = void 0;
							this.wxiOS10 ? (f.isCanvas = !0, l = f) : (t.WebGLUtils.deleteWebGLTexture(f), l = r.context.getWebGLTexture(f)), r.context.drawTexture(l, 0, 0, s, h, 0, 0, s, h, f.width, f.height)
						} else {
							n.dirtyRender && (this.canvasRenderer.renderGraphics(n, this.canvasRenderBuffer.context), this.wxiOS10 ? (f.isCanvas = !0, n.$texture = f) : (l = n.$texture) ? r.context.updateTexture(l, f) : (l = r.context.createTexture(f), n.$texture = l), n.$textureWidth = f.width, n.$textureHeight = f.height);
							var v = n.$textureWidth,
								d = n.$textureHeight;
							r.context.drawTexture(n.$texture, 0, 0, v, d, 0, 0, v / o, d / a, v, d)
						}(n.x || n.y) && ((n.dirtyRender || e) && this.canvasRenderBuffer.context.translate(n.x, n.y), r.transform(1, 0, 0, 1, -n.x, -n.y)), e || (n.dirtyRender = !1)
					}
				}
			}, r.prototype.renderGroup = function(i, n) {
				var r, e, s, h = i.matrix;
				if (h) {
					r = t.Matrix.create();
					var o = n.globalMatrix;
					r.a = o.a, r.b = o.b, r.c = o.c, r.d = o.d, r.tx = o.tx, r.ty = o.ty, e = n.$offsetX, s = n.$offsetY, n.useOffset(), n.transform(h.a, h.b, h.c, h.d, h.tx, h.ty)
				}
				for (var a = i.drawData, u = a.length, c = 0; c < u; c++) {
					var f = a[c];
					this.renderNode(f, n, n.$offsetX, n.$offsetY)
				}
				if (h) {
					var l = n.globalMatrix;
					l.a = r.a, l.b = r.b, l.c = r.c, l.d = r.d, l.tx = r.tx, l.ty = r.ty, n.$offsetX = e, n.$offsetY = s, t.Matrix.release(r)
				}
			}, r
		}(), i.WebGLRenderer = r, __reflect(r.prototype, "egret.web.WebGLRenderer", ["egret.sys.SystemRenderer"])
	}(egret || (egret = {})),
	function(t) {
		! function(i) {
			var n = function(t) {
				function i(i, n, r, e, s, h, o, a) {
					var u = t.call(this) || this;
					return u._width = 0, u._height = 0, u._border = 0, u._referenceCount = 0, u.charWithStyleHashCode = 0, u.page = null, u.index = 0, u.x = 0, u.y = 0, u.u = 0, u.v = 0, u.tag = "", u.measureWidth = 0, u.measureHeight = 0, u.canvasWidthOffset = 0, u.canvasHeightOffset = 0, u.stroke2 = 0, u._width = i, u._height = n, u._border = a, u.measureWidth = r, u.measureHeight = e, u.canvasWidthOffset = s, u.canvasHeightOffset = h, u.stroke2 = o, u
				}
				return __extends(i, t), Object.defineProperty(i.prototype, "referenceCount", {
					get: function() {
						return this._referenceCount
					},
					enumerable: !0,
					configurable: !0
				}), i.prototype.retain = function() {
					this._referenceCount++
				}, i.prototype.release = function() {
					this._referenceCount--
				}, Object.defineProperty(i.prototype, "border", {
					get: function() {
						return this._border
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(i.prototype, "width", {
					get: function() {
						return this._width
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(i.prototype, "height", {
					get: function() {
						return this._height
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(i.prototype, "contentWidth", {
					get: function() {
						return this.measureWidth
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(i.prototype, "contentHeight", {
					get: function() {
						return this._height
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(i.prototype, "subImageOffsetX", {
					get: function() {
						return this.x
					},
					enumerable: !0,
					configurable: !0
				}), Object.defineProperty(i.prototype, "subImageOffsetY", {
					get: function() {
						return this.y
					},
					enumerable: !0,
					configurable: !0
				}), i.prototype.updateUV = function() {
					this.u = this.x + this.canvasWidthOffset - this.stroke2 / 2, this.v = this.y
				}, i
			}(t.HashObject);
			i.TextBlock = n, __reflect(n.prototype, "egret.web.TextBlock");
			var r = function(i) {
				function n(t, n, r, e) {
					var s = i.call(this) || this;
					s.pageWidth = 0, s.pageHeight = 0, s.blockWidth = 0, s.blockHeight = 0, s.numCol = 0, s.numRow = 0, s.webGLTexture = null, s._blocks = [], s.pageWidth = t, s.pageHeight = n, s.blockWidth = r, s.blockHeight = e, s.numCol = Math.floor(s.pageWidth / s.blockWidth), s.numRow = Math.floor(s.pageHeight / s.blockHeight), s._blocks.length = s.numCol * s.numRow;
					for (var h = 0; h < s._blocks.length; h++) s._blocks[h] = 0;
					return s
				}
				return __extends(n, i), n.prototype.addTextBlock = function(t) {
					for (var i = 0; i < this._blocks.length; i++)
						if (0 == this._blocks[i]) {
							var n = Math.floor(i / this.numCol),
								r = i % this.numCol;
							return t.x = r * this.blockWidth, t.y = n * this.blockHeight, t.index = i, t.page = this, this._blocks[i] = 1, !0
						}
					return !1
				}, n.prototype.releaseBlock = function(t) {
					t < this.numCol * this.numRow && (this._blocks[t] = 0)
				}, n.prototype.dispose = function() {
					for (var i = 0; i < this._blocks.length; i++)
						if (1 == this._blocks[i]) return !1;
					return this.webGLTexture && (t.WebGLUtils.deleteWebGLTexture(this.webGLTexture), this.webGLTexture = null), !0
				}, n
			}(t.HashObject);
			i.Page = r, __reflect(r.prototype, "egret.web.Page");
			var e = function(t) {
				function i(i, n) {
					var r = t.call(this) || this;
					return r._pages = {}, r._maxSize = 1024, r._border = 1, r._maxSize = i, r._border = n, r
				}
				return __extends(i, t), i.prototype.addTextBlock = function(t) {
					return !!this._addTextBlock(t) && (t.updateUV(), !0)
				}, i.prototype._addTextBlock = function(t) {
					if (!t) return !1;
					if (t.width > this._maxSize || t.height > this._maxSize) return !1;
					var i = Math.max(t.width, t.height),
						n = i + "x" + i;
					this._pages[n] = this._pages[n] || [];
					for (var r = 0, e = this._pages[n]; r < e.length; r++)
						if (e[r].addTextBlock(t)) return !0;
					return this.createPage(this._maxSize, this._maxSize, i, i).addTextBlock(t)
				}, i.prototype.createPage = function(t, i, n, e) {
					var s = new r(t, i, n, e),
						h = n + "x" + e;
					return this._pages[h] = this._pages[h] || [], this._pages[h].push(s), s
				}, i.prototype.createTextBlock = function(t, i, r, e, s, h, o, a) {
					var u = new n(i, r, e, s, h, o, a, this._border);
					return this.addTextBlock(u) ? (u.tag = t, u) : null
				}, i.prototype.releaseEmptyPages = function() {
					for (var t = 0, i = Object.keys(this._pages); t < i.length; t++) {
						var n = i[t],
							r = [].concat(this._pages[n]);
						this._pages[n] = [];
						for (var e = 0, s = r; e < s.length; e++) {
							var h = s[e];
							h.dispose() || this._pages[n].push(h)
						}
					}
				}, i
			}(t.HashObject);
			i.Book = e, __reflect(e.prototype, "egret.web.Book")
		}(t.web || (t.web = {}))
	}(egret || (egret = {})),
	function(t) {
		! function(i) {
			i.__textAtlasRender__ = null, i.property_drawLabel = "DrawLabel";
			var n = function(t) {
				function n() {
					var i = null !== t && t.apply(this, arguments) || this;
					return i.anchorX = 0, i.anchorY = 0, i.textBlocks = [], i
				}
				return __extends(n, t), n.prototype.clear = function() {
					this.release(), this.anchorX = 0, this.anchorY = 0, this.textBlocks.length = 0
				}, n.prototype.release = function() {
					for (var t = 0, n = this.textBlocks; t < n.length; t++) {
						var r = n[t];
						r.release(), 0 == r.referenceCount && i.__textAtlasRender__.removeTextBlock(r.charWithStyleHashCode)
					}
				}, n.create = function() {
					var t = n.pool;
					return 0 === t.length && t.push(new n), t.pop()
				}, n.back = function(t, i) {
					if (t) {
						var r = n.pool;
						i && r.indexOf(t) >= 0 ? console.error("DrawLabel.back repeat") : (t.clear(), r.push(t))
					}
				}, n.pool = [], n
			}(t.HashObject);
			i.DrawLabel = n, __reflect(n.prototype, "egret.web.DrawLabel");
			var r = function(i) {
				function n(n, r, e, s) {
					var h = i.call(this) || this;
					h.format = null, h.textColor = n.textColor, h.strokeColor = n.strokeColor, h.size = n.size, h.stroke = n.stroke, h.bold = n.bold, h.italic = n.italic, h.fontFamily = n.fontFamily, h.shadow = n.shadow, h.shadowColor = n.shadowColor, h.shadowOffsetX = n.shadowOffsetX, h.shadowOffsetY = n.shadowOffsetY, h.shadowBlur = n.shadowBlur, h.format = r, h.font = t.getFontString(n, h.format);
					var o = r.textColor ? r.textColor : n.textColor,
						a = r.strokeColor ? r.strokeColor : n.strokeColor,
						u = r.stroke ? r.stroke : n.stroke,
						c = r.size ? r.size : n.size;
					return h.description = h.font + "-" + c, h.description += "-" + t.toColorString(o), h.description += "-" + t.toColorString(a), h.bold && (h.description += "-bold"), h.italic && (h.description += "-italic"), h.shadow && (h.description += "-shadow"), u && (h.description += "-" + 2 * u), h.description += "-" + e + "x" + s, h
				}
				return __extends(n, i), n
			}(t.HashObject);
			__reflect(r.prototype, "StyleInfo");
			var e = function(i) {
				function n() {
					var t = null !== i && i.apply(this, arguments) || this;
					return t.char = "", t.styleInfo = null, t.hashCodeString = "", t.charWithStyleHashCode = 0, t.measureWidth = 0, t.measureHeight = 0, t.canvasWidthOffset = 0, t.canvasHeightOffset = 0, t.canvasScaleX = 1, t.canvasScaleY = 1, t.stroke2 = 0, t
				}
				return __extends(n, i), n.prototype.reset = function(i, n, r, e) {
					return this.char = i, this.styleInfo = n, this.hashCodeString = i + ":" + n.description, this.charWithStyleHashCode = t.NumberUtils.convertStringToHashCode(this.hashCodeString), this.canvasWidthOffset = 0, this.canvasHeightOffset = 0, this.canvasScaleX = r, this.canvasScaleY = e, this.stroke2 = 0, this
				}, n.prototype.measureAndDraw = function(i) {
					var n = i;
					if (n) {
						var r = this.char,
							e = this.styleInfo.format,
							s = e.textColor ? e.textColor : this.styleInfo.textColor,
							h = e.strokeColor ? e.strokeColor : this.styleInfo.strokeColor,
							o = e.stroke ? e.stroke : this.styleInfo.stroke,
							a = e.size ? e.size : this.styleInfo.size,
							u = e.shadow ? e.shadow : this.styleInfo.shadow;
						this.measureWidth = this.measure(r, this.styleInfo, a), this.measureHeight = a;
						var c = this.measureWidth,
							f = this.measureHeight,
							l = 2 * o;
						l > 0 && (c += l, f += l), this.stroke2 = l, c = Math.ceil((c + 4) * this.canvasScaleX), f = Math.ceil((f + 4) * this.canvasScaleY), n.width = n.height = Math.max(c, f), this.measureWidth *= this.canvasScaleX, this.measureHeight *= this.canvasScaleY, this.canvasWidthOffset = (n.width - this.measureWidth) / 2, this.canvasHeightOffset = (n.height - this.measureHeight) / 2;
						var v = Math.pow(10, 3);
						this.canvasWidthOffset = Math.floor(this.canvasWidthOffset * v) / v, this.canvasHeightOffset = Math.floor(this.canvasHeightOffset * v) / v;
						var d = t.sys.getContext2d(n);
						if (d.save(), d.scale(this.canvasScaleX, this.canvasScaleY), d.clearRect(0, 0, n.width, n.height), d.textAlign = "center", d.textBaseline = "middle", d.lineJoin = "round", d.font = this.styleInfo.font, d.fillStyle = t.toColorString(s), d.strokeStyle = t.toColorString(h), o && (d.lineWidth = 2 * o, d.strokeText(r, n.width / (2 * this.canvasScaleX), n.height / (2 * this.canvasScaleY) + t.textAtlasRendererOffsetY)), u) {
							var g = e.shadowColor ? e.shadowColor : this.styleInfo.shadowColor;
							d.shadowColor = t.toColorString(g), d.shadowOffsetX = e.shadowOffsetX ? e.shadowOffsetX : this.styleInfo.shadowOffsetX, d.shadowOffsetY = e.shadowOffsetY ? e.shadowOffsetY : this.styleInfo.shadowOffsetY, d.shadowBlur = e.shadowBlur ? e.shadowBlur : this.styleInfo.shadowBlur
						}
						d.fillText(r, n.width / (2 * this.canvasScaleX), n.height / (2 * this.canvasScaleY) + t.textAtlasRendererOffsetY), u && (d.shadowOffsetX = 0, d.shadowOffsetY = 0, d.shadowBlur = 0), d.restore()
					}
				}, n.prototype.measure = function(i, r, e) {
					var s = n.chineseCharactersRegExp.test(i);
					if (s && n.chineseCharacterMeasureFastMap[r.font]) return n.chineseCharacterMeasureFastMap[r.font];
					var h = t.sys.measureText(i, r.fontFamily, e || r.size, r.bold, r.italic);
					return s && (n.chineseCharacterMeasureFastMap[r.font] = h), h
				}, n.chineseCharactersRegExp = new RegExp("^[一-龥]$"), n.chineseCharacterMeasureFastMap = {}, n
			}(t.HashObject);
			__reflect(e.prototype, "CharImageRender");
			var s = function(s) {
				function h(t, n, r) {
					var h = s.call(this) || this;
					return h.book = null, h.charImageRender = new e, h.textBlockMap = {}, h._canvas = null, h.textAtlasTextureCache = [], h.webglRenderContext = null, h.webglRenderContext = t, h.book = new i.Book(n, r), h
				}
				return __extends(h, s), h.prototype.removeTextBlock = function(t) {
					var i = this.textBlockMap;
					i[t] && (i[t].page.releaseBlock(i[t].index), delete i[t])
				}, h.prototype.gc = function() {
					this.book.releaseEmptyPages()
				}, h.analysisTextNodeAndFlushDrawLabel = function(e) {
					if (e) {
						if (!i.__textAtlasRender__) {
							var s = t.web.WebGLRenderContext.getInstance(0, 0);
							i.__textAtlasRender__ = new h(s, 512, 1), t.textAtlasRenderer = i.__textAtlasRender__
						}
						e[i.property_drawLabel] = e[i.property_drawLabel] || [];
						for (var o = e[i.property_drawLabel], a = 0, u = o; a < u.length; a++) {
							var c = u[a];
							n.back(c, !1)
						}
						o.length = 0;
						for (var f = e.drawData, l = 0, v = 0, d = "", g = {}, w = [], m = 0, p = f.length; m < p; m += 4) l = f[m + 0], v = f[m + 1], d = f[m + 2], g = f[m + 3] || {}, w.length = 0, i.__textAtlasRender__.convertLabelStringToTextAtlas(d, new r(e, g, e.$canvasScaleX, e.$canvasScaleY), w, e.$canvasScaleX, e.$canvasScaleY), (c = n.create()).anchorX = l, c.anchorY = v, c.textBlocks = [].concat(w), o.push(c)
					}
				}, h.prototype.convertLabelStringToTextAtlas = function(i, n, r, e, s) {
					for (var h = this.canvas, o = this.charImageRender, a = this.textBlockMap, u = 0, c = i; u < c.length; u++) {
						var f = c[u];
						if (o.reset(f, n, e, s), a[o.charWithStyleHashCode]) a[o.charWithStyleHashCode].retain(), r.push(a[o.charWithStyleHashCode]);
						else {
							o.measureAndDraw(h);
							var l = this.book.createTextBlock(f, h.width, h.height, o.measureWidth, o.measureHeight, o.canvasWidthOffset, o.canvasHeightOffset, o.stroke2);
							if (l) {
								l.charWithStyleHashCode = o.charWithStyleHashCode, l.retain(), r.push(l), a[o.charWithStyleHashCode] = l;
								var v = l.page;
								v.webGLTexture || (v.webGLTexture = this.createTextTextureAtlas(v.pageWidth, v.pageHeight, !1));
								var d = this.webglRenderContext.context;
								v.webGLTexture[t.glContext] = d, d.bindTexture(d.TEXTURE_2D, v.webGLTexture), d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0), v.webGLTexture[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL] = !0, d.texSubImage2D(d.TEXTURE_2D, 0, l.subImageOffsetX, l.subImageOffsetY, d.RGBA, d.UNSIGNED_BYTE, h), d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1)
							}
						}
					}
				}, h.prototype.createTextTextureAtlas = function(i, n, r) {
					var e = null;
					if (r) {
						var s = t.sys.createCanvas(i, i),
							h = t.sys.getContext2d(s);
						h.fillStyle = "black", h.fillRect(0, 0, i, i), e = t.sys.createTexture(this.webglRenderContext, s)
					} else e = t.sys._createTexture(this.webglRenderContext, i, n, null);
					return e && this.textAtlasTextureCache.push(e), e
				}, Object.defineProperty(h.prototype, "canvas", {
					get: function() {
						return this._canvas || (this._canvas = t.sys.createCanvas(24, 24)), this._canvas
					},
					enumerable: !0,
					configurable: !0
				}), h
			}(t.HashObject);
			i.TextAtlasRender = s, __reflect(s.prototype, "egret.web.TextAtlasRender")
		}(t.web || (t.web = {}))
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function t(t, i, n) {
				this.gl = t, this.name = n.name, this.type = n.type, this.size = n.size, this.location = t.getAttribLocation(i, this.name), this.count = 0, this.initCount(t), this.format = t.FLOAT, this.initFormat(t)
			}
			return t.prototype.initCount = function(t) {
				switch (this.type) {
					case 5126:
					case 5120:
					case 5121:
					case 5123:
						this.count = 1;
						break;
					case 35664:
						this.count = 2;
						break;
					case 35665:
						this.count = 3;
						break;
					case 35666:
						this.count = 4
				}
			}, t.prototype.initFormat = function(t) {
				switch (this.type) {
					case 5126:
					case 35664:
					case 35665:
					case 35666:
						this.format = t.FLOAT;
						break;
					case 5121:
						this.format = t.UNSIGNED_BYTE;
						break;
					case 5123:
						this.format = t.UNSIGNED_SHORT;
						break;
					case 5120:
						this.format = t.BYTE
				}
			}, t
		}(), i.EgretWebGLAttribute = n, __reflect(n.prototype, "egret.web.EgretWebGLAttribute")
	}(egret || (egret = {})),
	function(t) {
		! function(t) {
			function i(t, i, n) {
				var r = t.createShader(i);
				return t.shaderSource(r, n), t.compileShader(r), t.getShaderParameter(r, t.COMPILE_STATUS) || (console.log("shader not compiled!"), console.log(t.getShaderInfoLog(r))), r
			}
			var n = function() {
				function n(n, r, e) {
					this.vshaderSource = r, this.fshaderSource = e, this.vertexShader = i(n, n.VERTEX_SHADER, this.vshaderSource), this.fragmentShader = i(n, n.FRAGMENT_SHADER, this.fshaderSource), this.id = function(t, i, n) {
						var r = t.createProgram();
						return t.attachShader(r, i), t.attachShader(r, n), t.linkProgram(r), r
					}(n, this.vertexShader, this.fragmentShader), this.uniforms = function(i, n) {
						for (var r = {}, e = i.getProgramParameter(n, i.ACTIVE_UNIFORMS), s = 0; s < e; s++) {
							var h = i.getActiveUniform(n, s),
								o = h.name,
								a = new t.EgretWebGLUniform(i, n, h);
							r[o] = a
						}
						return r
					}(n, this.id), this.attributes = function(i, n) {
						for (var r = {}, e = i.getProgramParameter(n, i.ACTIVE_ATTRIBUTES), s = 0; s < e; s++) {
							var h = i.getActiveAttrib(n, s),
								o = h.name,
								a = new t.EgretWebGLAttribute(i, n, h);
							r[o] = a
						}
						return r
					}(n, this.id)
				}
				return n.getProgram = function(t, i, r, e) {
					return this.programCache[e] || (this.programCache[e] = new n(t, i, r)), this.programCache[e]
				}, n.deleteProgram = function(t, i, n, r) {}, n.programCache = {}, n
			}();
			t.EgretWebGLProgram = n, __reflect(n.prototype, "egret.web.EgretWebGLProgram")
		}(t.web || (t.web = {}))
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function t(t, i, n) {
				this.gl = t, this.name = n.name, this.type = n.type, this.size = n.size, this.location = t.getUniformLocation(i, this.name), this.setDefaultValue(), this.generateSetValue(), this.generateUpload()
			}
			return t.prototype.setDefaultValue = function() {
				switch (this.type) {
					case 5126:
					case 35678:
					case 35680:
					case 35670:
					case 5124:
						this.value = 0;
						break;
					case 35664:
					case 35671:
					case 35667:
						this.value = [0, 0];
						break;
					case 35665:
					case 35672:
					case 35668:
						this.value = [0, 0, 0];
						break;
					case 35666:
					case 35673:
					case 35669:
						this.value = [0, 0, 0, 0];
						break;
					case 35674:
						this.value = new Float32Array([1, 0, 0, 1]);
						break;
					case 35675:
						this.value = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
						break;
					case 35676:
						this.value = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
				}
			}, t.prototype.generateSetValue = function() {
				switch (this.type) {
					case 5126:
					case 35678:
					case 35680:
					case 35670:
					case 5124:
						this.setValue = function(t) {
							var i = this.value !== t;
							this.value = t, i && this.upload()
						};
						break;
					case 35664:
					case 35671:
					case 35667:
						this.setValue = function(t) {
							var i = this.value[0] !== t.x || this.value[1] !== t.y;
							this.value[0] = t.x, this.value[1] = t.y, i && this.upload()
						};
						break;
					case 35665:
					case 35672:
					case 35668:
						this.setValue = function(t) {
							this.value[0] = t.x, this.value[1] = t.y, this.value[2] = t.z, this.upload()
						};
						break;
					case 35666:
					case 35673:
					case 35669:
						this.setValue = function(t) {
							this.value[0] = t.x, this.value[1] = t.y, this.value[2] = t.z, this.value[3] = t.w, this.upload()
						};
						break;
					case 35674:
					case 35675:
					case 35676:
						this.setValue = function(t) {
							this.value.set(t), this.upload()
						}
				}
			}, t.prototype.generateUpload = function() {
				var t = this.gl,
					i = this.type,
					n = this.location;
				switch (i) {
					case 5126:
						this.upload = function() {
							var i = this.value;
							t.uniform1f(n, i)
						};
						break;
					case 35664:
						this.upload = function() {
							var i = this.value;
							t.uniform2f(n, i[0], i[1])
						};
						break;
					case 35665:
						this.upload = function() {
							var i = this.value;
							t.uniform3f(n, i[0], i[1], i[2])
						};
						break;
					case 35666:
						this.upload = function() {
							var i = this.value;
							t.uniform4f(n, i[0], i[1], i[2], i[3])
						};
						break;
					case 35678:
					case 35680:
					case 35670:
					case 5124:
						this.upload = function() {
							var i = this.value;
							t.uniform1i(n, i)
						};
						break;
					case 35671:
					case 35667:
						this.upload = function() {
							var i = this.value;
							t.uniform2i(n, i[0], i[1])
						};
						break;
					case 35672:
					case 35668:
						this.upload = function() {
							var i = this.value;
							t.uniform3i(n, i[0], i[1], i[2])
						};
						break;
					case 35673:
					case 35669:
						this.upload = function() {
							var i = this.value;
							t.uniform4i(n, i[0], i[1], i[2], i[3])
						};
						break;
					case 35674:
						this.upload = function() {
							var i = this.value;
							t.uniformMatrix2fv(n, !1, i)
						};
						break;
					case 35675:
						this.upload = function() {
							var i = this.value;
							t.uniformMatrix3fv(n, !1, i)
						};
						break;
					case 35676:
						this.upload = function() {
							var i = this.value;
							t.uniformMatrix4fv(n, !1, i)
						}
				}
			}, t
		}(), i.EgretWebGLUniform = n, __reflect(n.prototype, "egret.web.EgretWebGLUniform")
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function t() {}
			return t.blur_frag = "precision mediump float;\r\nuniform vec2 blur;\r\nuniform sampler2D uSampler;\r\nvarying vec2 vTextureCoord;\r\nuniform vec2 uTextureSize;\r\nvoid main()\r\n{\r\n    const int sampleRadius = 5;\r\n    const int samples = sampleRadius * 2 + 1;\r\n    vec2 blurUv = blur / uTextureSize;\r\n    vec4 color = vec4(0, 0, 0, 0);\r\n    vec2 uv = vec2(0.0, 0.0);\r\n    blurUv /= float(sampleRadius);\r\n\r\n    for (int i = -sampleRadius; i <= sampleRadius; i++) {\r\n        uv.x = vTextureCoord.x + float(i) * blurUv.x;\r\n        uv.y = vTextureCoord.y + float(i) * blurUv.y;\r\n        color += texture2D(uSampler, uv);\r\n    }\r\n\r\n    color /= float(samples);\r\n    gl_FragColor = color;\r\n}", t.colorTransform_frag = "precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform mat4 matrix;\r\nuniform vec4 colorAdd;\r\nuniform sampler2D uSampler;\r\n\r\nvoid main(void) {\r\n    vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n    if(texColor.a > 0.) {\r\n        // 抵消预乘的alpha通道\r\n        texColor = vec4(texColor.rgb / texColor.a, texColor.a);\r\n    }\r\n    vec4 locColor = clamp(texColor * matrix + colorAdd, 0., 1.);\r\n    gl_FragColor = vColor * vec4(locColor.rgb * locColor.a, locColor.a);\r\n}", t.default_vert = "attribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nattribute vec4 aColor;\r\n\r\nuniform vec2 projectionVector;\r\n// uniform vec2 offsetVector;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\n\r\nconst vec2 center = vec2(-1.0, 1.0);\r\n\r\nvoid main(void) {\r\n   gl_Position = vec4( (aVertexPosition / projectionVector) + center , 0.0, 1.0);\r\n   vTextureCoord = aTextureCoord;\r\n   vColor = aColor;\r\n}", t.glow_frag = "precision highp float;\r\nvarying vec2 vTextureCoord;\r\n\r\nuniform sampler2D uSampler;\r\n\r\nuniform float dist;\r\nuniform float angle;\r\nuniform vec4 color;\r\nuniform float alpha;\r\nuniform float blurX;\r\nuniform float blurY;\r\n// uniform vec4 quality;\r\nuniform float strength;\r\nuniform float inner;\r\nuniform float knockout;\r\nuniform float hideObject;\r\n\r\nuniform vec2 uTextureSize;\r\n\r\nfloat random(vec2 scale)\r\n{\r\n    return fract(sin(dot(gl_FragCoord.xy, scale)) * 43758.5453);\r\n}\r\n\r\nvoid main(void) {\r\n    vec2 px = vec2(1.0 / uTextureSize.x, 1.0 / uTextureSize.y);\r\n    // TODO 自动调节采样次数？\r\n    const float linearSamplingTimes = 7.0;\r\n    const float circleSamplingTimes = 12.0;\r\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\r\n    vec4 curColor;\r\n    float totalAlpha = 0.0;\r\n    float maxTotalAlpha = 0.0;\r\n    float curDistanceX = 0.0;\r\n    float curDistanceY = 0.0;\r\n    float offsetX = dist * cos(angle) * px.x;\r\n    float offsetY = dist * sin(angle) * px.y;\r\n\r\n    const float PI = 3.14159265358979323846264;\r\n    float cosAngle;\r\n    float sinAngle;\r\n    float offset = PI * 2.0 / circleSamplingTimes * random(vec2(12.9898, 78.233));\r\n    float stepX = blurX * px.x / linearSamplingTimes;\r\n    float stepY = blurY * px.y / linearSamplingTimes;\r\n    for (float a = 0.0; a <= PI * 2.0; a += PI * 2.0 / circleSamplingTimes) {\r\n        cosAngle = cos(a + offset);\r\n        sinAngle = sin(a + offset);\r\n        for (float i = 1.0; i <= linearSamplingTimes; i++) {\r\n            curDistanceX = i * stepX * cosAngle;\r\n            curDistanceY = i * stepY * sinAngle;\r\n            if (vTextureCoord.x + curDistanceX - offsetX >= 0.0 && vTextureCoord.y + curDistanceY + offsetY <= 1.0){\r\n                curColor = texture2D(uSampler, vec2(vTextureCoord.x + curDistanceX - offsetX, vTextureCoord.y + curDistanceY + offsetY));\r\n                totalAlpha += (linearSamplingTimes - i) * curColor.a;\r\n            }\r\n            maxTotalAlpha += (linearSamplingTimes - i);\r\n        }\r\n    }\r\n\r\n    ownColor.a = max(ownColor.a, 0.0001);\r\n    ownColor.rgb = ownColor.rgb / ownColor.a;\r\n\r\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha) * strength * alpha * (1. - inner) * max(min(hideObject, knockout), 1. - ownColor.a);\r\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * strength * alpha * inner * ownColor.a;\r\n\r\n    ownColor.a = max(ownColor.a * knockout * (1. - hideObject), 0.0001);\r\n    vec3 mix1 = mix(ownColor.rgb, color.rgb, innerGlowAlpha / (innerGlowAlpha + ownColor.a));\r\n    vec3 mix2 = mix(mix1, color.rgb, outerGlowAlpha / (innerGlowAlpha + ownColor.a + outerGlowAlpha));\r\n    float resultAlpha = min(ownColor.a + outerGlowAlpha + innerGlowAlpha, 1.);\r\n    gl_FragColor = vec4(mix2 * resultAlpha, resultAlpha);\r\n}", t.primitive_frag = "precision lowp float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\n\r\nvoid main(void) {\r\n    gl_FragColor = vColor;\r\n}", t.texture_frag = "precision lowp float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform sampler2D uSampler;\r\n\r\nvoid main(void) {\r\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;\r\n}", t.texture_etc_alphamask_frag = "precision lowp float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform sampler2D uSampler;\r\nuniform sampler2D uSamplerAlphaMask;\r\nvoid main(void) {\r\nfloat alpha = texture2D(uSamplerAlphaMask, vTextureCoord).r;\r\nif (alpha < 0.0039) { discard; }\r\nvec4 v4Color = texture2D(uSampler, vTextureCoord);\r\nv4Color.a = alpha;\r\ngl_FragColor = v4Color * vColor;\r\n}", t.texture_vertical_alphamask_frag = "precision lowp float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform sampler2D uSampler;\r\nvoid main(void) {\r\nfloat alpha = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 0.5)).r;\r\nif (alpha < 0.0039) { discard; }\r\nvec4 v4Color = texture2D(uSampler, vTextureCoord);\r\nv4Color.a = alpha;\r\ngl_FragColor = v4Color * vColor;\r\n}", t.texture_horizontal_alphamask_frag = "precision lowp float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform sampler2D uSampler;\r\nvoid main(void) {\r\nfloat alpha = texture2D(uSampler, vec2(vTextureCoord.x + 0.5, vTextureCoord.y)).r;\r\nif (alpha < 0.0039) { discard; }\r\nvec4 v4Color = texture2D(uSampler, vTextureCoord);\r\nv4Color.a = alpha;\r\ngl_FragColor = v4Color * vColor;\r\n}", t.colorTransform_texture_vertical_alphamask_frag = "precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform mat4 matrix;\r\nuniform vec4 colorAdd;\r\nuniform sampler2D uSampler;\r\n\r\nvoid main(void) {\r\n float alpha = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 0.5)).r;\r\nif (alpha < 0.0039) { discard; }\r\n   vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n texColor.a = alpha;\r\n if(texColor.a > 0.) {\r\n        // 抵消预乘的alpha通道\r\n        texColor = vec4(texColor.rgb / texColor.a, texColor.a);\r\n    }\r\nvec4 v4Color = clamp(texColor * matrix + colorAdd, 0., 1.);\r\nv4Color.rgb = v4Color.rgb * alpha;\r\ngl_FragColor = v4Color * vColor;\r\n}", t.colorTransform_texture_horizontal_alphamask_frag = "precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform mat4 matrix;\r\nuniform vec4 colorAdd;\r\nuniform sampler2D uSampler;\r\n\r\nvoid main(void) {\r\n float alpha = texture2D(uSampler, vec2(vTextureCoord.x + 0.5, vTextureCoord.y)).r;\r\nif (alpha < 0.0039) { discard; }\r\n   vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n texColor.a = alpha;\r\n if(texColor.a > 0.) {\r\n        // 抵消预乘的alpha通道\r\n        texColor = vec4(texColor.rgb / texColor.a, texColor.a);\r\n    }\r\nvec4 v4Color = clamp(texColor * matrix + colorAdd, 0., 1.);\r\nv4Color.rgb = v4Color.rgb * alpha;\r\ngl_FragColor = v4Color * vColor;\r\n}", t.colorTransform_frag_etc_alphamask_frag = "precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nvarying vec4 vColor;\r\nuniform mat4 matrix;\r\nuniform vec4 colorAdd;\r\nuniform sampler2D uSampler;\r\nuniform sampler2D uSamplerAlphaMask;\r\n\r\nvoid main(void){\r\nfloat alpha = texture2D(uSamplerAlphaMask, vTextureCoord).r;\r\nif (alpha < 0.0039) { discard; }\r\nvec4 texColor = texture2D(uSampler, vTextureCoord);\r\n texColor.a = alpha;\r\nif(texColor.a > 0.0) {\r\n // 抵消预乘的alpha通道\r\ntexColor = vec4(texColor.rgb / texColor.a, texColor.a);\r\n}\r\nvec4 v4Color = clamp(texColor * matrix + colorAdd, 0.0, 1.0);\r\nv4Color.rgb = v4Color.rgb * alpha;\r\ngl_FragColor = v4Color * vColor;\r\n}", t
		}(), i.EgretShaderLib = n, __reflect(n.prototype, "egret.web.EgretShaderLib")
	}(egret || (egret = {}));
var egret;
! function(t) {
	var i = function() {
		function t() {}
		return t.BINARY = "binary", t.TEXT = "text", t.VARIABLES = "variables", t.TEXTURE = "texture", t.SOUND = "sound", t
	}();
	t.URLLoaderDataFormat = i, __reflect(i.prototype, "egret.URLLoaderDataFormat")
}(egret || (egret = {})),
function(t) {
	var i = function(t) {
		function i(i, n, s) {
			var h = t.call(this) || this;
			return h._name = i, h._frame = 0 | n, s && (h._end = 0 | s), h
		}
		return __extends(i, t), Object.defineProperty(i.prototype, "name", {
			get: function() {
				return this._name
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(i.prototype, "frame", {
			get: function() {
				return this._frame
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(i.prototype, "end", {
			get: function() {
				return this._end
			},
			enumerable: !0,
			configurable: !0
		}), i.prototype.clone = function() {
			return new i(this._name, this._frame, this._end)
		}, i
	}(t.EventDispatcher);
	t.FrameLabel = i, __reflect(i.prototype, "egret.FrameLabel")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n() {
			var t = i.call(this) || this;
			return t.$mcData = null, t.numFrames = 1, t.frames = [], t.labels = null, t.events = [], t.frameRate = 0, t.textureData = null, t.spriteSheet = null, t
		}
		return __extends(n, i), n.prototype.$init = function(t, i, n) {
			this.textureData = i, this.spriteSheet = n, this.setMCData(t)
		}, n.prototype.getKeyFrameData = function(t) {
			var i = this.frames[t - 1];
			return i.frame && (i = this.frames[i.frame - 1]), i
		}, n.prototype.getTextureByFrame = function(t) {
			var i = this.getKeyFrameData(t);
			return i.res ? this.getTextureByResName(i.res) : null
		}, n.prototype.$getOffsetByFrame = function(t, i) {
			var n = this.getKeyFrameData(t);
			n.res && i.setTo(0 | n.x, 0 | n.y)
		}, n.prototype.getTextureByResName = function(t) {
			if (null == this.spriteSheet) return null;
			var i = this.spriteSheet.getTexture(t);
			if (!i) {
				var n = this.textureData[t];
				i = this.spriteSheet.createTexture(t, n.x, n.y, n.w, n.h)
			}
			return i
		}, n.prototype.$isDataValid = function() {
			return this.frames.length > 0
		}, n.prototype.$isTextureValid = function() {
			return null != this.textureData && null != this.spriteSheet
		}, n.prototype.$fillMCData = function(t) {
			this.frameRate = t.frameRate || 24, this.fillFramesData(t.frames), this.fillFrameLabelsData(t.labels), this.fillFrameEventsData(t.events)
		}, n.prototype.fillFramesData = function(t) {
			for (var i, n = this.frames, s = t ? t.length : 0, h = 0; h < s; h++) {
				var e = t[h];
				if (n.push(e), e.duration) {
					var r = parseInt(e.duration);
					if (r > 1) {
						i = n.length;
						for (var u = 1; u < r; u++) n.push({
							frame: i
						})
					}
				}
			}
			this.numFrames = n.length
		}, n.prototype.fillFrameLabelsData = function(i) {
			if (i) {
				var n = i.length;
				if (n > 0) {
					this.labels = [];
					for (var s = 0; s < n; s++) {
						var h = i[s];
						this.labels.push(new t.FrameLabel(h.name, h.frame, h.end))
					}
				}
			}
		}, n.prototype.fillFrameEventsData = function(t) {
			if (t) {
				var i = t.length;
				if (i > 0) {
					this.events = [];
					for (var n = 0; n < i; n++) {
						var s = t[n];
						this.events[s.frame] = s.name
					}
				}
			}
		}, Object.defineProperty(n.prototype, "mcData", {
			get: function() {
				return this.$mcData
			},
			set: function(t) {
				this.setMCData(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setMCData = function(t) {
			this.$mcData != t && (this.$mcData = t, t && this.$fillMCData(t))
		}, n.prototype.dispose = function() {
			this.spriteSheet && (this.spriteSheet.dispose(), this.spriteSheet = null)
		}, n
	}(t.HashObject);
	t.MovieClipData = i, __reflect(i.prototype, "egret.MovieClipData")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(t, n) {
			var s = i.call(this) || this;
			return s.enableCache = !1, s.$mcDataCache = {}, s.$mcDataSet = t, s.$setTexture(n), s
		}
		return __extends(n, i), n.getInstance = function() {
			return n._instance || (n._instance = new n), n._instance
		}, n.prototype.clearCache = function() {
			this.$mcDataCache = {}
		}, n.prototype.generateMovieClipData = function(i, n, s) {
			if (void 0 === s && (s = ""), this.$mcDataSet = i, this.$setTexture(n), "" == s && this.$mcDataSet)
				for (s in this.$mcDataSet.mc) break;
			if ("" == s) return null;
			var h = this.findFromCache(s, this.$mcDataCache);
			return h || (h = new t.MovieClipData, this.fillData(s, h, this.$mcDataCache)), h
		}, n.prototype.findFromCache = function(t, i) {
			return this.enableCache && i[t] ? i[t] : null
		}, n.prototype.fillData = function(t, i, n) {
			if (this.$mcDataSet) {
				var s = this.$mcDataSet.mc[t];
				s && (i.$init(s, this.$mcDataSet.res, this.$spriteSheet), this.enableCache && (n[t] = i))
			}
		}, Object.defineProperty(n.prototype, "mcDataSet", {
			get: function() {
				return this.$mcDataSet
			},
			set: function(t) {
				this.$mcDataSet = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "texture", {
			set: function(t) {
				this.$setTexture(t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "spriteSheet", {
			get: function() {
				return this.$spriteSheet
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$setTexture = function(i) {
			this.$spriteSheet = i ? new t.SpriteSheet(i) : null
		}, n
	}(t.EventDispatcher);
	t.MovieClipDataFactory = i, __reflect(i.prototype, "egret.MovieClipDataFactory")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(t, n, s, h) {
			void 0 === n && (n = !1), void 0 === s && (s = !1), void 0 === h && (h = null);
			var e = i.call(this, t, n, s) || this;
			return e.frameLabel = null, e.frameLabel = h, e
		}
		return __extends(n, i), n.dispatchMovieClipEvent = function(i, s, h) {
			void 0 === h && (h = null);
			var e = t.Event.create(n, s);
			e.frameLabel = h;
			var r = i.dispatchEvent(e);
			return t.Event.release(e), r
		}, n.FRAME_LABEL = "frame_label", n
	}(t.Event);
	t.MovieClipEvent = i, __reflect(i.prototype, "egret.MovieClipEvent")
}(egret || (egret = {})),
function(t) {
	var i = function() {
		function i() {
			t.$error(1014)
		}
		return i.get = function(t) {
			return t < -1 && (t = -1), t > 1 && (t = 1),
				function(i) {
					return 0 == t ? i : t < 0 ? i * (i * -t + 1 + t) : i * ((2 - i) * t + (1 - t))
				}
		}, i.getPowOut = function(t) {
			return function(i) {
				return 1 - Math.pow(1 - i, t)
			}
		}, i.quintOut = i.getPowOut(5), i.quartOut = i.getPowOut(4), i
	}();
	t.ScrollEase = i, __reflect(i.prototype, "egret.ScrollEase");
	var n = function(i) {
		function n(t, n, s) {
			var h = i.call(this) || this;
			return h._target = null, h._useTicks = !1, h.ignoreGlobalPause = !1, h.loop = !1, h.pluginData = null, h._steps = null, h._actions = null, h.paused = !1, h.duration = 0, h._prevPos = -1, h.position = null, h._prevPosition = 0, h._stepPosition = 0, h.passive = !1, h.initialize(t, n, s), h
		}
		return __extends(n, i), n.get = function(t, i, s, h) {
			return void 0 === i && (i = null), void 0 === s && (s = null), void 0 === h && (h = !1), h && n.removeTweens(t), new n(t, i, s)
		}, n.removeTweens = function(t) {
			if (t.tween_count) {
				for (var i = n._tweens, s = i.length - 1; s >= 0; s--) i[s]._target == t && (i[s].paused = !0, i.splice(s, 1));
				t.tween_count = 0
			}
		}, n.tick = function(t, i) {
			void 0 === i && (i = !1);
			var s = t - n._lastTime;
			n._lastTime = t;
			for (var h = n._tweens.concat(), e = h.length - 1; e >= 0; e--) {
				var r = h[e];
				i && !r.ignoreGlobalPause || r.paused || r.tick(r._useTicks ? 1 : s)
			}
			return !1
		}, n._register = function(i, s) {
			var h = i._target,
				e = n._tweens;
			if (s) h && (h.tween_count = h.tween_count > 0 ? h.tween_count + 1 : 1), e.push(i), n._inited || (n._lastTime = t.getTimer(), t.ticker.$startTick(n.tick, null), n._inited = !0);
			else {
				h && h.tween_count--;
				for (var r = e.length; r--;)
					if (e[r] == i) return void e.splice(r, 1)
			}
		}, n.prototype.initialize = function(t, i, s) {
			this._target = t, i && (this._useTicks = i.useTicks, this.ignoreGlobalPause = i.ignoreGlobalPause, this.loop = i.loop, i.onChange && this.addEventListener("change", i.onChange, i.onChangeObj), i.override && n.removeTweens(t)), this.pluginData = s || {}, this._curQueueProps = {}, this._initQueueProps = {}, this._steps = [], this._actions = [], i && i.paused ? this.paused = !0 : n._register(this, !0), i && null != i.position && this.setPosition(i.position)
		}, n.prototype.setPosition = function(t, i) {
			void 0 === i && (i = 1), t < 0 && (t = 0);
			var n = t,
				s = !1;
			if (n >= this.duration && (this.loop ? n %= this.duration : (n = this.duration, s = !0)), n == this._prevPos) return s;
			var h = this._prevPos;
			if (this.position = this._prevPos = n, this._prevPosition = t, this._target)
				if (s) this._updateTargetProps(null, 1);
				else if (this._steps.length > 0) {
				var e = void 0,
					r = this._steps.length;
				for (e = 0; e < r && !(this._steps[e].t > n); e++);
				var u = this._steps[e - 1];
				this._updateTargetProps(u, (this._stepPosition = n - u.t) / u.d)
			}
			return s && this.setPaused(!0), 0 != i && this._actions.length > 0 && (this._useTicks ? this._runActions(n, n) : 1 == i && n < h ? (h != this.duration && this._runActions(h, this.duration), this._runActions(0, n, !0)) : this._runActions(h, n)), this.dispatchEventWith("change"), s
		}, n.prototype._runActions = function(t, i, n) {
			void 0 === n && (n = !1);
			var s = t,
				h = i,
				e = -1,
				r = this._actions.length,
				u = 1;
			for (t > i && (s = i, h = t, e = r, r = u = -1);
				(e += u) != r;) {
				var o = this._actions[e],
					f = o.t;
				(f == h || f > s && f < h || n && f == t) && o.f.apply(o.o, o.p)
			}
		}, n.prototype._updateTargetProps = function(t, i) {
			var s, h, e, r, u, o;
			if (t || 1 != i) {
				if (this.passive = !!t.v, this.passive) return;
				t.e && (i = t.e(i, 0, 1, 1)), s = t.p0, h = t.p1
			} else this.passive = !1, s = h = this._curQueueProps;
			for (var f in this._initQueueProps) {
				null == (r = s[f]) && (s[f] = r = this._initQueueProps[f]), null == (u = h[f]) && (h[f] = u = r), e = r == u || 0 == i || 1 == i || "number" != typeof r ? 1 == i ? u : r : r + (u - r) * i;
				var c = !1;
				if (o = n._plugins[f])
					for (var a = 0, l = o.length; a < l; a++) {
						var v = o[a].tween(this, f, e, s, h, i, !!t && s == h, !t);
						v == n.IGNORE ? c = !0 : e = v
					}
				c || (this._target[f] = e)
			}
		}, n.prototype.setPaused = function(t) {
			return this.paused = t, n._register(this, !t), this
		}, n.prototype._cloneProps = function(t) {
			var i = {};
			for (var n in t) i[n] = t[n];
			return i
		}, n.prototype._addStep = function(t) {
			return t.d > 0 && (this._steps.push(t), t.t = this.duration, this.duration += t.d), this
		}, n.prototype._appendQueueProps = function(t) {
			var i, s, h, e, r;
			for (var u in t)
				if (void 0 === this._initQueueProps[u]) {
					if (s = this._target[u], i = n._plugins[u])
						for (h = 0, e = i.length; h < e; h++) s = i[h].init(this, u, s);
					this._initQueueProps[u] = this._curQueueProps[u] = void 0 === s ? null : s
				} else s = this._curQueueProps[u];
			for (var u in t) {
				if (s = this._curQueueProps[u], i = n._plugins[u])
					for (r = r || {}, h = 0, e = i.length; h < e; h++) i[h].step && i[h].step(this, u, s, t[u], r);
				this._curQueueProps[u] = t[u]
			}
			return r && this._appendQueueProps(r), this._curQueueProps
		}, n.prototype._addAction = function(t) {
			return t.t = this.duration, this._actions.push(t), this
		}, n.prototype.to = function(t, i, n) {
			return void 0 === n && (n = void 0), (isNaN(i) || i < 0) && (i = 0), this._addStep({
				d: i || 0,
				p0: this._cloneProps(this._curQueueProps),
				e: n,
				p1: this._cloneProps(this._appendQueueProps(t))
			})
		}, n.prototype.call = function(t, i, n) {
			return void 0 === i && (i = void 0), void 0 === n && (n = void 0), this._addAction({
				f: t,
				p: n || [],
				o: i || this._target
			})
		}, n.prototype.tick = function(t) {
			this.paused || this.setPosition(this._prevPosition + t)
		}, n._tweens = [], n.IGNORE = {}, n._plugins = {}, n._inited = !1, n._lastTime = 0, n
	}(t.EventDispatcher);
	t.ScrollTween = n, __reflect(n.prototype, "egret.ScrollTween")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(n) {
			void 0 === n && (n = null);
			var s = i.call(this) || this;
			return s.scrollBeginThreshold = 10, s.scrollSpeed = 1, s._content = null, s.delayTouchBeginEvent = null, s.touchBeginTimer = null, s.touchEnabled = !0, s._ScrV_Props_ = new t.ScrollViewProperties, n && s.setContent(n), s
		}
		return __extends(n, i), Object.defineProperty(n.prototype, "bounces", {
			get: function() {
				return this._ScrV_Props_._bounces
			},
			set: function(t) {
				this._ScrV_Props_._bounces = !!t
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setContent = function(t) {
			this._content !== t && (this.removeContent(), t && (this._content = t, i.prototype.addChild.call(this, t), this._addEvents()))
		}, n.prototype.removeContent = function() {
			this._content && (this._removeEvents(), i.prototype.removeChildAt.call(this, 0)), this._content = null
		}, Object.defineProperty(n.prototype, "verticalScrollPolicy", {
			get: function() {
				return this._ScrV_Props_._verticalScrollPolicy
			},
			set: function(t) {
				t != this._ScrV_Props_._verticalScrollPolicy && (this._ScrV_Props_._verticalScrollPolicy = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "horizontalScrollPolicy", {
			get: function() {
				return this._ScrV_Props_._horizontalScrollPolicy
			},
			set: function(t) {
				t != this._ScrV_Props_._horizontalScrollPolicy && (this._ScrV_Props_._horizontalScrollPolicy = t)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "scrollLeft", {
			get: function() {
				return this._ScrV_Props_._scrollLeft
			},
			set: function(t) {
				t != this._ScrV_Props_._scrollLeft && (this._ScrV_Props_._scrollLeft = t, this._validatePosition(!1, !0), this._updateContentPosition())
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "scrollTop", {
			get: function() {
				return this._ScrV_Props_._scrollTop
			},
			set: function(t) {
				t != this._ScrV_Props_._scrollTop && (this._ScrV_Props_._scrollTop = t, this._validatePosition(!0, !1), this._updateContentPosition())
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setScrollPosition = function(t, i, n) {
			if (void 0 === n && (n = !1), (!n || 0 != t || 0 != i) && (n || this._ScrV_Props_._scrollTop != t || this._ScrV_Props_._scrollLeft != i)) {
				var s = this._ScrV_Props_._scrollTop,
					h = this._ScrV_Props_._scrollLeft;
				if (n) {
					var e = this.getMaxScrollLeft(),
						r = this.getMaxScrollTop();
					(s <= 0 || s >= r) && (t /= 2), (h <= 0 || h >= e) && (i /= 2);
					var u = s + t,
						o = h + i;
					this._ScrV_Props_._bounces || ((u <= 0 || u >= r) && (u = Math.max(0, Math.min(u, r))), (o <= 0 || o >= e) && (o = Math.max(0, Math.min(o, e)))), this._ScrV_Props_._scrollTop = u, this._ScrV_Props_._scrollLeft = o
				} else this._ScrV_Props_._scrollTop = t, this._ScrV_Props_._scrollLeft = i;
				this._validatePosition(!0, !0), this._updateContentPosition()
			}
		}, n.prototype._validatePosition = function(t, i) {
			if (void 0 === t && (t = !1), void 0 === i && (i = !1), t) {
				var n = this.height,
					s = this._getContentHeight();
				this._ScrV_Props_._scrollTop = Math.max(this._ScrV_Props_._scrollTop, (0 - n) / 2), this._ScrV_Props_._scrollTop = Math.min(this._ScrV_Props_._scrollTop, s > n ? s - n / 2 : n / 2)
			}
			if (i) {
				var h = this.width,
					e = this._getContentWidth();
				this._ScrV_Props_._scrollLeft = Math.max(this._ScrV_Props_._scrollLeft, (0 - h) / 2), this._ScrV_Props_._scrollLeft = Math.min(this._ScrV_Props_._scrollLeft, e > h ? e - h / 2 : h / 2)
			}
		}, n.prototype.$setWidth = function(t) {
			this.$explicitWidth != t && (i.prototype.$setWidth.call(this, t), this._updateContentPosition())
		}, n.prototype.$setHeight = function(t) {
			this.$explicitHeight != t && (i.prototype.$setHeight.call(this, t), this._updateContentPosition())
		}, n.prototype._updateContentPosition = function() {
			var i = this.height,
				n = this.width;
			this.scrollRect = new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft), Math.round(this._ScrV_Props_._scrollTop), n, i), this.dispatchEvent(new t.Event(t.Event.CHANGE))
		}, n.prototype._checkScrollPolicy = function() {
			var t = this._ScrV_Props_._horizontalScrollPolicy,
				i = this.__checkScrollPolicy(t, this._getContentWidth(), this.width);
			this._ScrV_Props_._hCanScroll = i;
			var n = this._ScrV_Props_._verticalScrollPolicy,
				s = this.__checkScrollPolicy(n, this._getContentHeight(), this.height);
			return this._ScrV_Props_._vCanScroll = s, i || s
		}, n.prototype.__checkScrollPolicy = function(t, i, n) {
			return "on" == t || "off" != t && i > n
		}, n.prototype._addEvents = function() {
			this.addEventListener(t.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this), this.addEventListener(t.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0), this.addEventListener(t.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
		}, n.prototype._removeEvents = function() {
			this.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this), this.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0), this.removeEventListener(t.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
		}, n.prototype._onTouchBegin = function(i) {
			i.$isDefaultPrevented || this._checkScrollPolicy() && (this._ScrV_Props_._touchStartPosition.x = i.stageX, this._ScrV_Props_._touchStartPosition.y = i.stageY, (this._ScrV_Props_._isHTweenPlaying || this._ScrV_Props_._isVTweenPlaying) && this._onScrollFinished(), this._tempStage = this.stage, this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this._tempStage.addEventListener(t.TouchEvent.TOUCH_END, this._onTouchEnd, this), this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this), this.addEventListener(t.Event.ENTER_FRAME, this._onEnterFrame, this), this._logTouchEvent(i), i.preventDefault())
		}, n.prototype._onTouchBeginCapture = function(i) {
			var n = this._checkScrollPolicy();
			if (n) {
				for (var s = i.target; s != this;) {
					if ("_checkScrollPolicy" in s && (n = s._checkScrollPolicy())) return;
					s = s.parent
				}
				i.stopPropagation();
				var h = this.cloneTouchEvent(i);
				this.delayTouchBeginEvent = h, this.touchBeginTimer || (this.touchBeginTimer = new t.Timer(100, 1), this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE, this._onTouchBeginTimer, this)), this.touchBeginTimer.start(), this._onTouchBegin(i)
			}
		}, n.prototype._onTouchEndCapture = function(i) {
			var n = this;
			if (this.delayTouchBeginEvent) {
				this._onTouchBeginTimer(), i.stopPropagation();
				var s = this.cloneTouchEvent(i);
				t.callLater((function() {
					n.stage && n.dispatchPropagationEvent(s)
				}), this)
			}
		}, n.prototype._onTouchBeginTimer = function() {
			this.touchBeginTimer.stop();
			var t = this.delayTouchBeginEvent;
			this.delayTouchBeginEvent = null, this.stage && this.dispatchPropagationEvent(t)
		}, n.prototype.dispatchPropagationEvent = function(i) {
			for (var n = i.$target, s = this.$getPropagationList(n), h = s.length, e = .5 * s.length, r = -1, u = 0; u < h; u++)
				if (s[u] === this._content) {
					r = u;
					break
				}
			s.splice(0, r + 1), e -= r + 1, this.$dispatchPropagationEvent(i, s, e), t.Event.release(i)
		}, n.prototype._onTouchMove = function(t) {
			if (this._ScrV_Props_._lastTouchPosition.x != t.stageX || this._ScrV_Props_._lastTouchPosition.y != t.stageY) {
				if (!this._ScrV_Props_._scrollStarted) {
					var i = t.stageX - this._ScrV_Props_._touchStartPosition.x,
						n = t.stageY - this._ScrV_Props_._touchStartPosition.y;
					if (Math.sqrt(i * i + n * n) < this.scrollBeginThreshold) return void this._logTouchEvent(t)
				}
				this._ScrV_Props_._scrollStarted = !0, this.delayTouchBeginEvent && (this.delayTouchBeginEvent = null, this.touchBeginTimer.stop()), this.touchChildren = !1;
				var s = this._getPointChange(t);
				this.setScrollPosition(s.y, s.x, !0), this._calcVelocitys(t), this._logTouchEvent(t)
			}
		}, n.prototype._onTouchEnd = function(i) {
			this.touchChildren = !0, this._ScrV_Props_._scrollStarted = !1, this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END, this._onTouchEnd, this), this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this), this.removeEventListener(t.Event.ENTER_FRAME, this._onEnterFrame, this), this._moveAfterTouchEnd()
		}, n.prototype._onEnterFrame = function(i) {
			var n = t.getTimer();
			n - this._ScrV_Props_._lastTouchTime > 100 && n - this._ScrV_Props_._lastTouchTime < 300 && this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)
		}, n.prototype._logTouchEvent = function(i) {
			this._ScrV_Props_._lastTouchPosition.x = i.stageX, this._ScrV_Props_._lastTouchPosition.y = i.stageY, this._ScrV_Props_._lastTouchEvent = this.cloneTouchEvent(i), this._ScrV_Props_._lastTouchTime = t.getTimer()
		}, n.prototype._getPointChange = function(t) {
			return {
				x: !1 === this._ScrV_Props_._hCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.x - t.stageX,
				y: !1 === this._ScrV_Props_._vCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.y - t.stageY
			}
		}, n.prototype._calcVelocitys = function(i) {
			var n = t.getTimer();
			if (0 != this._ScrV_Props_._lastTouchTime) {
				var s = this._getPointChange(i),
					h = n - this._ScrV_Props_._lastTouchTime;
				s.x /= h, s.y /= h, this._ScrV_Props_._velocitys.push(s), this._ScrV_Props_._velocitys.length > 5 && this._ScrV_Props_._velocitys.shift(), this._ScrV_Props_._lastTouchPosition.x = i.stageX, this._ScrV_Props_._lastTouchPosition.y = i.stageY
			} else this._ScrV_Props_._lastTouchTime = n
		}, n.prototype._getContentWidth = function() {
			return this._content.$explicitWidth || this._content.width
		}, n.prototype._getContentHeight = function() {
			return this._content.$explicitHeight || this._content.height
		}, n.prototype.getMaxScrollLeft = function() {
			var t = this._getContentWidth() - this.width;
			return Math.max(0, t)
		}, n.prototype.getMaxScrollTop = function() {
			var t = this._getContentHeight() - this.height;
			return Math.max(0, t)
		}, n.prototype._moveAfterTouchEnd = function() {
			if (0 != this._ScrV_Props_._velocitys.length) {
				for (var t = {
						x: 0,
						y: 0
					}, i = 0, s = 0; s < this._ScrV_Props_._velocitys.length; s++) {
					var h = this._ScrV_Props_._velocitys[s],
						e = n.weight[s];
					t.x += h.x * e, t.y += h.y * e, i += e
				}
				this._ScrV_Props_._velocitys.length = 0, this.scrollSpeed <= 0 && (this.scrollSpeed = 1);
				var r = t.x / i * this.scrollSpeed,
					u = t.y / i * this.scrollSpeed,
					o = Math.abs(r),
					f = Math.abs(u),
					c = this.getMaxScrollLeft(),
					a = this.getMaxScrollTop(),
					l = o > .02 ? this.getAnimationDatas(r, this._ScrV_Props_._scrollLeft, c) : {
						position: this._ScrV_Props_._scrollLeft,
						duration: 1
					},
					v = f > .02 ? this.getAnimationDatas(u, this._ScrV_Props_._scrollTop, a) : {
						position: this._ScrV_Props_._scrollTop,
						duration: 1
					};
				this.setScrollLeft(l.position, l.duration), this.setScrollTop(v.position, v.duration)
			}
		}, n.prototype.onTweenFinished = function(t) {
			t == this._ScrV_Props_._vScrollTween && (this._ScrV_Props_._isVTweenPlaying = !1), t == this._ScrV_Props_._hScrollTween && (this._ScrV_Props_._isHTweenPlaying = !1), 0 == this._ScrV_Props_._isHTweenPlaying && 0 == this._ScrV_Props_._isVTweenPlaying && this._onScrollFinished()
		}, n.prototype._onScrollStarted = function() {}, n.prototype._onScrollFinished = function() {
			t.ScrollTween.removeTweens(this), this._ScrV_Props_._hScrollTween = null, this._ScrV_Props_._vScrollTween = null, this._ScrV_Props_._isHTweenPlaying = !1, this._ScrV_Props_._isVTweenPlaying = !1, this.dispatchEvent(new t.Event(t.Event.COMPLETE))
		}, n.prototype.setScrollTop = function(i, n) {
			void 0 === n && (n = 0);
			var s = Math.min(this.getMaxScrollTop(), Math.max(i, 0));
			if (0 != n) {
				0 == this._ScrV_Props_._bounces && (i = s);
				var h = t.ScrollTween.get(this).to({
					scrollTop: i
				}, n, t.ScrollEase.quartOut);
				s != i && h.to({
					scrollTop: s
				}, 300, t.ScrollEase.quintOut), this._ScrV_Props_._isVTweenPlaying = !0, this._ScrV_Props_._vScrollTween = h, h.call(this.onTweenFinished, this, [h]), this._ScrV_Props_._isHTweenPlaying || this._onScrollStarted()
			} else this.scrollTop = s
		}, n.prototype.setScrollLeft = function(i, n) {
			void 0 === n && (n = 0);
			var s = Math.min(this.getMaxScrollLeft(), Math.max(i, 0));
			if (0 != n) {
				0 == this._ScrV_Props_._bounces && (i = s);
				var h = t.ScrollTween.get(this).to({
					scrollLeft: i
				}, n, t.ScrollEase.quartOut);
				s != i && h.to({
					scrollLeft: s
				}, 300, t.ScrollEase.quintOut), this._ScrV_Props_._isHTweenPlaying = !0, this._ScrV_Props_._hScrollTween = h, h.call(this.onTweenFinished, this, [h]), this._ScrV_Props_._isVTweenPlaying || this._onScrollStarted()
			} else this.scrollLeft = s
		}, n.prototype.getAnimationDatas = function(t, i, n) {
			var s = Math.abs(t),
				h = 0,
				e = i + 500 * t;
			if (e < 0 || e > n)
				for (e = i; Math.abs(t) != 1 / 0 && Math.abs(t) > .02;) t *= (e += t) < 0 || e > n ? .998 * .95 : .998, h++;
			else h = 500 * -Math.log(.02 / s);
			return {
				position: Math.min(n + 50, Math.max(e, -50)),
				duration: h
			}
		}, n.prototype.cloneTouchEvent = function(i) {
			var n = new t.TouchEvent(i.type, i.bubbles, i.cancelable);
			return n.touchPointID = i.touchPointID, n.$stageX = i.stageX, n.$stageY = i.stageY, n.touchDown = i.touchDown, n.$isDefaultPrevented = !1, n.$target = i.target, n
		}, n.prototype.throwNotSupportedError = function() {
			t.$error(1023)
		}, n.prototype.addChild = function(t) {
			return this.throwNotSupportedError(), null
		}, n.prototype.addChildAt = function(t, i) {
			return this.throwNotSupportedError(), null
		}, n.prototype.removeChild = function(t) {
			return this.throwNotSupportedError(), null
		}, n.prototype.removeChildAt = function(t) {
			return this.throwNotSupportedError(), null
		}, n.prototype.setChildIndex = function(t, i) {
			this.throwNotSupportedError()
		}, n.prototype.swapChildren = function(t, i) {
			this.throwNotSupportedError()
		}, n.prototype.swapChildrenAt = function(t, i) {
			this.throwNotSupportedError()
		}, n.weight = [1, 1.33, 1.66, 2, 2.33], n
	}(t.DisplayObjectContainer);
	t.ScrollView = i, __reflect(i.prototype, "egret.ScrollView")
}(egret || (egret = {})),
function(t) {
	var i = function() {
		this._verticalScrollPolicy = "auto", this._horizontalScrollPolicy = "auto", this._scrollLeft = 0, this._scrollTop = 0, this._hCanScroll = !1, this._vCanScroll = !1, this._lastTouchPosition = new t.Point(0, 0), this._touchStartPosition = new t.Point(0, 0), this._scrollStarted = !1, this._lastTouchTime = 0, this._lastTouchEvent = null, this._velocitys = [], this._isHTweenPlaying = !1, this._isVTweenPlaying = !1, this._hScrollTween = null, this._vScrollTween = null, this._bounces = !0
	};
	t.ScrollViewProperties = i, __reflect(i.prototype, "egret.ScrollViewProperties")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(n) {
			void 0 === n && (n = null);
			var s = i.call(this) || this;
			return s.dataFormat = t.URLLoaderDataFormat.TEXT, s.data = null, s._request = null, s._status = -1, n && s.load(n), s
		}
		return __extends(n, i), n.prototype.load = function(i) {
			this._request = i, this.data = null;
			var n = this;
			if (n.dataFormat != t.URLLoaderDataFormat.TEXTURE)
				if (n.dataFormat != t.URLLoaderDataFormat.SOUND) {
					var s, h = function(i) {
							var n = i.url;
							return -1 == n.indexOf("?") && i.method == t.URLRequestMethod.GET && i.data && i.data instanceof t.URLVariables && (n = n + "?" + i.data.toString()), n
						}(i),
						e = new t.HttpRequest;
					e.open(h, i.method == t.URLRequestMethod.POST ? t.HttpMethod.POST : t.HttpMethod.GET), i.method != t.URLRequestMethod.GET && i.data && (i.data instanceof t.URLVariables ? (e.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), s = i.data.toString()) : (e.setRequestHeader("Content-Type", "multipart/form-data"), s = i.data));
					for (var r = i.requestHeaders.length, u = 0; u < r; u++) {
						var o = i.requestHeaders[u];
						e.setRequestHeader(o.name, o.value)
					}
					e.addEventListener(t.Event.COMPLETE, (function() {
						n.data = e.response, t.Event.dispatchEvent(n, t.Event.COMPLETE)
					}), this), e.addEventListener(t.IOErrorEvent.IO_ERROR, (function() {
						t.IOErrorEvent.dispatchIOErrorEvent(n)
					}), this), e.responseType = n.dataFormat == t.URLLoaderDataFormat.BINARY ? t.HttpResponseType.ARRAY_BUFFER : t.HttpResponseType.TEXT, e.send(s)
				} else this.loadSound(n);
			else this.loadTexture(n)
		}, n.prototype.getResponseType = function(i) {
			switch (i) {
				case t.URLLoaderDataFormat.TEXT:
				case t.URLLoaderDataFormat.VARIABLES:
					return t.URLLoaderDataFormat.TEXT;
				case t.URLLoaderDataFormat.BINARY:
					return "arraybuffer";
				default:
					return i
			}
		}, n.prototype.loadSound = function(i) {
			var n = i._request.url,
				s = new t.Sound;
			this.sound = s, s.addEventListener(t.Event.COMPLETE, this.onSoundoadComplete, this), s.addEventListener(t.IOErrorEvent.IO_ERROR, this.onSoundLoaderError, this), s.addEventListener(t.ProgressEvent.PROGRESS, this.onSoundLoaderPostProgress, this), s.load(n)
		}, n.prototype.onSoundoadComplete = function(i) {
			var n = this;
			this.removeSoundLoaderListeners(), this.data = this.sound, window.setTimeout((function() {
				n.dispatchEventWith(t.Event.COMPLETE)
			}), 0)
		}, n.prototype.onSoundLoaderPostProgress = function(t) {
			this.dispatchEvent(t)
		}, n.prototype.onSoundLoaderError = function(t) {
			this.dispatchEvent(t)
		}, n.prototype.removeSoundLoaderListeners = function() {
			this.sound.removeEventListener(t.Event.COMPLETE, this.onSoundoadComplete, this), this.sound.removeEventListener(t.IOErrorEvent.IO_ERROR, this.onSoundLoaderError, this), this.sound.removeEventListener(t.ProgressEvent.PROGRESS, this.onSoundLoaderPostProgress, this)
		}, n.prototype.loadTexture = function(i) {
			this.virtualUrl = i._request.url;
			var n = new t.ImageLoader;
			this.imageLoader = n, n.addEventListener(t.Event.COMPLETE, this.onImageLoadComplete, this), n.addEventListener(t.IOErrorEvent.IO_ERROR, this.onImageLoaderError, this), n.addEventListener(t.ProgressEvent.PROGRESS, this.onImageLoaderPostProgress, this), n.load(this.virtualUrl)
		}, n.prototype.onImageLoadComplete = function(i) {
			var n = this;
			this.removeImageLoaderListeners();
			var s = new t.Texture,
				h = this.imageLoader.data;
			h.source.setAttribute && h.source.setAttribute("bitmapSrc", this.virtualUrl), s._setBitmapData(h), this.data = s, window.setTimeout((function() {
				n.dispatchEventWith(t.Event.COMPLETE)
			}), 0)
		}, n.prototype.onImageLoaderPostProgress = function(t) {
			this.dispatchEvent(t)
		}, n.prototype.onImageLoaderError = function(t) {
			this.dispatchEvent(t)
		}, n.prototype.removeImageLoaderListeners = function() {
			this.imageLoader.removeEventListener(t.Event.COMPLETE, this.onImageLoadComplete, this), this.imageLoader.removeEventListener(t.IOErrorEvent.IO_ERROR, this.onImageLoaderError, this), this.imageLoader.removeEventListener(t.ProgressEvent.PROGRESS, this.onImageLoaderPostProgress, this)
		}, n.prototype.__recycle = function() {
			this._request = null, this.data = null
		}, n
	}(t.EventDispatcher);
	t.URLLoader = i, __reflect(i.prototype, "egret.URLLoader")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(n) {
			var s = i.call(this) || this;
			return s.$texture = null, s.offsetPoint = t.Point.create(0, 0), s.$movieClipData = null, s.frames = null, s.$totalFrames = 0, s.frameLabels = null, s.$frameLabelStart = 0, s.$frameLabelEnd = 0, s.frameEvents = null, s.frameIntervalTime = 0, s.$eventPool = null, s.$isPlaying = !1, s.isStopped = !0, s.playTimes = 0, s.$currentFrameNum = 0, s.$nextFrameNum = 1, s.displayedKeyFrameNum = 0, s.passedTime = 0, s.$frameRate = NaN, s.lastTime = 0, s.hidePause = !1, s.$smoothing = t.Bitmap.defaultSmoothing, s.setMovieClipData(n), t.nativeRender || (s.$renderNode = new t.sys.NormalBitmapNode, s.$renderNode.bitmap = s), s
		}
		return __extends(n, i), n.prototype.createNativeDisplayObject = function() {
			this.$nativeDisplayObject = new egret_native.NativeDisplayObject(11)
		}, Object.defineProperty(n.prototype, "smoothing", {
			get: function() {
				return this.$smoothing
			},
			set: function(t) {
				t != this.$smoothing && (this.$smoothing = t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.$init = function() {
			this.$reset();
			var t = this.$movieClipData;
			t && t.$isDataValid() && (this.frames = t.frames, this.$totalFrames = t.numFrames, this.frameLabels = t.labels, this.frameEvents = t.events, this.$frameRate = t.frameRate, this.frameIntervalTime = 1e3 / this.$frameRate, this._initFrame())
		}, n.prototype.$reset = function() {
			this.frames = null, this.playTimes = 0, this.$isPlaying = !1, this.setIsStopped(!0), this.$currentFrameNum = 0, this.$nextFrameNum = 1, this.displayedKeyFrameNum = 0, this.passedTime = 0, this.$eventPool = []
		}, n.prototype._initFrame = function() {
			this.$movieClipData.$isTextureValid() && (this.advanceFrame(), this.constructFrame())
		}, n.prototype.$updateRenderNode = function() {
			var i = this.$texture;
			if (i) {
				var n = Math.round(this.offsetPoint.x),
					s = Math.round(this.offsetPoint.y),
					h = i.$bitmapWidth,
					e = i.$bitmapHeight,
					r = i.$getTextureWidth(),
					u = i.$getTextureHeight(),
					o = Math.round(i.$getScaleBitmapWidth()),
					f = Math.round(i.$getScaleBitmapHeight()),
					c = i.$sourceWidth,
					a = i.$sourceHeight;
				t.sys.BitmapNode.$updateTextureData(this.$renderNode, i.$bitmapData, i.$bitmapX, i.$bitmapY, h, e, n, s, r, u, o, f, c, a, t.BitmapFillMode.SCALE, this.$smoothing)
			}
		}, n.prototype.$measureContentBounds = function(t) {
			var i = this.$texture;
			if (i) {
				var n = this.offsetPoint.x,
					s = this.offsetPoint.y,
					h = i.$getTextureWidth(),
					e = i.$getTextureHeight();
				t.setTo(n, s, h, e)
			} else t.setEmpty()
		}, n.prototype.$onVisibleChanged = function(t) {
			if (this.$stage) {
				var i = this.$texture;
				i && i.$bitmapData && (t ? i.$bitmapData.addReference() : i.$bitmapData.removeReference())
			}
		}, n.prototype.$onAddToStage = function(t, n) {
			i.prototype.$onAddToStage.call(this, t, n), this.$texture && this.$texture.$bitmapData && this.isVisible && this.$texture.$bitmapData.addReference(), this.$isPlaying && this.$totalFrames > 1 && this.setIsStopped(!1);
			for (var s = this; s && s !== this.$stage;) {
				if (s.hidePauseMC) return void(this.hidePause = !0);
				s = s.parent
			}
		}, n.prototype.$onRemoveFromStage = function() {
			i.prototype.$onRemoveFromStage.call(this), this.setIsStopped(!0), this.$texture && this.$texture.$bitmapData && this.isVisible && this.$texture.$bitmapData.removeReference(), this.$movieClipData && this.$movieClipData.dispose()
		}, n.prototype.getFrameLabelByName = function(t, i) {
			void 0 === i && (i = !1), i && (t = t.toLowerCase());
			var n = this.frameLabels;
			if (n)
				for (var s = null, h = 0; h < n.length; h++)
					if (s = n[h], i ? s.name.toLowerCase() == t : s.name == t) return s;
			return null
		}, n.prototype.getFrameStartEnd = function(t) {
			var i = this.frameLabels;
			if (i)
				for (var n = null, s = 0; s < i.length; s++)
					if (t == (n = i[s]).name) {
						this.$frameLabelStart = n.frame, this.$frameLabelEnd = n.end;
						break
					}
		}, n.prototype.getFrameLabelByFrame = function(t) {
			var i = this.frameLabels;
			if (i)
				for (var n = null, s = 0; s < i.length; s++)
					if ((n = i[s]).frame == t) return n;
			return null
		}, n.prototype.getFrameLabelForFrame = function(t) {
			var i = null,
				n = null,
				s = this.frameLabels;
			if (s)
				for (var h = 0; h < s.length; h++) {
					if ((n = s[h]).frame > t) return i;
					i = n
				}
			return i
		}, n.prototype.play = function(i) {
			void 0 === i && (i = 0), this.lastTime = t.getTimer(), this.passedTime = 0, this.$isPlaying = !0, this.setPlayTimes(i), this.$totalFrames > 1 && this.$stage && this.setIsStopped(!1)
		}, n.prototype.stop = function() {
			this.$isPlaying = !1, this.setIsStopped(!0)
		}, n.prototype.prevFrame = function() {
			this.gotoAndStop(this.$currentFrameNum - 1)
		}, n.prototype.nextFrame = function() {
			this.gotoAndStop(this.$currentFrameNum + 1)
		}, n.prototype.gotoAndPlay = function(i, n) {
			void 0 === n && (n = 0), (0 == arguments.length || arguments.length > 2) && t.$error(1022, "MovieClip.gotoAndPlay()"), "string" == typeof i ? this.getFrameStartEnd(i) : (this.$frameLabelStart = 0, this.$frameLabelEnd = 0), this.play(n), this.gotoFrame(i)
		}, n.prototype.gotoAndStop = function(i) {
			1 != arguments.length && t.$error(1022, "MovieClip.gotoAndStop()"), this.stop(), this.gotoFrame(i)
		}, n.prototype.gotoFrame = function(i) {
			var n;
			"string" == typeof i ? n = this.getFrameLabelByName(i).frame : (n = parseInt(i + "", 10)) != i && t.$error(1022, "Frame Label Not Found"), n < 1 ? n = 1 : n > this.$totalFrames && (n = this.$totalFrames), n != this.$nextFrameNum && (this.$nextFrameNum = n, this.advanceFrame(), this.constructFrame(), this.handlePendingEvent())
		}, n.prototype.advanceTime = function(i) {
			var n = this.isVisible;
			if (n || !this.hidePause) {
				var s = i - this.lastTime;
				this.lastTime = i;
				var h = this.frameIntervalTime,
					e = this.passedTime + s;
				this.passedTime = e % h;
				var r = e / h;
				if (r < 1) return !1;
				for (; r >= 1;) {
					if (r--, this.$nextFrameNum++, this.$nextFrameNum > this.$totalFrames || this.$frameLabelStart > 0 && this.$nextFrameNum > this.$frameLabelEnd)
						if (-1 == this.playTimes) this.$eventPool.push(t.Event.LOOP_COMPLETE), this.$nextFrameNum = 1;
						else {
							if (this.playTimes--, !(this.playTimes > 0)) {
								this.$nextFrameNum = this.$totalFrames, this.$eventPool.push(t.Event.COMPLETE), this.stop();
								break
							}
							this.$eventPool.push(t.Event.LOOP_COMPLETE), this.$nextFrameNum = 1
						}
					this.$currentFrameNum == this.$frameLabelEnd && (this.$nextFrameNum = this.$frameLabelStart), this.advanceFrame()
				}
				return n && this.constructFrame(), this.handlePendingEvent(), !1
			}
		}, n.prototype.advanceFrame = function() {
			this.$currentFrameNum = this.$nextFrameNum;
			var i = this.frameEvents[this.$nextFrameNum];
			i && "" != i && t.MovieClipEvent.dispatchMovieClipEvent(this, t.MovieClipEvent.FRAME_LABEL, i)
		}, n.prototype.constructFrame = function() {
			var i = this.$currentFrameNum;
			if (this.displayedKeyFrameNum != i) {
				var n = this.$movieClipData.getTextureByFrame(i);
				this.$setTexture(n), this.$movieClipData.$getOffsetByFrame(i, this.offsetPoint), this.displayedKeyFrameNum = i, this.$renderDirty = !0, t.nativeRender ? (this.$nativeDisplayObject.setDataToBitmapNode(this.$nativeDisplayObject.id, n, [n.$bitmapX, n.$bitmapY, n.$bitmapWidth, n.$bitmapHeight, this.offsetPoint.x, this.offsetPoint.y, n.$getScaleBitmapWidth(), n.$getScaleBitmapHeight(), n.$sourceWidth, n.$sourceHeight]), this.$nativeDisplayObject.setWidth(n.$getTextureWidth() + this.offsetPoint.x), this.$nativeDisplayObject.setHeight(n.$getTextureHeight() + this.offsetPoint.y)) : this.markDirtyUp(!1)
			}
		}, n.prototype.$setTexture = function(t) {
			if (this.$texture != t) {
				var i = this.$texture;
				this.$texture = t, this.$stage && this.isVisible && (this.$texture && this.$texture.$bitmapData && this.$texture.$bitmapData.addReference(), i && i.$bitmapData && i.$bitmapData.removeReference())
			}
		}, n.prototype.handlePendingEvent = function() {
			if (0 != this.$eventPool.length) {
				this.$eventPool.reverse();
				for (var i = this.$eventPool, n = i.length, s = !1, h = !1, e = 0; e < n; e++) {
					var r = i.pop();
					r == t.Event.LOOP_COMPLETE ? h = !0 : r == t.Event.COMPLETE ? s = !0 : this.dispatchEventWith(r)
				}
				h && this.dispatchEventWith(t.Event.LOOP_COMPLETE), s && this.dispatchEventWith(t.Event.COMPLETE)
			}
		}, Object.defineProperty(n.prototype, "totalFrames", {
			get: function() {
				return this.$totalFrames
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "currentFrame", {
			get: function() {
				return this.$currentFrameNum
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "currentFrameLabel", {
			get: function() {
				var t = this.getFrameLabelByFrame(this.$currentFrameNum);
				return t && t.name
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "currentLabel", {
			get: function() {
				var t = this.getFrameLabelForFrame(this.$currentFrameNum);
				return t ? t.name : null
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "frameRate", {
			get: function() {
				return this.$frameRate
			},
			set: function(t) {
				t != this.$frameRate && (this.$frameRate = t, this.frameIntervalTime = 1e3 / this.$frameRate)
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "isPlaying", {
			get: function() {
				return this.$isPlaying
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "movieClipData", {
			get: function() {
				return this.$movieClipData
			},
			set: function(t) {
				this.setMovieClipData(t)
			},
			enumerable: !0,
			configurable: !0
		}), n.prototype.setMovieClipData = function(t) {
			this.$movieClipData != t && (this.$movieClipData && this.$movieClipData.dispose(), this.$movieClipData = t, this.$init())
		}, n.prototype.setPlayTimes = function(t) {
			(t < 0 || t >= 1) && (this.playTimes = t < 0 ? -1 : Math.floor(t))
		}, n.prototype.setIsStopped = function(i) {
			this.isStopped != i && (this.isStopped = i, i ? t.ticker.$stopTick(this.advanceTime, this) : (this.playTimes = 0 == this.playTimes ? 1 : this.playTimes, this.lastTime = t.getTimer(), t.ticker.$startTick(this.advanceTime, this)))
		}, n
	}(t.DisplayObject);
	t.MovieClip = i, __reflect(i.prototype, "egret.MovieClip")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(n) {
			void 0 === n && (n = null);
			var s = i.call(this) || this;
			return s.data = null, s.method = t.URLRequestMethod.GET, s.url = "", s.requestHeaders = [], s.url = n, s
		}
		return __extends(n, i), n
	}(t.HashObject);
	t.URLRequest = i, __reflect(i.prototype, "egret.URLRequest")
}(egret || (egret = {})),
function(t) {
	var i = function(t, i) {
		this.name = "", this.value = "", this.name = t, this.value = i
	};
	t.URLRequestHeader = i, __reflect(i.prototype, "egret.URLRequestHeader")
}(egret || (egret = {})),
function(t) {
	var i = function() {
		function t() {}
		return t.GET = "get", t.POST = "post", t
	}();
	t.URLRequestMethod = i, __reflect(i.prototype, "egret.URLRequestMethod")
}(egret || (egret = {})),
function(t) {
	var i = function(t) {
		function i(i) {
			void 0 === i && (i = null);
			var n = t.call(this) || this;
			return n.variables = null, null !== i && n.decode(i), n
		}
		return __extends(i, t), i.prototype.decode = function(t) {
			this.variables || (this.variables = {}), t = t.split("+").join(" ");
			for (var i, n = /[?&]?([^=]+)=([^&]*)/g; i = n.exec(t);) {
				var s = decodeURIComponent(i[1]),
					h = decodeURIComponent(i[2]);
				if (s in this.variables != 0) {
					var e = this.variables[s];
					e instanceof Array ? e.push(h) : this.variables[s] = [e, h]
				} else this.variables[s] = h
			}
		}, i.prototype.toString = function() {
			if (!this.variables) return "";
			var t = this.variables,
				i = [];
			for (var n in t) i.push(this.encodeValue(n, t[n]));
			return i.join("&")
		}, i.prototype.encodeValue = function(t, i) {
			return i instanceof Array ? this.encodeArray(t, i) : encodeURIComponent(t) + "=" + encodeURIComponent(i)
		}, i.prototype.encodeArray = function(t, i) {
			return t ? 0 == i.length ? encodeURIComponent(t) + "=" : i.map((function(i) {
				return encodeURIComponent(t) + "=" + encodeURIComponent(i)
			})).join("&") : ""
		}, i
	}(t.HashObject);
	t.URLVariables = i, __reflect(i.prototype, "egret.URLVariables")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n() {
			var s = i.call(this) || this;
			return s._timeScale = 1, s._paused = !1, s._callIndex = -1, s._lastTime = 0, s.callBackList = [], n.instance, t.ticker.$startTick(s.update, s), s._lastTime = t.getTimer(), s
		}
		return __extends(n, i), n.prototype.update = function(t) {
			var i = t - this._lastTime;
			if (this._lastTime = t, this._paused) return !1;
			var n = i * this._timeScale;
			for (this._callList = this.callBackList.concat(), this._callIndex = 0; this._callIndex < this._callList.length; this._callIndex++) {
				var s = this._callList[this._callIndex];
				s.listener.call(s.thisObject, n)
			}
			return this._callIndex = -1, this._callList = null, !1
		}, n.prototype.register = function(t, i, n) {
			void 0 === n && (n = 0), this.$insertEventBin(this.callBackList, "", t, i, !1, n, !1)
		}, n.prototype.unregister = function(t, i) {
			this.$removeEventBin(this.callBackList, t, i)
		}, n.prototype.setTimeScale = function(t) {
			this._timeScale = t
		}, n.prototype.getTimeScale = function() {
			return this._timeScale
		}, n.prototype.pause = function() {
			this._paused = !0
		}, n.prototype.resume = function() {
			this._paused = !1
		}, n.getInstance = function() {
			return null == n.instance && (n.instance = new n), n.instance
		}, n
	}(t.EventDispatcher);
	t.Ticker = i, __reflect(i.prototype, "egret.Ticker")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n() {
			return i.call(this) || this
		}
		return __extends(n, i), Object.defineProperty(n.prototype, "stage", {
			get: function() {
				return t.sys.$TempStage
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n, "instance", {
			get: function() {
				return null == n._instance && (n._instance = new n), n._instance
			},
			enumerable: !0,
			configurable: !0
		}), n.deviceType = null, n.DEVICE_PC = "web", n.DEVICE_MOBILE = "native", n
	}(t.EventDispatcher);
	t.MainContext = i, __reflect(i.prototype, "egret.MainContext")
}(egret || (egret = {})), egret.testDeviceType1 = function() {
		if (!window.navigator || !navigator) return !0;
		var t = navigator.userAgent.toLowerCase();
		return -1 != t.indexOf("mobile") || -1 != t.indexOf("android")
	}, egret.MainContext.deviceType = egret.testDeviceType1() ? egret.MainContext.DEVICE_MOBILE : egret.MainContext.DEVICE_PC, delete egret.testDeviceType1,
	function(t) {
		var i = function(i) {
			function n(t) {
				void 0 === t && (t = 300);
				var n = i.call(this) || this;
				return n.objectPool = [], n._length = 0, t < 1 && (t = 1), n.autoDisposeTime = t, n.frameCount = 0, n
			}
			return __extends(n, i), n.$init = function() {
				t.ticker.$startTick(n.onUpdate, n)
			}, n.onUpdate = function(t) {
				for (var i = n._callBackList, s = i.length - 1; s >= 0; s--) i[s].$checkFrame();
				return !1
			}, n.prototype.$checkFrame = function() {
				this.frameCount--, this.frameCount <= 0 && this.dispose()
			}, Object.defineProperty(n.prototype, "length", {
				get: function() {
					return this._length
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.push = function(t) {
				var i = this.objectPool; - 1 == i.indexOf(t) && (i.push(t), t.__recycle && t.__recycle(), this._length++, 0 == this.frameCount && (this.frameCount = this.autoDisposeTime, n._callBackList.push(this)))
			}, n.prototype.pop = function() {
				return 0 == this._length ? null : (this._length--, this.objectPool.pop())
			}, n.prototype.dispose = function() {
				this._length > 0 && (this.objectPool = [], this._length = 0), this.frameCount = 0;
				var t = n._callBackList,
					i = t.indexOf(this); - 1 != i && t.splice(i, 1)
			}, n._callBackList = [], n
		}(t.HashObject);
		t.Recycler = i, __reflect(i.prototype, "egret.Recycler"), i.$init()
	}(egret || (egret = {})),
	function(t) {
		var i = {},
			n = 0,
			s = 0,
			h = 0;

		function e(t) {
			var n = t - h;
			for (var s in h = t, i) {
				var e = i[s];
				e.delay -= n, e.delay <= 0 && (e.delay = e.originDelay, e.listener.apply(e.thisObject, e.params))
			}
			return !1
		}
		t.setInterval = function(r, u, o) {
			for (var f = [], c = 3; c < arguments.length; c++) f[c - 3] = arguments[c];
			var a = {
				listener: r,
				thisObject: u,
				delay: o,
				originDelay: o,
				params: f
			};
			return 1 == ++s && (h = t.getTimer(), t.ticker.$startTick(e, null)), n++, i[n] = a, n
		}, t.clearInterval = function(n) {
			i[n] && (s--, delete i[n], 0 == s && t.ticker.$stopTick(e, null))
		}
	}(egret || (egret = {})),
	function(t) {
		var i = {},
			n = 0,
			s = 0,
			h = 0;

		function e(n) {
			i[n] && (s--, delete i[n], 0 == s && t.ticker && t.ticker.$stopTick(r, null))
		}

		function r(t) {
			var n = t - h;
			for (var s in h = t, i) {
				var r = s,
					u = i[r];
				u.delay -= n, u.delay <= 0 && (e(r), u.listener.apply(u.thisObject, u.params))
			}
			return !1
		}
		t.setTimeout = function(e, u, o) {
			for (var f = [], c = 3; c < arguments.length; c++) f[c - 3] = arguments[c];
			var a = {
				listener: e,
				thisObject: u,
				delay: o,
				params: f
			};
			return 1 == ++s && t.ticker && (h = t.getTimer(), t.ticker.$startTick(r, null)), n++, i[n] = a, n
		}, t.clearTimeout = e
	}(egret || (egret = {}));
var egret;
! function(t) {
	var i = function() {
		function i() {
			t.$error(1014)
		}
		return i.get = function(t) {
			return t < -1 && (t = -1), t > 1 && (t = 1),
				function(i) {
					return 0 == t ? i : t < 0 ? i * (i * -t + 1 + t) : i * ((2 - i) * t + (1 - t))
				}
		}, i.getPowIn = function(t) {
			return function(i) {
				return Math.pow(i, t)
			}
		}, i.getPowOut = function(t) {
			return function(i) {
				return 1 - Math.pow(1 - i, t)
			}
		}, i.getPowInOut = function(t) {
			return function(i) {
				return (i *= 2) < 1 ? .5 * Math.pow(i, t) : 1 - .5 * Math.abs(Math.pow(2 - i, t))
			}
		}, i.sineIn = function(t) {
			return 1 - Math.cos(t * Math.PI / 2)
		}, i.sineOut = function(t) {
			return Math.sin(t * Math.PI / 2)
		}, i.sineInOut = function(t) {
			return -.5 * (Math.cos(Math.PI * t) - 1)
		}, i.getBackIn = function(t) {
			return function(i) {
				return i * i * ((t + 1) * i - t)
			}
		}, i.getBackOut = function(t) {
			return function(i) {
				return --i * i * ((t + 1) * i + t) + 1
			}
		}, i.getBackInOut = function(t) {
			return t *= 1.525,
				function(i) {
					return (i *= 2) < 1 ? i * i * ((t + 1) * i - t) * .5 : .5 * ((i -= 2) * i * ((t + 1) * i + t) + 2)
				}
		}, i.circIn = function(t) {
			return -(Math.sqrt(1 - t * t) - 1)
		}, i.circOut = function(t) {
			return Math.sqrt(1 - --t * t)
		}, i.circInOut = function(t) {
			return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
		}, i.bounceIn = function(t) {
			return 1 - i.bounceOut(1 - t)
		}, i.bounceOut = function(t) {
			return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
		}, i.bounceInOut = function(t) {
			return t < .5 ? .5 * i.bounceIn(2 * t) : .5 * i.bounceOut(2 * t - 1) + .5
		}, i.getElasticIn = function(t, i) {
			var n = 2 * Math.PI;
			return function(r) {
				if (0 == r || 1 == r) return r;
				var e = i / n * Math.asin(1 / t);
				return -t * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - e) * n / i)
			}
		}, i.getElasticOut = function(t, i) {
			var n = 2 * Math.PI;
			return function(r) {
				if (0 == r || 1 == r) return r;
				var e = i / n * Math.asin(1 / t);
				return t * Math.pow(2, -10 * r) * Math.sin((r - e) * n / i) + 1
			}
		}, i.getElasticInOut = function(t, i) {
			var n = 2 * Math.PI;
			return function(r) {
				var e = i / n * Math.asin(1 / t);
				return (r *= 2) < 1 ? t * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - e) * n / i) * -.5 : t * Math.pow(2, -10 * (r -= 1)) * Math.sin((r - e) * n / i) * .5 + 1
			}
		}, i.quadIn = i.getPowIn(2), i.quadOut = i.getPowOut(2), i.quadInOut = i.getPowInOut(2), i.cubicIn = i.getPowIn(3), i.cubicOut = i.getPowOut(3), i.cubicInOut = i.getPowInOut(3), i.quartIn = i.getPowIn(4), i.quartOut = i.getPowOut(4), i.quartInOut = i.getPowInOut(4), i.quintIn = i.getPowIn(5), i.quintOut = i.getPowOut(5), i.quintInOut = i.getPowInOut(5), i.backIn = i.getBackIn(1.7), i.backOut = i.getBackOut(1.7), i.backInOut = i.getBackInOut(1.7), i.elasticIn = i.getElasticIn(1, .3), i.elasticOut = i.getElasticOut(1, .3), i.elasticInOut = i.getElasticInOut(1, .3 * 1.5), i
	}();
	t.Ease = i, __reflect(i.prototype, "egret.Ease")
}(egret || (egret = {})),
function(t) {
	var i = function(i) {
		function n(t, n, r) {
			var e = i.call(this) || this;
			return e._target = null, e._useTicks = !1, e.ignoreGlobalPause = !1, e.loop = !1, e.pluginData = null, e._steps = null, e.paused = !1, e.duration = 0, e._prevPos = -1, e.position = null, e._prevPosition = 0, e._stepPosition = 0, e._prevStepIndex = 0, e.passive = !1, e.isDisplayObjectTarget = !1, e.hideNotPauseTween = !1, e.initialize(t, n, r), e
		}
		return __extends(n, i), n.get = function(t, i, r, e) {
			return void 0 === r && (r = null), void 0 === e && (e = !1), e && n.removeTweens(t), new n(t, i, r)
		}, n.removeTweens = function(t) {
			if (t.tween_count) {
				for (var i = n._tweens, r = i.length - 1; r >= 0; r--) i[r]._target == t && (i[r].paused = !0, i.splice(r, 1));
				t.tween_count = 0
			}
		}, n.pauseTweens = function(i) {
			if (i.tween_count)
				for (var n = t.Tween._tweens, r = n.length - 1; r >= 0; r--) n[r]._target == i && (n[r].paused = !0)
		}, n.resumeTweens = function(i) {
			if (i.tween_count)
				for (var n = t.Tween._tweens, r = n.length - 1; r >= 0; r--) n[r]._target == i && (n[r].paused = !1)
		}, n.tick = function(t, i) {
			void 0 === i && (i = !1);
			var r = t - n._lastTime;
			n._lastTime = t;
			for (var e = n._tweens.concat(), h = e.length - 1; h >= 0; h--) {
				var s = e[h];
				i && !s.ignoreGlobalPause || s.paused || s.$tick(s._useTicks ? 1 : r)
			}
			return !1
		}, n._register = function(i, r) {
			var e = i._target,
				h = n._tweens;
			if (r) e && (e.tween_count = e.tween_count > 0 ? e.tween_count + 1 : 1), h.push(i), n._inited || (n._lastTime = t.getTimer(), t.ticker.$startTick(n.tick, null), n._inited = !0);
			else {
				e && e.tween_count--;
				for (var s = h.length; s--;)
					if (h[s] == i) return void h.splice(s, 1)
			}
		}, n.removeAllTweens = function() {
			for (var t = n._tweens, i = 0, r = t.length; i < r; i++) {
				var e = t[i];
				e.paused = !0, e._target.tween_count = 0
			}
			t.length = 0
		}, n.prototype.initialize = function(i, r, e) {
			this._target = i, this.isDisplayObjectTarget = !!i && i instanceof t.DisplayObject, this.isDisplayObjectTarget && (this.hideNotPauseTween = this._target.hideNotPauseTween), r && (this._useTicks = r.useTicks, this.ignoreGlobalPause = r.ignoreGlobalPause, this.loop = r.loop, r.onChange && this.addEventListener("change", r.onChange, r.onChangeObj), r.override && n.removeTweens(i)), this.pluginData = e || {}, this._curQueueProps = {}, this._initQueueProps = {}, this._steps = [], r && r.paused ? this.paused = !0 : n._register(this, !0), r && null != r.position && this.setPosition(r.position, n.NONE)
		}, n.prototype.setPosition = function(t, i) {
			void 0 === i && (i = 1), t < 0 && (t = 0);
			var n = t,
				r = !1;
			if (n >= this.duration)
				if (this.loop) {
					this._prevStepIndex = 0;
					var e = n % this.duration;
					n = n > 0 && 0 === e ? this.duration : e
				} else n = this.duration, r = !0;
			if (n == this._prevPos) return r;
			this._prevPos > n && (this._prevStepIndex = 0), r && this.setPaused(!0);
			var h = this._prevPos;
			if (this.position = this._prevPos = n, this._prevPosition = t, this._target && this._steps.length > 0)
				for (var s = this._steps.length, u = this._prevStepIndex; u < s; u++) {
					var f = this._steps[u];
					if ("action" === f.type) 0 != i && (1 == i && n < h ? (h != this.duration && this._runAction(this._steps[u], h, this.duration), this._runAction(this._steps[u], 0, n, !0)) : this._runAction(this._steps[u], h, n));
					else if ("step" === f.type && f.t + f.d > n) {
						this._updateTargetProps(f, Math.min((this._stepPosition = n - f.t) / f.d, 1)), this._prevStepIndex = u;
						break
					}
				}
			return this.dispatchEventWith("change"), r
		}, n.prototype._runAction = function(t, i, n, r) {
			void 0 === r && (r = !1);
			var e = i,
				h = n;
			i > n && (e = n, h = i);
			var s = t.t;
			(s == h || s > e && s < h || r && s == i) && t.f.apply(t.o, t.p)
		}, n.prototype._updateTargetProps = function(t, i) {
			var r, e, h, s, u, f;
			if (t || 1 != i) {
				if (this.passive = !!t.v, this.passive) return;
				t.e && (i = t.e(i, 0, 1, 1)), r = t.p0, e = t.p1
			} else this.passive = !1, r = e = this._curQueueProps;
			for (var o in this._initQueueProps) {
				null == (s = r[o]) && (r[o] = s = this._initQueueProps[o]), null == (u = e[o]) && (e[o] = u = s), h = s == u || 0 == i || 1 == i || "number" != typeof s ? 1 == i ? u : s : s + (u - s) * i;
				var c = !1;
				if (f = n._plugins[o])
					for (var a = 0, v = f.length; a < v; a++) {
						var l = f[a].tween(this, o, h, r, e, i, !!t && r == e, !t);
						l == n.IGNORE ? c = !0 : h = l
					}
				c || (this._target[o] = h)
			}
		}, n.prototype.setPaused = function(t) {
			return this.paused == t || (this.paused = t, n._register(this, !t)), this
		}, n.prototype._cloneProps = function(t) {
			var i = {};
			for (var n in t) i[n] = t[n];
			return i
		}, n.prototype._addStep = function(t) {
			return t.d > 0 && (t.type = "step", this._steps.push(t), t.t = this.duration, this.duration += t.d), this
		}, n.prototype._appendQueueProps = function(t) {
			var i, r, e, h, s;
			for (var u in t)
				if (void 0 === this._initQueueProps[u]) {
					if (r = this._target[u], i = n._plugins[u])
						for (e = 0, h = i.length; e < h; e++) r = i[e].init(this, u, r);
					this._initQueueProps[u] = this._curQueueProps[u] = void 0 === r ? null : r
				} else r = this._curQueueProps[u];
			for (var u in t) {
				if (r = this._curQueueProps[u], i = n._plugins[u])
					for (s = s || {}, e = 0, h = i.length; e < h; e++) i[e].step && i[e].step(this, u, r, t[u], s);
				this._curQueueProps[u] = t[u]
			}
			return s && this._appendQueueProps(s), this._curQueueProps
		}, n.prototype._addAction = function(t) {
			return t.t = this.duration, t.type = "action", this._steps.push(t), this
		}, n.prototype._set = function(t, i) {
			for (var n in t) i[n] = t[n]
		}, n.prototype.wait = function(t, i) {
			if (null == t || t <= 0) return this;
			var n = this._cloneProps(this._curQueueProps);
			return this._addStep({
				d: t,
				p0: n,
				p1: n,
				v: i
			})
		}, n.prototype.to = function(t, i, n) {
			return void 0 === n && (n = void 0), (isNaN(i) || i < 0) && (i = 0), this._addStep({
				d: i || 0,
				p0: this._cloneProps(this._curQueueProps),
				e: n,
				p1: this._cloneProps(this._appendQueueProps(t))
			}), this.set(t)
		}, n.prototype.call = function(t, i, n) {
			return void 0 === i && (i = void 0), void 0 === n && (n = void 0), this._addAction({
				f: t,
				p: n || [],
				o: i || this._target
			})
		}, n.prototype.set = function(t, i) {
			return void 0 === i && (i = null), this._appendQueueProps(t), this._addAction({
				f: this._set,
				o: this,
				p: [t, i || this._target]
			})
		}, n.prototype.play = function(t) {
			return t || (t = this), this.call(t.setPaused, t, [!1])
		}, n.prototype.pause = function(t) {
			return t || (t = this), this.call(t.setPaused, t, [!0])
		}, n.prototype.$tick = function(t) {
			if (!this.paused) {
				if (this.isDisplayObjectTarget) {
					if (!this.hideNotPauseTween && !this._target.isVisible) return;
					if (!this._target.stage) return void this.setPaused(!0)
				}
				this.setPosition(this._prevPosition + t)
			}
		}, n.NONE = 0, n.LOOP = 1, n.REVERSE = 2, n._tweens = [], n.IGNORE = {}, n._plugins = {}, n._inited = !1, n._lastTime = 0, n
	}(t.EventDispatcher);
	t.Tween = i, __reflect(i.prototype, "egret.Tween")
}(egret || (egret = {})),
function(t) {
	! function(i) {
		var n = function(t) {
			function i() {
				var i = null !== t && t.apply(this, arguments) || this;
				return i.name = "", i
			}
			return __extends(i, t), i
		}(t.EventDispatcher);
		i.BasePath = n, __reflect(n.prototype, "egret.tween.BasePath");
		var r = function(t) {
			function i() {
				var i = null !== t && t.apply(this, arguments) || this;
				return i.props = void 0, i.duration = 500, i.ease = void 0, i
			}
			return __extends(i, t), i
		}(n);
		i.To = r, __reflect(r.prototype, "egret.tween.To");
		var e = function(t) {
			function i() {
				var i = null !== t && t.apply(this, arguments) || this;
				return i.duration = 500, i.passive = void 0, i
			}
			return __extends(i, t), i
		}(n);
		i.Wait = e, __reflect(e.prototype, "egret.tween.Wait");
		var h = function(t) {
			function i() {
				var i = null !== t && t.apply(this, arguments) || this;
				return i.props = void 0, i
			}
			return __extends(i, t), i
		}(n);
		i.Set = h, __reflect(h.prototype, "egret.tween.Set");
		var s = function(t) {
			function i() {
				var i = null !== t && t.apply(this, arguments) || this;
				return i.delta = 0, i
			}
			return __extends(i, t), i
		}(n);
		i.Tick = s, __reflect(s.prototype, "egret.tween.Tick");
		var u = function(i) {
			function n() {
				var t = i.call(this) || this;
				return t.isStop = !1, t
			}
			return __extends(n, i), Object.defineProperty(n.prototype, "props", {
				get: function() {
					return this._props
				},
				set: function(t) {
					this._props = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "target", {
				get: function() {
					return this._target
				},
				set: function(t) {
					this._target = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "paths", {
				get: function() {
					return this._paths
				},
				set: function(t) {
					this._paths = t || []
				},
				enumerable: !0,
				configurable: !0
			}), n.prototype.play = function(t) {
				return this.tween ? (this.tween.setPaused(!1), this.isStop && null == t && (t = 0, this.isStop = !1), null != t && this.tween.setPosition(t)) : this.createTween(t)
			}, n.prototype.pause = function() {
				this.tween && this.tween.setPaused(!0)
			}, n.prototype.stop = function() {
				this.pause(), this.isStop = !0
			}, n.prototype.createTween = function(i) {
				return this.tween = t.Tween.get(this._target, this._props), this._paths && this.applyPaths(), null != i && this.tween.setPosition(i)
			}, n.prototype.applyPaths = function() {
				for (var t = 0; t < this._paths.length; t++) {
					var i = this._paths[t];
					this.applyPath(i)
				}
			}, n.prototype.applyPath = function(i) {
				var n = this;
				i instanceof r ? this.tween.to(i.props, i.duration, function(i) {
					if ("function" == typeof i) return i;
					var n = t.Ease[i];
					return "function" == typeof n ? n : null
				}(i.ease)) : i instanceof e ? this.tween.wait(i.duration, i.passive) : i instanceof h ? this.tween.set(i.props) : i instanceof s && this.tween.$tick(i.delta), this.tween.call((function() {
					return n.pathComplete(i)
				}))
			}, n.prototype.pathComplete = function(t) {
				t.dispatchEventWith("complete"), this.dispatchEventWith("pathComplete", !1, t);
				var i = this._paths.indexOf(t);
				i >= 0 && i === this._paths.length - 1 && this.dispatchEventWith("complete")
			}, n
		}(t.EventDispatcher);
		i.TweenItem = u, __reflect(u.prototype, "egret.tween.TweenItem"), o(u, "paths", "Array", !0);
		var f = function(t) {
			function i() {
				var i = t.call(this) || this;
				return i.completeCount = 0, i._isPlaying = !1, i
			}
			return __extends(i, t), Object.defineProperty(i.prototype, "isPlaying", {
				get: function() {
					return this._isPlaying
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(i.prototype, "items", {
				get: function() {
					return this._items
				},
				set: function(t) {
					this.completeCount = 0, this.registerEvent(!1), this._items = t, this.registerEvent(!0)
				},
				enumerable: !0,
				configurable: !0
			}), i.prototype.registerEvent = function(t) {
				var i = this;
				this._items && this._items.forEach((function(n) {
					t ? n.addEventListener("complete", i.itemComplete, i) : n.removeEventListener("complete", i.itemComplete, i)
				}))
			}, i.prototype.play = function(t) {
				if (this.completeCount = 0, this._items) {
					this._isPlaying = !0;
					for (var i = 0; i < this._items.length; i++) this._items[i].play(t) && this.completeCount++
				}
			}, i.prototype.playSetPosition = function(t) {
				if (this.completeCount = 0, this._items) {
					this._isPlaying = !0;
					for (var i = 0; i < this._items.length; i++) this._items[i].play(t) && this.completeCount++
				}
			}, i.prototype.pause = function() {
				if (this._isPlaying = !1, this._items)
					for (var t = 0; t < this._items.length; t++) this._items[t].pause()
			}, i.prototype.stop = function() {
				if (this._isPlaying = !1, this._items)
					for (var t = 0; t < this._items.length; t++) this._items[t].stop()
			}, i.prototype.itemComplete = function(t) {
				var i = t.currentTarget;
				this.completeCount++, this.dispatchEventWith("itemComplete", !1, i), this.completeCount >= this.items.length && (this.completeCount = 0, this._isPlaying = !1, this.dispatchEventWith("complete"))
			}, i
		}(t.EventDispatcher);

		function o(t, i, n, r) {
			var e = t.prototype;
			e.__meta__ = e.__meta__ || {}, e.__meta__[i] = n, r && (e.__defaultProperty__ = i)
		}
		i.TweenGroup = f, __reflect(f.prototype, "egret.tween.TweenGroup"), o(f, "items", "Array", !0)
	}(t.tween || (t.tween = {}))
}(egret || (egret = {}));
var RES, __reflect = this && this.__reflect || function(n, t, r) {
		n.__class__ = t, r ? r.push(t) : r = [t], n.__types__ = n.__types__ ? r.concat(n.__types__) : r
	},
	__extends = this && this.__extends || function(n, t) {
		function r() {
			this.constructor = n
		}
		for (var e in t) t.hasOwnProperty(e) && (n[e] = t[e]);
		r.prototype = t.prototype, n.prototype = new r
	},
	__decorate = this && this.__decorate || function(n, t, r, e) {
		var i, o = arguments.length,
			u = 3 > o ? t : null === e ? e = Object.getOwnPropertyDescriptor(t, r) : e;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) u = Reflect.decorate(n, t, r, e);
		else
			for (var a = n.length - 1; a >= 0; a--)(i = n[a]) && (u = (3 > o ? i(u) : o > 3 ? i(t, r, u) : i(t, r)) || u);
		return o > 3 && u && Object.defineProperty(t, r, u), u
	};
RES || (RES = {}),
	function(n) {
		function t(t) {
			var r = n.config.config.fileSystem.getFile(t);
			return r || (t = n.resourceNameSelector(t), r = n.config.config.fileSystem.getFile(t)), r
		}
		var r;
		n.resourceNameSelector = function(n) {
			return n
		}, n.getResourceInfo = t, n.setConfigURL = function(n, t) {
			var e;
			e = n.indexOf(".json") >= 0 ? "legacyResourceConfig" : n.indexOf(".zip") >= 0 ? "zipResourceConfig" : "resourceConfig", r = {
				type: e,
				root: t,
				url: n,
				name: n
			}
		};
		var e = function() {
			function e() {}
			return e.prototype.init = function() {
				return this.config || (this.config = {
					alias: {},
					groups: {},
					resourceRoot: r.root,
					mergeSelector: null,
					fileSystem: null,
					loadGroup: []
				}), n.queue.pushResItem(r).catch((function(t) {
					return n.isCompatible || t.__resource_manager_error__ || (t.error ? console.error(t.error.stack) : console.error(t.stack), t = new n.ResourceManagerError(1002)), n.host.remove(r), Promise.reject(t)
				}))
			}, e.prototype.getGroupByName = function(t) {
				var r = this.config.groups[t],
					e = [];
				if (!r) return e;
				for (var i = 0, o = r; i < o.length; i++) {
					var u, a = o[i];
					if (null != (u = n.config.getResourceWithSubkey(a))) {
						var f = u.r,
							c = u.key;
						if (null == f) throw new n.ResourceManagerError(2005, c); - 1 == e.indexOf(f) && e.push(f)
					}
				}
				return e
			}, e.prototype.__temp__get__type__via__url = function(t) {
				var r = this.config.alias[t];
				if (r || (r = t), n.typeSelector) {
					var e = n.typeSelector(r);
					if (!e) throw new n.ResourceManagerError(2004, r);
					return e
				}
				return console.warn("RES.mapConfig 并未设置 typeSelector"), "unknown"
			}, e.prototype.getResourceWithSubkey = function(n) {
				var t = (n = this.getKeyByAlias(n)).indexOf("#"),
					r = "";
				t >= 0 && (r = n.substr(t + 1), n = n.substr(0, t));
				var e = this.getResource(n);
				return e ? {
					r: e,
					key: n,
					subkey: r
				} : !r && (t = n.lastIndexOf("_png")) >= 0 ? (r = n.substr(0, t), this.getResourceWithSubkey(r)) : null
			}, e.prototype.getKeyByAlias = function(n) {
				return this.config.alias[n] ? this.config.alias[n] : n
			}, e.prototype.getResource = function(n) {
				var r = this.config.alias[n];
				return r || (r = n), t(r) || null
			}, e.prototype.createGroup = function(n, t, r) {
				if (void 0 === r && (r = !1), !r && this.config.groups[n] || !t || 0 == t.length) return !1;
				for (var e = [], i = 0, o = t; i < o.length; i++) {
					var u = o[i];
					if (this.config.groups[u]) {
						var a = this.config.groups[u];
						e = e.concat(a)
					} else e.push(u)
				}
				return this.config.groups[n] = e, !0
			}, e.prototype.addSubkey = function(n, t) {
				this.addAlias(n, t + "#" + n)
			}, e.prototype.addAlias = function(n, t) {
				this.config.alias[t] && (t = this.config.alias[t]), this.config.alias[n] = t
			}, e.prototype.addResourceData = function(t) {
				n.hasRes(t.name) || (t.type || (t.type = this.__temp__get__type__via__url(t.url)), n.config.config.fileSystem.addFile(t))
			}, e.prototype.removeResourceData = function(t) {
				n.hasRes(t.name) && (n.config.config.fileSystem.removeFile(t.url), this.config.alias[t.name] && delete this.config.alias[t.name])
			}, e
		}();
		n.ResourceConfig = e, __reflect(e.prototype, "RES.ResourceConfig")
	}(RES || (RES = {})),
	function(n) {
		var t = function() {
			function t() {
				this.groupTotalDic = {}, this.numLoadedDic = {}, this.groupErrorDic = {}, this.retryTimesDic = {}, this.maxRetryTimes = 3, this.reporterDic = {}, this.dispatcherDic = {}, this.failedList = new Array, this.loadItemErrorDic = {}, this.errorDic = {}, this.itemListPriorityDic = {}, this.itemLoadDic = {}, this.promiseHash = {}, this.lazyLoadList = new Array, this.loadingCount = 0, this.thread = 4
			}
			return t.prototype.pushResItem = function(n) {
				if (this.promiseHash[n.root + n.name]) return this.promiseHash[n.root + n.name];
				this.lazyLoadList.push(n), this.itemListPriorityDic[Number.NEGATIVE_INFINITY] = this.lazyLoadList, this.updatelistPriority(this.lazyLoadList, Number.NEGATIVE_INFINITY);
				var t = new egret.EventDispatcher;
				this.dispatcherDic[n.root + n.name] = t;
				var r = new Promise((function(n, r) {
					t.addEventListener("complete", (function(t) {
						n(t.data)
					}), null), t.addEventListener("error", (function(n) {
						r(n.data)
					}), null)
				}));
				return this.promiseHash[n.root + n.name] = r, this.loadNextResource(), r
			}, t.prototype.pushResGroup = function(n, t, r, e) {
				if (this.promiseHash[t]) return this.promiseHash[t];
				for (var i = n.length, o = 0; i > o; o++) {
					var u = n[o];
					u.groupNames || (u.groupNames = []), u.groupNames.push(t)
				}
				this.groupTotalDic[t] = n.length, this.numLoadedDic[t] = 0, this.updatelistPriority(n, r), this.reporterDic[t] = e;
				var a = new egret.EventDispatcher;
				this.dispatcherDic[t] = a;
				var f = new Promise((function(n, t) {
					a.addEventListener("complete", n, null), a.addEventListener("error", (function(n) {
						t(n.data)
					}), null)
				}));
				return this.promiseHash[t] = f, this.loadNextResource(), f
			}, t.prototype.updatelistPriority = function(n, t) {
				null == this.itemListPriorityDic[t] && (this.itemListPriorityDic[t] = []);
				for (var r = 0, e = n; r < e.length; r++) {
					var i = e[r];
					if (1 != this.itemLoadDic[i.root + i.name]) {
						var o = this.findPriorityInDic(i);
						if (null == o) this.itemListPriorityDic[t].push(i);
						else if (t > o) {
							this.itemListPriorityDic[t].push(i);
							var u = this.itemListPriorityDic[o].indexOf(i);
							this.itemListPriorityDic[o].splice(u, 1)
						}
					}
				}
			}, t.prototype.findPriorityInDic = function(n) {
				for (var t in this.itemListPriorityDic)
					if (this.itemListPriorityDic[t].indexOf(n) > -1) return parseInt(t)
			}, t.prototype.loadNextResource = function() {
				for (; this.loadingCount < this.thread && this.loadSingleResource(););
			}, t.prototype.loadSingleResource = function() {
				var t = this,
					r = this.getOneResourceInfoInGroup();
				if (!r) return !1;
				this.itemLoadDic[r.root + r.name] = 1, this.loadingCount++;
				var e = this.loadResource(r);
				return !!e && (e.then((function(e) {
					t.loadingCount--, delete t.itemLoadDic[r.root + r.name], n.host.save(r, e), t.promiseHash[r.root + r.name] && t.deleteDispatcher(r.root + r.name).dispatchEventWith("complete", !1, e);
					var i = r.groupNames;
					if (i) {
						delete r.groupNames;
						for (var o = 0, u = i; o < u.length; o++) {
							var a = u[o];
							t.setGroupProgress(a, r) && t.loadGroupEnd(a)
						}
					}
					t.loadNextResource()
				})).catch((function(e) {
					if (!e) throw r.name + " load fail";
					if (!e.__resource_manager_error__) throw e;
					delete t.itemLoadDic[r.root + r.name], t.loadingCount--, delete n.host.state[r.root + r.url];
					var i = t.retryTimesDic[r.name] || 1;
					if (!(i > t.maxRetryTimes)) return t.retryTimesDic[r.name] = i + 1, t.failedList.push(r), void t.loadNextResource();
					delete t.retryTimesDic[r.name], t.promiseHash[r.root + r.name] && t.deleteDispatcher(r.root + r.name).dispatchEventWith("error", !1, {
						r: r,
						error: e
					});
					var o = r.groupNames;
					if (o) {
						delete r.groupNames;
						for (var u = 0, a = o; u < a.length; u++) {
							var f = a[u];
							t.loadItemErrorDic[f] || (t.loadItemErrorDic[f] = []), -1 == t.loadItemErrorDic[f].indexOf(r) && t.loadItemErrorDic[f].push(r), t.groupErrorDic[f] = !0, t.setGroupProgress(f, r) ? t.loadGroupEnd(f, e) : t.errorDic[f] = e
						}
					}
					t.loadNextResource()
				})), !0)
			}, t.prototype.getOneResourceInfoInGroup = function() {
				if (this.failedList.length > 0) return this.failedList.shift();
				var n = Number.NEGATIVE_INFINITY;
				for (var t in this.itemListPriorityDic) n = Math.max(n, t);
				var r = this.itemListPriorityDic[n];
				return r ? 0 == r.length ? (delete this.itemListPriorityDic[n], this.getOneResourceInfoInGroup()) : r.shift() : void 0
			}, t.prototype.setGroupProgress = function(n, t) {
				var r = this.reporterDic[n];
				this.numLoadedDic[n]++;
				var e = this.numLoadedDic[n],
					i = this.groupTotalDic[n];
				return r && r.onProgress && r.onProgress(e, i, t), e == i
			}, t.prototype.loadGroupEnd = function(n, t) {
				delete this.groupTotalDic[n], delete this.numLoadedDic[n], delete this.reporterDic[n];
				var r = this.deleteDispatcher(n);
				if (t) {
					delete this.groupErrorDic[n];
					var e = this.loadItemErrorDic[n];
					delete this.loadItemErrorDic[n], r.dispatchEventWith("error", !1, {
						itemList: e,
						lastError: t
					})
				} else {
					var i = this.groupErrorDic[n];
					if (delete this.groupErrorDic[n], i) {
						e = this.loadItemErrorDic[n], delete this.loadItemErrorDic[n];
						var o = this.errorDic[n];
						delete this.errorDic[n], r.dispatchEventWith("error", !1, {
							itemList: e,
							error: o
						})
					} else r.dispatchEventWith("complete")
				}
			}, t.prototype.deleteDispatcher = function(n) {
				delete this.promiseHash[n];
				var t = this.dispatcherDic[n];
				return delete this.dispatcherDic[n], t
			}, t.prototype.loadResource = function(t, r) {
				if (!r) {
					if (1 == n.FEATURE_FLAG.FIX_DUPLICATE_LOAD) {
						var e = n.host.state[t.root + t.url];
						if (2 == e) return Promise.resolve(n.host.get(t));
						if (1 == e) return t.promise
					}
					r = n.processor.isSupport(t)
				}
				if (!r) throw new n.ResourceManagerError(2001, t.url, t.type);
				n.host.state[t.root + t.url] = 1;
				var i = r.onLoadStart(n.host, t);
				return t.promise = i, i
			}, t.prototype.unloadResource = function(t) {
				if (!n.host.get(t)) return console.warn("尝试释放不存在的资源:", t.url), !1;
				var r = n.processor.isSupport(t);
				return !r || (r.onRemoveStart(n.host, t), n.host.remove(t), 1 == t.extra && n.config.removeResourceData(t), !0)
			}, t
		}();
		n.ResourceLoader = t, __reflect(t.prototype, "RES.ResourceLoader")
	}(RES || (RES = {})),
	function(n) {
		n.checkNull = function(n, t, r) {
				var e = r.value;
				r.value = function() {
					for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
					return n[0] ? e.apply(this, n) : (console.warn("方法" + t + "的参数不能为null"), null)
				}
			}, n.FEATURE_FLAG = {
				FIX_DUPLICATE_LOAD: 1
			},
			function(n) {
				n.setUpgradeGuideLevel = function(n) {}
			}(n.upgrade || (n.upgrade = {}))
	}(RES || (RES = {})),
	function(n) {
		function t(t) {
			return n.isCompatible ? void t.catch((function(n) {})).then() : t
		}
		n.nameSelector = function(t) {
			return n.path.basename(t).split(".").join("_")
		}, n.typeSelector = function(t) {
			var r, e = t.substr(t.lastIndexOf(".") + 1);
			switch (e) {
				case n.ResourceItem.TYPE_XML:
				case n.ResourceItem.TYPE_JSON:
				case n.ResourceItem.TYPE_SHEET:
					r = e;
					break;
				case "png":
				case "jpg":
				case "gif":
				case "jpeg":
				case "bmp":
				case "dds":
					r = n.ResourceItem.TYPE_IMAGE;
					break;
				case "fnt":
					r = n.ResourceItem.TYPE_FONT;
					break;
				case "txt":
					r = n.ResourceItem.TYPE_TEXT;
					break;
				case "mp3":
				case "ogg":
				case "mpeg":
				case "wav":
				case "m4a":
				case "mp4":
				case "aiff":
				case "wma":
				case "mid":
					r = n.ResourceItem.TYPE_SOUND;
					break;
				case "mergeJson":
				case "zip":
				case "pvr":
					r = e;
					break;
				default:
					r = n.ResourceItem.TYPE_BIN
			}
			return r
		}, n.registerAnalyzer = function(t, r) {
			throw new n.ResourceManagerError(2002)
		}, n.setIsCompatible = function(t) {
			n.isCompatible = t
		}, n.isCompatible = !1, n.loadConfig = function(i, o) {
			if (o.indexOf("://") >= 0) {
				var u = o.split("://");
				o = u[0] + "://" + n.path.normalize(u[1] + "/"), i = i.replace(o, "")
			} else o = n.path.normalize(o + "/"), i = i.replace(o, "");
			return n.setConfigURL(i, o), r || (r = new e), t(r.loadConfig())
		}, n.loadGroup = function(n, e, i) {
			return void 0 === e && (e = 0), t(r.loadGroup(n, e, i))
		}, n.isGroupLoaded = function(n) {
			return r.isGroupLoaded(n)
		}, n.getGroupByName = function(t) {
			return r.getGroupByName(t).map((function(t) {
				return n.ResourceItem.convertToResItem(t)
			}))
		}, n.createGroup = function(n, t, e) {
			return void 0 === e && (e = !1), r.createGroup(n, t, e)
		}, n.hasRes = function(n) {
			return r.hasRes(n)
		}, n.getRes = function(n) {
			return r.getRes(n)
		}, n.getResAsync = function(n, e, i) {
			return t(r.getResAsync.apply(r, arguments))
		}, n.getResByUrl = function(n, e, i, o) {
			if (void 0 === o && (o = ""), !r) {
				var u = egret.sys.tr(3200);
				return egret.warn(u), Promise.reject(u)
			}
			return t(r.getResByUrl(n, e, i, o))
		}, n.destroyRes = function(n, t) {
			return r.destroyRes(n, t)
		}, n.setMaxLoadingThread = function(n) {
			r || (r = new e), r.setMaxLoadingThread(n)
		}, n.setMaxRetryTimes = function(n) {
			r.setMaxRetryTimes(n)
		}, n.addEventListener = function(n, t, i, o, u) {
			void 0 === o && (o = !1), void 0 === u && (u = 0), r || (r = new e), r.addEventListener(n, t, i, o, u)
		}, n.removeEventListener = function(n, t, e, i) {
			void 0 === i && (i = !1), r.removeEventListener(n, t, e, i)
		}, n.$addResourceData = function(n) {
			r.addResourceData(n)
		}, n.getVersionController = function() {
			return r || (r = new e), r.vcs
		}, n.registerVersionController = function(n) {
			r || (r = new e), r.registerVersionController(n)
		}, n.getVirtualUrl = function(n) {
			return r.vcs ? r.vcs.getVirtualUrl(n) : n
		};
		var r, e = function(t) {
			function r() {
				var r = t.call(this) || this;
				return r.isVcsInit = !1, r.normalLoadConfig = function() {
					return n.config.init().then((function(t) {
						n.ResourceEvent.dispatchResourceEvent(r, n.ResourceEvent.CONFIG_COMPLETE)
					}), (function(t) {
						return n.ResourceEvent.dispatchResourceEvent(r, n.ResourceEvent.CONFIG_LOAD_ERROR), Promise.reject(t)
					}))
				}, n.VersionController && (r.vcs = new n.VersionController), r
			}
			return __extends(r, t), r.prototype.registerVersionController = function(n) {
				this.vcs = n, this.isVcsInit = !1
			}, r.prototype.loadConfig = function() {
				var n = this;
				return !this.isVcsInit && this.vcs ? (this.isVcsInit = !0, this.vcs.init().then((function() {
					return n.normalLoadConfig()
				}))) : this.normalLoadConfig()
			}, r.prototype.isGroupLoaded = function(t) {
				return n.config.getGroupByName(t).every((function(t) {
					return null != n.host.get(t)
				}))
			}, r.prototype.getGroupByName = function(t) {
				return n.config.getGroupByName(t)
			}, r.prototype.loadGroup = function(t, r, e) {
				var i = this;
				void 0 === r && (r = 0);
				var o = {
					onProgress: function(r, o, u) {
						e && e.onProgress && e.onProgress(r, o, u), n.ResourceEvent.dispatchResourceEvent(i, n.ResourceEvent.GROUP_PROGRESS, t, u, r, o)
					}
				};
				return this._loadGroup(t, r, o).then((function(r) {
					-1 == n.config.config.loadGroup.indexOf(t) && n.config.config.loadGroup.push(t), n.ResourceEvent.dispatchResourceEvent(i, n.ResourceEvent.GROUP_COMPLETE, t)
				}), (function(r) {
					if (-1 == n.config.config.loadGroup.indexOf(t) && n.config.config.loadGroup.push(t), r.itemList)
						for (var e = r.itemList, o = e.length, u = 0; o > u; u++) {
							var a = e[u];
							delete a.promise, n.ResourceEvent.dispatchResourceEvent(i, n.ResourceEvent.ITEM_LOAD_ERROR, t, a)
						}
					return n.isCompatible && console.warn(r.error.message), n.ResourceEvent.dispatchResourceEvent(i, n.ResourceEvent.GROUP_LOAD_ERROR, t), Promise.reject(r.error)
				}))
			}, r.prototype._loadGroup = function(t, r, e) {
				void 0 === r && (r = 0);
				var i = n.config.getGroupByName(t);
				return 0 == i.length ? new Promise((function(r, e) {
					e({
						error: new n.ResourceManagerError(2005, t)
					})
				})) : n.queue.pushResGroup(i, t, r, e)
			}, r.prototype.createGroup = function(t, r, e) {
				return void 0 === e && (e = !1), n.config.createGroup(t, r, e)
			}, r.prototype.hasRes = function(t) {
				return null != n.config.getResourceWithSubkey(t)
			}, r.prototype.getRes = function(t) {
				var r = n.config.getResourceWithSubkey(t);
				if (r) {
					var e = r.r,
						i = r.key,
						o = r.subkey,
						u = n.processor.isSupport(e);
					return u && u.getData && o ? u.getData(n.host, e, i, o) : n.host.get(e)
				}
				return null
			}, r.prototype.getResAsync = function(t, r, e) {
				var i = this,
					o = t,
					u = n.config.getResourceWithSubkey(t);
				if (null == u) return r && r.call(e, null, o), Promise.reject(new n.ResourceManagerError(2006, t));
				var a = this.getRes(t);
				if (a) return r && egret.callLater((function() {
					r.call(e, a, o)
				}), this), Promise.resolve(a);
				var f = u.r,
					c = u.subkey;
				return n.queue.pushResItem(f).then((function(i) {
					n.host.save(f, i);
					var u = n.processor.isSupport(f);
					return u && u.getData && c && (i = u.getData(n.host, f, t, c)), r && r.call(e, i, o), i
				}), (function(t) {
					return n.host.remove(f), n.ResourceEvent.dispatchResourceEvent(i, n.ResourceEvent.ITEM_LOAD_ERROR, "", f), r ? (r.call(e, null, o), Promise.reject(null)) : Promise.reject(t)
				}))
			}, r.prototype.getResByUrl = function(t, r, e, i) {
				var o = this;
				void 0 === i && (i = "");
				var u = n.config.getResource(t);
				if (!(u || (i || (i = n.config.__temp__get__type__via__url(t)), u = {
						name: t,
						url: t,
						type: i,
						root: "",
						extra: 1
					}, n.config.addResourceData(u), u = n.config.getResource(t)))) throw "never";
				return n.queue.pushResItem(u).then((function(t) {
					return n.host.save(u, t), r && u && r.call(e, t, n.getVirtualUrl(u.url)), t
				}), (function(i) {
					return n.host.remove(u), n.ResourceEvent.dispatchResourceEvent(o, n.ResourceEvent.ITEM_LOAD_ERROR, "", u), r ? (r.call(e, null, n.getVirtualUrl(t)), Promise.reject(null)) : Promise.reject(i)
				}))
			}, r.prototype.destroyRes = function(t, r) {
				void 0 === r && (r = !0);
				var e = n.config.getGroupByName(t);
				if (e && e.length > 0) {
					if (-1 == n.config.config.loadGroup.indexOf(t)) return !1;
					if (r || 1 == n.config.config.loadGroup.length && n.config.config.loadGroup[0] == t) {
						for (var i = 0, o = e; i < o.length; i++) {
							var u = o[i];
							n.queue.unloadResource(u)
						}
						var a = n.config.config.loadGroup.indexOf(t);
						n.config.config.loadGroup.splice(a, 1)
					} else {
						for (var f = {}, c = 0, s = n.config.config.loadGroup; c < s.length; c++) {
							var v = s[c];
							for (var l in n.config.config.groups[v]) f[h = n.config.config.groups[v][l]] ? f[h]++ : f[h] = 1
						}
						for (var h in f) f[h] && 1 == f[h] && (u = n.config.getResource(h)) && n.queue.unloadResource(u);
						var g = n.config.config.loadGroup.indexOf(t);
						n.config.config.loadGroup.splice(g, 1)
					}
					return !0
				}
				return !(u = n.config.getResource(t)) || !n.host.get(u) || n.queue.unloadResource(u)
			}, r.prototype.setMaxLoadingThread = function(t) {
				1 > t && (t = 1), n.queue.thread = t
			}, r.prototype.setMaxRetryTimes = function(t) {
				t = Math.max(t, 0), n.queue.maxRetryTimes = t
			}, r.prototype.addResourceData = function(t) {
				t.root = "", n.config.addResourceData(t)
			}, __decorate([n.checkNull], r.prototype, "hasRes", null), __decorate([n.checkNull], r.prototype, "getRes", null), __decorate([n.checkNull], r.prototype, "getResAsync", null), __decorate([n.checkNull], r.prototype, "getResByUrl", null), r
		}(egret.EventDispatcher);
		n.Resource = e, __reflect(e.prototype, "RES.Resource")
	}(RES || (RES = {})),
	function(n) {
		! function(n) {
			n.normalize = function(n) {
				var t = n.split("/");
				return t.filter((function(n, r) {
					return !!n || r == t.length - 1
				})).join("/")
			}, n.basename = function(n) {
				return n.substr(n.lastIndexOf("/") + 1)
			}, n.dirname = function(n) {
				return n.substr(0, n.lastIndexOf("/"))
			}
		}(n.path || (n.path = {}))
	}(RES || (RES = {})),
	function(n) {
		var t = function() {
			function n() {}
			return n.prototype.init = function() {
				return this.versionInfo = this.getLocalData("all.manifest"), Promise.resolve()
			}, n.prototype.getVirtualUrl = function(n) {
				return n
			}, n.prototype.getLocalData = function(n) {
				if (egret_native.readUpdateFileSync && egret_native.readResourceFileSync) {
					var t = egret_native.readUpdateFileSync(n);
					if (null != t) return JSON.parse(t);
					if (null != (t = egret_native.readResourceFileSync(n))) return JSON.parse(t)
				}
				return null
			}, n
		}();
		n.NativeVersionController = t, __reflect(t.prototype, "RES.NativeVersionController", ["RES.IVersionController"]), egret.Capabilities.runtimeType == egret.RuntimeType.NATIVE && (n.VersionController = t)
	}(RES || (RES = {})),
	function(n) {
		! function(t) {
			function r(t, r) {
				var e = this;
				return new Promise((function(i, o) {
					t.addEventListener(egret.Event.COMPLETE, (function() {
						var n = t.data ? t.data : t.response;
						i(n)
					}), e), t.addEventListener(egret.IOErrorEvent.IO_ERROR, (function() {
						var t = new n.ResourceManagerError(1001, r.url);
						o(t)
					}), e)
				}))
			}

			function e(n, t) {
				if (-1 != t.indexOf("://")) return t;
				var r = (n = n.split("\\").join("/")).match(/#.*|\?.*/),
					e = "";
				r && (e = r[0]);
				var i = n.lastIndexOf("/");
				return (n = -1 != i ? n.substring(0, i + 1) + t : t) + e
			}

			function i(n) {
				return {
					name: n.name + "_alpha",
					url: n.etc1_alpha_url,
					type: "ktx",
					root: n.root
				}
			}
			t.isSupport = function(n) {
				return t._map[n.type]
			}, t.map = function(n, r) {
				t._map[n] = r
			}, t.getRelativePath = e, n.getRelativePath = e, t.ImageProcessor = {
				onLoadStart: function(t, e) {
					var i = new egret.ImageLoader;
					return i.load(n.getVirtualUrl(e.root + e.url)), r(i, e).then((function(n) {
						var r = new egret.Texture;
						r._setBitmapData(n);
						var i = t.resourceConfig.getResource(e.name);
						if (i && i.scale9grid) {
							var o = i.scale9grid.split(",");
							r.scale9Grid = new egret.Rectangle(parseInt(o[0]), parseInt(o[1]), parseInt(o[2]), parseInt(o[3]))
						}
						return r
					}))
				},
				onRemoveStart: function(n, t) {
					return n.get(t).dispose(), Promise.resolve()
				}
			}, t.KTXTextureProcessor = {
				onLoadStart: function(n, t) {
					return n.load(t, "bin").then((function(r) {
						if (!r) return console.error("ktx:" + t.root + t.url + " is null"), null;
						var e = new egret.KTXContainer(r, 1);
						if (e.isInvalid) return console.error("ktx:" + t.root + t.url + " is invalid"), null;
						var i = new egret.BitmapData(r);
						i.debugCompressedTextureURL = t.root + t.url, i.format = "ktx", e.uploadLevels(i, !1);
						var o = new egret.Texture;
						o._setBitmapData(i);
						var u = n.resourceConfig.getResource(t.name);
						if (u && u.scale9grid) {
							var a = u.scale9grid.split(",");
							o.scale9Grid = new egret.Rectangle(parseInt(a[0]), parseInt(a[1]), parseInt(a[2]), parseInt(a[3]))
						}
						return n.save(t, o), o
					}), (function(r) {
						throw n.remove(t), r
					}))
				},
				onRemoveStart: function(n, t) {
					var r = n.get(t);
					r && r.dispose()
				}
			}, t.makeEtc1SeperatedAlphaResourceInfo = i, t.ETC1KTXProcessor = {
				onLoadStart: function(n, t) {
					return n.load(t, "ktx").then((function(r) {
						if (!r) return null;
						if (t.etc1_alpha_url) {
							var e = i(t);
							return n.load(e, "ktx").then((function(t) {
								return r && r.$bitmapData && t.$bitmapData ? (r.$bitmapData.etcAlphaMask = t.$bitmapData, n.save(e, t)) : n.remove(e), r
							}), (function(t) {
								throw n.remove(e), t
							}))
						}
						return r
					}), (function(r) {
						throw n.remove(t), r
					}))
				},
				onRemoveStart: function(n, t) {
					var r = n.get(t);
					if (r && r.dispose(), t.etc1_alpha_url) {
						var e = i(t),
							o = n.get(e);
						o && o.dispose(), n.unload(e)
					}
				}
			}, t.BinaryProcessor = {
				onLoadStart: function(t, e) {
					var i = new egret.HttpRequest;
					return i.responseType = egret.HttpResponseType.ARRAY_BUFFER, i.open(n.getVirtualUrl(e.root + e.url), "get"), i.send(), r(i, e)
				},
				onRemoveStart: function(n, t) {}
			}, t.TextProcessor = {
				onLoadStart: function(t, e) {
					var i = new egret.HttpRequest;
					return i.responseType = egret.HttpResponseType.TEXT, i.open(n.getVirtualUrl(e.root + e.url), "get"), i.send(), r(i, e)
				},
				onRemoveStart: function(n, t) {
					return !0
				}
			}, t.JsonProcessor = {
				onLoadStart: function(n, t) {
					return n.load(t, "text").then((function(n) {
						return JSON.parse(n)
					}))
				},
				onRemoveStart: function(n, t) {}
			}, t.ZipProcessor = {
				onLoadStart: function(t, r) {
					return t.load(r, "bin").then((function(t) {
						try {
							return n.zlib_inflate(t, {
								to: "string"
							})
						} catch (n) {
							return function(n) {
								var t, r, e, i, o, u;
								for (t = "", e = n.length, r = 0; e > r;) switch (i = n[r++], i >> 4) {
									case 0:
									case 1:
									case 2:
									case 3:
									case 4:
									case 5:
									case 6:
									case 7:
										t += String.fromCharCode(i);
										break;
									case 12:
									case 13:
										o = n[r++], t += String.fromCharCode((31 & i) << 6 | 63 & o);
										break;
									case 14:
										o = n[r++], u = n[r++], t += String.fromCharCode((15 & i) << 12 | (63 & o) << 6 | 63 & u)
								}
								return t
							}(new Uint8Array(t))
						}
					}))
				},
				onRemoveStart: function(n, t) {}
			}, t.XMLProcessor = {
				onLoadStart: function(n, t) {
					return n.load(t, "text").then((function(n) {
						return egret.XML.parse(n)
					}))
				},
				onRemoveStart: function(n, t) {
					return !0
				}
			}, t.CommonJSProcessor = {
				onLoadStart: function(t, r) {
					return t.load(r, "text").then((function(t) {
						var e = new Function("require", "exports", t),
							i = {};
						try {
							e((function() {}), i)
						} catch (t) {
							throw new n.ResourceManagerError(2003, r.name, t.message)
						}
						return i
					}))
				},
				onRemoveStart: function(n, t) {}
			}, t.SheetProcessor = {
				onLoadStart: function(t, r) {
					return t.load(r, "json").then((function(i) {
						var o = t.resourceConfig.getResource(n.nameSelector(i.file));
						if (!o) {
							var u = e(r.url, i.file);
							o = {
								name: r.root + u,
								url: u,
								type: "image",
								root: r.root
							}, n.config.addResourceData(o)
						}
						return t.load(o).then((function(n) {
							if (!n) return null;
							var r = i.frames;
							(f = new egret.Texture)._setBitmapData(n);
							var e = new egret.SpriteSheet(f);
							for (var u in e.$resourceInfo = o, r) {
								var a = r[u],
									f = e.createTexture(u, a.x, a.y, a.w, a.h, a.offX, a.offY, a.sourceW, a.sourceH);
								if (a.scale9grid) {
									var c = a.scale9grid.split(",");
									f.scale9Grid = new egret.Rectangle(parseInt(c[0]), parseInt(c[1]), parseInt(c[2]), parseInt(c[3]))
								}
							}
							return t.save(o, n), e
						}), (function(n) {
							throw t.remove(o), n
						}))
					}))
				},
				getData: function(n, t, r, e) {
					var i = n.get(t);
					if (i) {
						var o = i.getTexture(e);
						return o && o.bitmapData ? o : null
					}
					return null
				},
				onRemoveStart: function(n, t) {
					var r = n.get(t),
						e = r.$resourceInfo;
					r.dispose(), n.unload(e)
				}
			}, t.FontProcessor = {
				onLoadStart: function(t, r) {
					return t.load(r, "text").then((function(i) {
						var o, u;
						try {
							o = JSON.parse(i)
						} catch (n) {
							o = i
						}
						u = "string" == typeof o ? function(n, t) {
							var r, e = "",
								i = t.split("\n")[2];
							return -1 != (r = i.indexOf('file="')) && (r = (i = i.substring(r + 6)).indexOf('"'), e = i.substring(0, r)), -1 != (r = (n = n.split("\\").join("/")).lastIndexOf("/")) ? n.substring(0, r + 1) + e : e
						}(r.url, o) : e(r.url, o.file);
						var a = t.resourceConfig.getResource(n.nameSelector(u));
						return a || (u = n.getVirtualUrl(u), a = {
							name: u,
							url: u,
							type: "image",
							root: r.root
						}), t.load(a).then((function(n) {
							var r = new egret.Texture;
							r._setBitmapData(n);
							var e = new egret.BitmapFont(r, o);
							return e.$resourceInfo = a, t.save(a, n), e
						}), (function(n) {
							throw t.remove(a), n
						}))
					}))
				},
				onRemoveStart: function(n, t) {
					var r = n.get(t).$resourceInfo;
					n.unload(r)
				}
			}, t.SoundProcessor = {
				onLoadStart: function(t, e) {
					var i = new egret.Sound;
					return i.load(n.getVirtualUrl(e.root + e.url)), r(i, e).then((function() {
						return i
					}))
				},
				onRemoveStart: function(n, t) {
					n.get(t).close()
				}
			}, t.MovieClipProcessor = {
				onLoadStart: function(t, r) {
					var e, i;
					return t.load(r, "json").then((function(o) {
						e = o;
						var u = r.name,
							a = u.substring(0, u.lastIndexOf(".")) + ".png";
						if (!(i = t.resourceConfig.getResource(a))) throw new n.ResourceManagerError(1001, a);
						return t.load(i)
					})).then((function(n) {
						t.save(i, n);
						var r = new egret.Texture;
						r._setBitmapData(n);
						var o = r;
						return new egret.MovieClipDataFactory(e, o)
					}))
				},
				onRemoveStart: function(n, t) {
					var r = n.get(t);
					r.clearCache(), r.$spriteSheet.dispose();
					var e = t.name,
						i = e.substring(0, e.lastIndexOf(".")) + ".png",
						o = n.resourceConfig.getResource(i);
					o && n.unload(o)
				}
			}, t.MergeJSONProcessor = {
				onLoadStart: function(t, r) {
					return t.load(r, "json").then((function(t) {
						for (var e in t) n.config.addSubkey(e, r.name);
						return t
					}))
				},
				getData: function(n, t, r, e) {
					var i = n.get(t);
					return i ? i[e] : (console.error("missing resource :" + t.name), null)
				},
				onRemoveStart: function(n, t) {}
			};
			var o = function(t, r, e) {
				var i = n.config.config,
					o = r.root,
					u = i.fileSystem;
				u || (u = {
					fsData: {},
					getFile: function(n) {
						return l[n]
					},
					addFile: function(n) {
						n.type || (n.type = ""), null == o && (n.root = ""), l[n.name] = n
					},
					profile: function() {
						console.log(l)
					},
					removeFile: function(n) {
						delete l[n]
					}
				}, i.fileSystem = u);
				for (var a = i.groups, f = 0, c = e.groups; f < c.length; f++) {
					var s = c[f];
					"" == s.keys ? a[s.name] = [] : a[s.name] = s.keys.split(",")
				}
				for (var v = i.alias, l = u.fsData, h = function(n) {
						null == n.name && (n.name = function(n) {
							return n.split("/").pop().replace(".", "_")
						}(n.url)), null == n.type && (n.subkeys ? n.type = "sheet" : n.type = "image"), l[n.name] = n, l[n.name].root = o, n.subkeys && n.subkeys.split(",").forEach((function(t) {
							v[t] = n.name + "#" + t, v[n.name + "." + t] = n.name + "#" + t
						}))
					}, g = 0, d = e.resources; g < d.length; g++) h(d[g]);
				return t.save(r, e), e
			};
			t.LegacyResourceConfigProcessor = {
				onLoadStart: function(n, t) {
					return n.load(t, "json").then((function(r) {
						return o(n, t, r)
					}))
				},
				onRemoveStart: function() {}
			}, t.ZipResourceConfigProcessor = {
				onLoadStart: function(n, t) {
					return n.load(t, "zip").then((function(r) {
						var e = JSON.parse(r);
						return o(n, t, e)
					}))
				},
				onRemoveStart: function() {}
			}, t._map = {
				image: t.ImageProcessor,
				json: t.JsonProcessor,
				text: t.TextProcessor,
				xml: t.XMLProcessor,
				sheet: t.SheetProcessor,
				font: t.FontProcessor,
				bin: t.BinaryProcessor,
				commonjs: t.CommonJSProcessor,
				sound: t.SoundProcessor,
				movieclip: t.MovieClipProcessor,
				mergeJson: t.MergeJSONProcessor,
				legacyResourceConfig: t.LegacyResourceConfigProcessor,
				ktx: t.KTXTextureProcessor,
				"etc1.ktx": t.ETC1KTXProcessor,
				"pvrtc.ktx": t.KTXTextureProcessor,
				zip: t.ZipProcessor,
				zipResourceConfig: t.ZipResourceConfigProcessor
			}
		}(n.processor || (n.processor = {}))
	}(RES || (RES = {})),
	function(n) {
		var t = function(t) {
			function r(n, r, e) {
				void 0 === r && (r = !1), void 0 === e && (e = !1);
				var i = t.call(this, n, r, e) || this;
				return i.itemsLoaded = 0, i.itemsTotal = 0, i.groupName = "", i
			}
			return __extends(r, t), r.dispatchResourceEvent = function(t, e, i, o, u, a) {
				void 0 === i && (i = ""), void 0 === o && (o = void 0), void 0 === u && (u = 0), void 0 === a && (a = 0);
				var f = egret.Event.create(r, e);
				f.groupName = i, o && (f.resItem = n.ResourceItem.convertToResItem(o)), f.itemsLoaded = u, f.itemsTotal = a;
				var c = t.dispatchEvent(f);
				return egret.Event.release(f), c
			}, r.ITEM_LOAD_ERROR = "itemLoadError", r.CONFIG_COMPLETE = "configComplete", r.CONFIG_LOAD_ERROR = "configLoadError", r.GROUP_PROGRESS = "groupProgress", r.GROUP_COMPLETE = "groupComplete", r.GROUP_LOAD_ERROR = "groupLoadError", r
		}(egret.Event);
		n.ResourceEvent = t, __reflect(t.prototype, "RES.ResourceEvent")
	}(RES || (RES = {})),
	function(n) {
		var t;
		(t = n.ResourceItem || (n.ResourceItem = {})).TYPE_XML = "xml", t.TYPE_IMAGE = "image", t.TYPE_BIN = "bin", t.TYPE_TEXT = "text", t.TYPE_JSON = "json", t.TYPE_SHEET = "sheet", t.TYPE_FONT = "font", t.TYPE_SOUND = "sound", t.convertToResItem = function(t) {
			var r = t.name;
			return n.config.config || (r = t.url), {
				name: r,
				url: t.url,
				type: t.type,
				data: t,
				root: t.root
			}
		}
	}(RES || (RES = {})),
	function(n) {
		var t = function() {
			function t(n) {
				this.data = n
			}
			return t.prototype.profile = function() {
				console.log(this.data)
			}, t.prototype.addFile = function(t, r) {
				r || (r = ""), t = n.path.normalize(t);
				var e = n.path.basename(t),
					i = n.path.dirname(t);
				this.exists(i) || this.mkdir(i), this.resolve(i)[e] = {
					url: t,
					type: r
				}
			}, t.prototype.getFile = function(n) {
				var t = this.resolve(n);
				return t && (t.name = n), t
			}, t.prototype.resolve = function(t) {
				if ("" == t) return this.data;
				for (var r = (t = n.path.normalize(t)).split("/"), e = this.data, i = 0, o = r; i < o.length; i++) {
					var u = o[i];
					if (!e) return e;
					e = e[u]
				}
				return e
			}, t.prototype.mkdir = function(t) {
				for (var r = (t = n.path.normalize(t)).split("/"), e = this.data, i = 0, o = r; i < o.length; i++) {
					var u = o[i];
					e[u] || (e[u] = {}), e = e[u]
				}
			}, t.prototype.exists = function(t) {
				if ("" == t) return !0;
				for (var r = (t = n.path.normalize(t)).split("/"), e = this.data, i = 0, o = r; i < o.length; i++) {
					var u = o[i];
					if (!e[u]) return !1;
					e = e[u]
				}
				return !0
			}, t
		}();
		n.NewFileSystem = t, __reflect(t.prototype, "RES.NewFileSystem")
	}(RES || (RES = {})),
	function(n) {
		var t = {};
		n.host = {
			state: {},
			get resourceConfig() {
				return n.config
			},
			load: function(t, r) {
				var e = "string" == typeof r ? n.processor._map[r] : r;
				return n.queue.loadResource(t, e)
			},
			unload: function(t) {
				return n.queue.unloadResource(t)
			},
			save: function(r, e) {
				n.host.state[r.root + r.url] = 2, delete r.promise, t[r.root + r.url] = e
			},
			get: function(n) {
				return t[n.root + n.url]
			},
			remove: function(r) {
				delete n.host.state[r.root + r.url], delete t[r.root + r.url]
			}
		}, n.config = new n.ResourceConfig, n.queue = new n.ResourceLoader;
		var r = function(n) {
			function t(r, e, i) {
				var o = n.call(this) || this;
				return o.__resource_manager_error__ = !0, o.name = r.toString(), o.message = t.errorMessage[r].replace("{0}", e).replace("{1}", i), o
			}
			return __extends(t, n), t.errorMessage = {
				1001: "文件加载失败:{0}",
				1002: "ResourceManager 初始化失败：配置文件加载失败",
				2001: "{0}解析失败,不支持指定解析类型:'{1}'，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",
				2002: "Analyzer 相关API 在 ResourceManager 中不再支持，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",
				2003: "{0}解析失败,错误原因:{1}",
				2004: "无法找到文件类型:{0}",
				2005: 'RES加载了不存在或空的资源组:"{0}"',
				2006: "资源配置文件中无法找到特定的资源:{0}"
			}, t
		}(Error);
		n.ResourceManagerError = r, __reflect(r.prototype, "RES.ResourceManagerError")
	}(RES || (RES = {}));
var egret;
egret || (egret = {}),
	function(t) {
		var i = function(i) {
			function n(s, h) {
				void 0 === s && (s = ""), void 0 === h && (h = 0);
				var e = i.call(this) || this;
				return e._writeMessage = "", e._readMessage = "", e._connected = !1, e._connecting = !1, e._isReadySend = !1, e._bytesWrite = !1, e._type = n.TYPE_STRING, e._connected = !1, e._writeMessage = "", e._readMessage = "", e.socket = new t.ISocket, e.socket.addCallBacks(e.onConnect, e.onClose, e.onSocketData, e.onError, e), e
			}
			return __extends(n, i), n.prototype.connect = function(t, i) {
				this._connecting || this._connected || (this._connecting = !0, this.socket.connect(t, i))
			}, n.prototype.connectByUrl = function(t) {
				this._connecting || this._connected || (this._connecting = !0, this.socket.connectByUrl(t))
			}, n.prototype.close = function() {
				this._connected && this.socket.close()
			}, n.prototype.onConnect = function() {
				this._connected = !0, this._connecting = !1, this.dispatchEventWith(t.Event.CONNECT)
			}, n.prototype.onClose = function() {
				this._connected = !1, this.dispatchEventWith(t.Event.CLOSE)
			}, n.prototype.onError = function() {
				this._connecting && (this._connecting = !1), this.dispatchEventWith(t.IOErrorEvent.IO_ERROR)
			}, n.prototype.onSocketData = function(i) {
				"string" == typeof i ? this._readMessage += i : this._readByte._writeUint8Array(new Uint8Array(i)), t.ProgressEvent.dispatchProgressEvent(this, t.ProgressEvent.SOCKET_DATA)
			}, n.prototype.flush = function() {
				this._connected ? (this._writeMessage && (this.socket.send(this._writeMessage), this._writeMessage = ""), this._bytesWrite && (this.socket.send(this._writeByte.buffer), this._bytesWrite = !1, this._writeByte.clear()), this._isReadySend = !1) : t.$warn(3101)
			}, n.prototype.writeUTF = function(i) {
				this._connected ? (this._type == n.TYPE_BINARY ? (this._bytesWrite = !0, this._writeByte.writeUTF(i)) : this._writeMessage += i, this.flush()) : t.$warn(3101)
			}, n.prototype.readUTF = function() {
				var t;
				return this._type == n.TYPE_BINARY ? (this._readByte.position = 0, t = this._readByte.readUTF(), this._readByte.clear()) : (t = this._readMessage, this._readMessage = ""), t
			}, n.prototype.writeBytes = function(i, n, s) {
				void 0 === n && (n = 0), void 0 === s && (s = 0), this._connected ? this._writeByte ? (this._bytesWrite = !0, this._writeByte.writeBytes(i, n, s), this.flush()) : t.$warn(3102) : t.$warn(3101)
			}, n.prototype.readBytes = function(i, n, s) {
				void 0 === n && (n = 0), void 0 === s && (s = 0), this._readByte ? (this._readByte.position = 0, this._readByte.readBytes(i, n, s), this._readByte.clear()) : t.$warn(3102)
			}, Object.defineProperty(n.prototype, "connected", {
				get: function() {
					return this._connected
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(n.prototype, "type", {
				get: function() {
					return this._type
				},
				set: function(i) {
					this._type = i, i != n.TYPE_BINARY || this._writeByte || (this._readByte = new t.ByteArray, this._writeByte = new t.ByteArray)
				},
				enumerable: !0,
				configurable: !0
			}), n.TYPE_STRING = "webSocketTypeString", n.TYPE_BINARY = "webSocketTypeBinary", n
		}(t.EventDispatcher);
		t.WebSocket = i, __reflect(i.prototype, "egret.WebSocket")
	}(egret || (egret = {})),
	function(t) {
		var i, n;
		i = t.web || (t.web = {}), n = function() {
			function i() {
				this.host = "", this.port = 0, window.WebSocket || t.$error(3100)
			}
			return i.prototype.addCallBacks = function(t, i, n, s, h) {
				this.onConnect = t, this.onClose = i, this.onSocketData = n, this.onError = s, this.thisObject = h
			}, i.prototype.connect = function(t, i) {
				this.host = t, this.port = i;
				var n = "ws://" + this.host + ":" + this.port;
				this.socket = new window.WebSocket(n), this.socket.binaryType = "arraybuffer", this._bindEvent()
			}, i.prototype.connectByUrl = function(t) {
				this.socket = new window.WebSocket(t), this.socket.binaryType = "arraybuffer", this._bindEvent()
			}, i.prototype._bindEvent = function() {
				var t = this,
					i = this.socket;
				i.onopen = function() {
					t.onConnect && t.onConnect.call(t.thisObject)
				}, i.onclose = function(i) {
					t.onClose && t.onClose.call(t.thisObject)
				}, i.onerror = function(i) {
					t.onError && t.onError.call(t.thisObject)
				}, i.onmessage = function(i) {
					t.onSocketData && (i.data ? t.onSocketData.call(t.thisObject, i.data) : t.onSocketData.call(t.thisObject, i))
				}
			}, i.prototype.send = function(t) {
				this.socket.send(t)
			}, i.prototype.close = function() {
				this.socket.close()
			}, i.prototype.disconnect = function() {
				this.socket.disconnect && this.socket.disconnect()
			}, i
		}(), i.HTML5WebSocket = n, __reflect(n.prototype, "egret.web.HTML5WebSocket", ["egret.ISocket"]), t.ISocket = n
	}(egret || (egret = {}));
! function(n, t) {
	"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : n.ES6Promise = t()
}(this, (function() {
	"use strict";

	function n(n) {
		return "function" == typeof n
	}

	function t() {
		var n = setTimeout;
		return function() {
			return n(i, 1)
		}
	}

	function i() {
		for (var n = 0; g > n; n += 2)(0, q[n])(q[n + 1]), q[n] = void 0, q[n + 1] = void 0;
		g = 0
	}

	function e(n, t) {
		var i = arguments,
			e = this,
			r = new this.constructor(o);
		void 0 === r[F] && y(r);
		var u = e._state;
		return u ? function() {
			var n = i[u - 1];
			T((function() {
				return p(u, r, n, e._result)
			}))
		}() : v(e, r, n, t), r
	}

	function r(n) {
		if (n && "object" == typeof n && n.constructor === this) return n;
		var t = new this(o);
		return c(t, n), t
	}

	function o() {}

	function u(n) {
		try {
			return n.then
		} catch (n) {
			return D.error = n, D
		}
	}

	function f(t, i, o) {
		i.constructor === t.constructor && o === e && i.constructor.resolve === r ? function(n, t) {
			t._state === S ? a(n, t._result) : t._state === k ? h(n, t._result) : v(t, void 0, (function(t) {
				return c(n, t)
			}), (function(t) {
				return h(n, t)
			}))
		}(t, i) : o === D ? h(t, D.error) : void 0 === o ? a(t, i) : n(o) ? function(n, t, i) {
			T((function(n) {
				var e = !1,
					r = function(n, t, i, e) {
						try {
							n.call(t, i, e)
						} catch (n) {
							return n
						}
					}(i, t, (function(i) {
						e || (e = !0, t !== i ? c(n, i) : a(n, i))
					}), (function(t) {
						e || (e = !0, h(n, t))
					}), n._label);
				!e && r && (e = !0, h(n, r))
			}), n)
		}(t, i, o) : a(t, i)
	}

	function c(n, t) {
		var i;
		n === t ? h(n, new TypeError("You cannot resolve a promise with itself")) : "function" == typeof(i = t) || "object" == typeof i && null !== i ? f(n, t, u(t)) : a(n, t)
	}

	function s(n) {
		n._onerror && n._onerror(n._result), d(n)
	}

	function a(n, t) {
		n._state === O && (n._result = t, n._state = S, 0 !== n._subscribers.length && T(d, n))
	}

	function h(n, t) {
		n._state === O && (n._state = k, n._result = t, T(s, n))
	}

	function v(n, t, i, e) {
		var r = n._subscribers,
			o = r.length;
		n._onerror = null, r[o] = t, r[o + S] = i, r[o + k] = e, 0 === o && n._state && T(d, n)
	}

	function d(n) {
		var t = n._subscribers,
			i = n._state;
		if (0 !== t.length) {
			for (var e = void 0, r = void 0, o = n._result, u = 0; u < t.length; u += 3) e = t[u], r = t[u + i], e ? p(i, e, r, o) : r(o);
			n._subscribers.length = 0
		}
	}

	function l() {
		this.error = null
	}

	function p(t, i, e, r) {
		var o = n(e),
			u = void 0,
			f = void 0,
			s = void 0,
			v = void 0;
		if (o) {
			if ((u = function(n, t) {
					try {
						return n(t)
					} catch (n) {
						return U.error = n, U
					}
				}(e, r)) === U ? (v = !0, f = u.error, u = null) : s = !0, i === u) return void h(i, new TypeError("A promises callback cannot return that same promise."))
		} else u = r, s = !0;
		i._state !== O || (o && s ? c(i, u) : v ? h(i, f) : t === S ? a(i, u) : t === k && h(i, u))
	}

	function y(n) {
		n[F] = z++, n._state = void 0, n._result = void 0, n._subscribers = []
	}

	function w(n, t) {
		this._instanceConstructor = n, this.promise = new n(o), this.promise[F] || y(this.promise), j(t) ? (this._input = t, this.length = t.length, this._remaining = t.length, this._result = new Array(this.length), 0 === this.length ? a(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(), 0 === this._remaining && a(this.promise, this._result))) : h(this.promise, new Error("Array Methods must be provided an Array"))
	}

	function m(n) {
		this[F] = z++, this._result = this._state = void 0, this._subscribers = [], o !== n && ("function" != typeof n && function() {
			throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
		}(), this instanceof m ? function(n, t) {
			try {
				t((function(t) {
					c(n, t)
				}), (function(t) {
					h(n, t)
				}))
			} catch (t) {
				h(n, t)
			}
		}(this, n) : function() {
			throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
		}())
	}
	var b, j = Array.isArray ? Array.isArray : function(n) {
			return "[object Array]" === Object.prototype.toString.call(n)
		},
		g = 0,
		A = void 0,
		E = void 0,
		T = function(n, t) {
			q[g] = n, q[g + 1] = t, 2 === (g += 2) && (E ? E(i) : x())
		},
		P = "undefined" != typeof window ? window : void 0,
		M = P || {},
		C = M.MutationObserver || M.WebKitMutationObserver,
		Y = "undefined" == typeof self && "undefined" != typeof process && "[object process]" === {}.toString.call(process),
		_ = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
		q = new Array(1e3),
		x = void 0;
	x = Y ? function() {
		return process.nextTick(i)
	} : C ? function() {
		var n = 0,
			t = new C(i),
			e = document.createTextNode("");
		return t.observe(e, {
				characterData: !0
			}),
			function() {
				e.data = n = ++n % 2
			}
	}() : _ ? ((b = new MessageChannel).port1.onmessage = i, function() {
		return b.port2.postMessage(0)
	}) : void 0 === P && "function" == typeof require ? function() {
		try {
			var n = require("vertx");
			return void 0 !== (A = n.runOnLoop || n.runOnContext) ? function() {
				A(i)
			} : t()
		} catch (n) {
			return t()
		}
	}() : t();
	var F = Math.random().toString(36).substring(16),
		O = void 0,
		S = 1,
		k = 2,
		D = new l,
		U = new l,
		z = 0;
	return w.prototype._enumerate = function() {
		for (var n = this.length, t = this._input, i = 0; this._state === O && n > i; i++) this._eachEntry(t[i], i)
	}, w.prototype._eachEntry = function(n, t) {
		var i = this._instanceConstructor,
			c = i.resolve;
		if (c === r) {
			var s = u(n);
			if (s === e && n._state !== O) this._settledAt(n._state, t, n._result);
			else if ("function" != typeof s) this._remaining--, this._result[t] = n;
			else if (i === m) {
				var a = new i(o);
				f(a, n, s), this._willSettleAt(a, t)
			} else this._willSettleAt(new i((function(t) {
				return t(n)
			})), t)
		} else this._willSettleAt(c(n), t)
	}, w.prototype._settledAt = function(n, t, i) {
		var e = this.promise;
		e._state === O && (this._remaining--, n === k ? h(e, i) : this._result[t] = i), 0 === this._remaining && a(e, this._result)
	}, w.prototype._willSettleAt = function(n, t) {
		var i = this;
		v(n, void 0, (function(n) {
			return i._settledAt(S, t, n)
		}), (function(n) {
			return i._settledAt(k, t, n)
		}))
	}, m.all = function(n) {
		return new w(this, n).promise
	}, m.race = function(n) {
		var t = this;
		return new t(j(n) ? function(i, e) {
			for (var r = n.length, o = 0; r > o; o++) t.resolve(n[o]).then(i, e)
		} : function(n, t) {
			return t(new TypeError("You must pass an array to race."))
		})
	}, m.resolve = r, m.reject = function(n) {
		var t = new this(o);
		return h(t, n), t
	}, m._setScheduler = function(n) {
		E = n
	}, m._setAsap = function(n) {
		T = n
	}, m._asap = T, m.prototype = {
		constructor: m,
		then: e,
		catch: function(n) {
			return this.then(null, n)
		}
	}, m.polyfill = function() {
		var n = void 0;
		if ("undefined" != typeof global) n = global;
		else if ("undefined" != typeof self) n = self;
		else try {
			n = Function("return this")()
		} catch (n) {
			throw new Error("polyfill failed because global object is unavailable in this environment")
		}
		var t = n.Promise;
		if ("undefined" != typeof egret_native && egret_native.capability && !egret_native.capability("Promise") && (t = void 0), t) {
			var i = null;
			try {
				i = Object.prototype.toString.call(t.resolve())
			} catch (n) {}
			if ("[object Promise]" === i && !t.cast) return
		}
		n.Promise = m
	}, m.Promise = m, m
})), ES6Promise.polyfill();
! function(t) {
	if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
	else if ("function" == typeof define && define.amd) define([], t);
	else {
		var r;
		r = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, r.msgpack = t()
	}
}(function() {
	return function t(r, e, n) {
		function i(f, u) {
			if (!e[f]) {
				if (!r[f]) {
					var a = "function" == typeof require && require;
					if (!u && a) return a(f, !0);
					if (o) return o(f, !0);
					var s = new Error("Cannot find module '" + f + "'");
					throw s.code = "MODULE_NOT_FOUND", s
				}
				var c = e[f] = {
					exports: {}
				};
				r[f][0].call(c.exports, function(t) {
					var e = r[f][1][t];
					return i(e ? e : t)
				}, c, c.exports, t, r, e, n)
			}
			return e[f].exports
		}
		for (var o = "function" == typeof require && require, f = 0; f < n.length; f++) i(n[f]);
		return i
	}({
		1: [function(t, r, e) {
			e.encode = t("./encode").encode, e.decode = t("./decode").decode, e.Encoder = t("./encoder").Encoder, e.Decoder = t("./decoder").Decoder, e.createCodec = t("./ext").createCodec, e.codec = t("./codec").codec
		}, {
			"./codec": 10,
			"./decode": 12,
			"./decoder": 13,
			"./encode": 15,
			"./encoder": 16,
			"./ext": 20
		}],
		2: [function(t, r, e) {
			(function(Buffer) {
				function t(t) {
					return t && t.isBuffer && t
				}
				r.exports = t("undefined" != typeof Buffer && Buffer) || t(this.Buffer) || t("undefined" != typeof window && window.Buffer) || this.Buffer
			}).call(this, t("buffer").Buffer)
		}, {
			buffer: 29
		}],
		3: [function(t, r, e) {
			function n(t, r) {
				for (var e = this, n = r || (r |= 0), i = t.length, o = 0, f = 0; f < i;) o = t.charCodeAt(f++), o < 128 ? e[n++] = o : o < 2048 ? (e[n++] = 192 | o >>> 6, e[n++] = 128 | 63 & o) : o < 55296 || o > 57343 ? (e[n++] = 224 | o >>> 12, e[n++] = 128 | o >>> 6 & 63, e[n++] = 128 | 63 & o) : (o = (o - 55296 << 10 | t.charCodeAt(f++) - 56320) + 65536, e[n++] = 240 | o >>> 18, e[n++] = 128 | o >>> 12 & 63, e[n++] = 128 | o >>> 6 & 63, e[n++] = 128 | 63 & o);
				return n - r
			}

			function i(t, r, e) {
				var n = this,
					i = 0 | r;
				e || (e = n.length);
				for (var o = "", f = 0; i < e;) f = n[i++], f < 128 ? o += String.fromCharCode(f) : (192 === (224 & f) ? f = (31 & f) << 6 | 63 & n[i++] : 224 === (240 & f) ? f = (15 & f) << 12 | (63 & n[i++]) << 6 | 63 & n[i++] : 240 === (248 & f) && (f = (7 & f) << 18 | (63 & n[i++]) << 12 | (63 & n[i++]) << 6 | 63 & n[i++]), f >= 65536 ? (f -= 65536, o += String.fromCharCode((f >>> 10) + 55296, (1023 & f) + 56320)) : o += String.fromCharCode(f));
				return o
			}

			function o(t, r, e, n) {
				var i;
				e || (e = 0), n || 0 === n || (n = this.length), r || (r = 0);
				var o = n - e;
				if (t === this && e < r && r < n)
					for (i = o - 1; i >= 0; i--) t[i + r] = this[i + e];
				else
					for (i = 0; i < o; i++) t[i + r] = this[i + e];
				return o
			}
			e.copy = o, e.toString = i, e.write = n
		}, {}],
		4: [function(t, r, e) {
			function n(t) {
				return new Array(t)
			}

			function i(t) {
				if (!o.isBuffer(t) && o.isView(t)) t = o.Uint8Array.from(t);
				else if (o.isArrayBuffer(t)) t = new Uint8Array(t);
				else {
					if ("string" == typeof t) return o.from.call(e, t);
					if ("number" == typeof t) throw new TypeError('"value" argument must not be a number')
				}
				return Array.prototype.slice.call(t)
			}
			var o = t("./bufferish"),
				e = r.exports = n(0);
			e.alloc = n, e.concat = o.concat, e.from = i
		}, {
			"./bufferish": 8
		}],
		5: [function(t, r, e) {
			function n(t) {
				return new Buffer(t)
			}

			function i(t) {
				if (!o.isBuffer(t) && o.isView(t)) t = o.Uint8Array.from(t);
				else if (o.isArrayBuffer(t)) t = new Uint8Array(t);
				else {
					if ("string" == typeof t) return o.from.call(e, t);
					if ("number" == typeof t) throw new TypeError('"value" argument must not be a number')
				}
				return Buffer.from && 1 !== Buffer.from.length ? Buffer.from(t) : new Buffer(t)
			}
			var o = t("./bufferish"),
				Buffer = o.global,
				e = r.exports = o.hasBuffer ? n(0) : [];
			e.alloc = o.hasBuffer && Buffer.alloc || n, e.concat = o.concat, e.from = i
		}, {
			"./bufferish": 8
		}],
		6: [function(t, r, e) {
			function n(t, r, e, n) {
				var o = a.isBuffer(this),
					f = a.isBuffer(t);
				if (o && f) return this.copy(t, r, e, n);
				if (c || o || f || !a.isView(this) || !a.isView(t)) return u.copy.call(this, t, r, e, n);
				var s = e || null != n ? i.call(this, e, n) : this;
				return t.set(s, r), s.length
			}

			function i(t, r) {
				var e = this.slice || !c && this.subarray;
				if (e) return e.call(this, t, r);
				var i = a.alloc.call(this, r - t);
				return n.call(this, i, 0, t, r), i
			}

			function o(t, r, e) {
				var n = !s && a.isBuffer(this) ? this.toString : u.toString;
				return n.apply(this, arguments)
			}

			function f(t) {
				function r() {
					var r = this[t] || u[t];
					return r.apply(this, arguments)
				}
				return r
			}
			var u = t("./buffer-lite");
			e.copy = n, e.slice = i, e.toString = o, e.write = f("write");
			var a = t("./bufferish"),
				Buffer = a.global,
				s = a.hasBuffer && "TYPED_ARRAY_SUPPORT" in Buffer,
				c = s && !Buffer.TYPED_ARRAY_SUPPORT
		}, {
			"./buffer-lite": 3,
			"./bufferish": 8
		}],
		7: [function(t, r, e) {
			function n(t) {
				return new Uint8Array(t)
			}

			function i(t) {
				if (o.isView(t)) {
					var r = t.byteOffset,
						n = t.byteLength;
					t = t.buffer, t.byteLength !== n && (t.slice ? t = t.slice(r, r + n) : (t = new Uint8Array(t), t.byteLength !== n && (t = Array.prototype.slice.call(t, r, r + n))))
				} else {
					if ("string" == typeof t) return o.from.call(e, t);
					if ("number" == typeof t) throw new TypeError('"value" argument must not be a number')
				}
				return new Uint8Array(t)
			}
			var o = t("./bufferish"),
				e = r.exports = o.hasArrayBuffer ? n(0) : [];
			e.alloc = n, e.concat = o.concat, e.from = i
		}, {
			"./bufferish": 8
		}],
		8: [function(t, r, e) {
			function n(t) {
				return "string" == typeof t ? u.call(this, t) : a(this).from(t)
			}

			function i(t) {
				return a(this).alloc(t)
			}

			function o(t, r) {
				function n(t) {
					r += t.length
				}

				function o(t) {
					a += w.copy.call(t, u, a)
				}
				r || (r = 0, Array.prototype.forEach.call(t, n));
				var f = this !== e && this || t[0],
					u = i.call(f, r),
					a = 0;
				return Array.prototype.forEach.call(t, o), u
			}

			function f(t) {
				return t instanceof ArrayBuffer || E(t)
			}

			function u(t) {
				var r = 3 * t.length,
					e = i.call(this, r),
					n = w.write.call(e, t);
				return r !== n && (e = w.slice.call(e, 0, n)), e
			}

			function a(t) {
				return d(t) ? g : y(t) ? b : p(t) ? v : h ? g : l ? b : v
			}

			function s() {
				return !1
			}

			function c(t, r) {
				return t = "[object " + t + "]",
					function(e) {
						return null != e && {}.toString.call(r ? e[r] : e) === t
					}
			}
			var Buffer = e.global = t("./buffer-global"),
				h = e.hasBuffer = Buffer && !!Buffer.isBuffer,
				l = e.hasArrayBuffer = "undefined" != typeof ArrayBuffer,
				p = e.isArray = t("isarray");
			e.isArrayBuffer = l ? f : s;
			var d = e.isBuffer = h ? Buffer.isBuffer : s,
				y = e.isView = l ? ArrayBuffer.isView || c("ArrayBuffer", "buffer") : s;
			e.alloc = i, e.concat = o, e.from = n;
			var v = e.Array = t("./bufferish-array"),
				g = e.Buffer = t("./bufferish-buffer"),
				b = e.Uint8Array = t("./bufferish-uint8array"),
				w = e.prototype = t("./bufferish-proto"),
				E = c("ArrayBuffer")
		}, {
			"./buffer-global": 2,
			"./bufferish-array": 4,
			"./bufferish-buffer": 5,
			"./bufferish-proto": 6,
			"./bufferish-uint8array": 7,
			isarray: 34
		}],
		9: [function(t, r, e) {
			function n(t) {
				return this instanceof n ? (this.options = t, void this.init()) : new n(t)
			}

			function i(t) {
				for (var r in t) n.prototype[r] = o(n.prototype[r], t[r])
			}

			function o(t, r) {
				function e() {
					return t.apply(this, arguments), r.apply(this, arguments)
				}
				return t && r ? e : t || r
			}

			function f(t) {
				function r(t, r) {
					return r(t)
				}
				return t = t.slice(),
					function(e) {
						return t.reduce(r, e)
					}
			}

			function u(t) {
				return s(t) ? f(t) : t
			}

			function a(t) {
				return new n(t)
			}
			var s = t("isarray");
			e.createCodec = a, e.install = i, e.filter = u;
			var c = t("./bufferish");
			n.prototype.init = function() {
				var t = this.options;
				return t && t.uint8array && (this.bufferish = c.Uint8Array), this
			}, e.preset = a({
				preset: !0
			})
		}, {
			"./bufferish": 8,
			isarray: 34
		}],
		10: [function(t, r, e) {
			t("./read-core"), t("./write-core"), e.codec = {
				preset: t("./codec-base").preset
			}
		}, {
			"./codec-base": 9,
			"./read-core": 22,
			"./write-core": 25
		}],
		11: [function(t, r, e) {
			function n(t) {
				if (!(this instanceof n)) return new n(t);
				if (t && (this.options = t, t.codec)) {
					var r = this.codec = t.codec;
					r.bufferish && (this.bufferish = r.bufferish)
				}
			}
			e.DecodeBuffer = n;
			var i = t("./read-core").preset,
				o = t("./flex-buffer").FlexDecoder;
			o.mixin(n.prototype), n.prototype.codec = i, n.prototype.fetch = function() {
				return this.codec.decode(this)
			}
		}, {
			"./flex-buffer": 21,
			"./read-core": 22
		}],
		12: [function(t, r, e) {
			function n(t, r) {
				var e = new i(r);
				return e.write(t), e.read()
			}
			e.decode = n;
			var i = t("./decode-buffer").DecodeBuffer
		}, {
			"./decode-buffer": 11
		}],
		13: [function(t, r, e) {
			function n(t) {
				return this instanceof n ? void o.call(this, t) : new n(t)
			}
			e.Decoder = n;
			var i = t("event-lite"),
				o = t("./decode-buffer").DecodeBuffer;
			n.prototype = new o, i.mixin(n.prototype), n.prototype.decode = function(t) {
				arguments.length && this.write(t), this.flush()
			}, n.prototype.push = function(t) {
				this.emit("data", t)
			}, n.prototype.end = function(t) {
				this.decode(t), this.emit("end")
			}
		}, {
			"./decode-buffer": 11,
			"event-lite": 31
		}],
		14: [function(t, r, e) {
			function n(t) {
				if (!(this instanceof n)) return new n(t);
				if (t && (this.options = t, t.codec)) {
					var r = this.codec = t.codec;
					r.bufferish && (this.bufferish = r.bufferish)
				}
			}
			e.EncodeBuffer = n;
			var i = t("./write-core").preset,
				o = t("./flex-buffer").FlexEncoder;
			o.mixin(n.prototype), n.prototype.codec = i, n.prototype.write = function(t) {
				this.codec.encode(this, t)
			}
		}, {
			"./flex-buffer": 21,
			"./write-core": 25
		}],
		15: [function(t, r, e) {
			function n(t, r) {
				var e = new i(r);
				return e.write(t), e.read()
			}
			e.encode = n;
			var i = t("./encode-buffer").EncodeBuffer
		}, {
			"./encode-buffer": 14
		}],
		16: [function(t, r, e) {
			function n(t) {
				return this instanceof n ? void o.call(this, t) : new n(t)
			}
			e.Encoder = n;
			var i = t("event-lite"),
				o = t("./encode-buffer").EncodeBuffer;
			n.prototype = new o, i.mixin(n.prototype), n.prototype.encode = function(t) {
				this.write(t), this.emit("data", this.read())
			}, n.prototype.end = function(t) {
				arguments.length && this.encode(t), this.flush(), this.emit("end")
			}
		}, {
			"./encode-buffer": 14,
			"event-lite": 31
		}],
		17: [function(t, r, e) {
			function n(t, r) {
				return this instanceof n ? (this.buffer = i.from(t), void(this.type = r)) : new n(t, r)
			}
			e.ExtBuffer = n;
			var i = t("./bufferish")
		}, {
			"./bufferish": 8
		}],
		18: [function(t, r, e) {
			function n(t) {
				t.addExtPacker(14, Error, [u, i]), t.addExtPacker(1, EvalError, [u, i]), t.addExtPacker(2, RangeError, [u, i]), t.addExtPacker(3, ReferenceError, [u, i]), t.addExtPacker(4, SyntaxError, [u, i]), t.addExtPacker(5, TypeError, [u, i]), t.addExtPacker(6, URIError, [u, i]), t.addExtPacker(10, RegExp, [f, i]), t.addExtPacker(11, Boolean, [o, i]), t.addExtPacker(12, String, [o, i]), t.addExtPacker(13, Date, [Number, i]), t.addExtPacker(15, Number, [o, i]), "undefined" != typeof Uint8Array && (t.addExtPacker(17, Int8Array, c), t.addExtPacker(18, Uint8Array, c), t.addExtPacker(19, Int16Array, c), t.addExtPacker(20, Uint16Array, c), t.addExtPacker(21, Int32Array, c), t.addExtPacker(22, Uint32Array, c), t.addExtPacker(23, Float32Array, c), "undefined" != typeof Float64Array && t.addExtPacker(24, Float64Array, c), "undefined" != typeof Uint8ClampedArray && t.addExtPacker(25, Uint8ClampedArray, c), t.addExtPacker(26, ArrayBuffer, c), t.addExtPacker(29, DataView, c)), s.hasBuffer && t.addExtPacker(27, Buffer, s.from)
			}

			function i(r) {
				return a || (a = t("./encode").encode), a(r)
			}

			function o(t) {
				return t.valueOf()
			}

			function f(t) {
				t = RegExp.prototype.toString.call(t).split("/"), t.shift();
				var r = [t.pop()];
				return r.unshift(t.join("/")), r
			}

			function u(t) {
				var r = {};
				for (var e in h) r[e] = t[e];
				return r
			}
			e.setExtPackers = n;
			var a, s = t("./bufferish"),
				Buffer = s.global,
				c = s.Uint8Array.from,
				h = {
					name: 1,
					message: 1,
					stack: 1,
					columnNumber: 1,
					fileName: 1,
					lineNumber: 1
				}
		}, {
			"./bufferish": 8,
			"./encode": 15
		}],
		19: [function(t, r, e) {
			function n(t) {
				t.addExtUnpacker(14, [i, f(Error)]), t.addExtUnpacker(1, [i, f(EvalError)]), t.addExtUnpacker(2, [i, f(RangeError)]), t.addExtUnpacker(3, [i, f(ReferenceError)]), t.addExtUnpacker(4, [i, f(SyntaxError)]), t.addExtUnpacker(5, [i, f(TypeError)]), t.addExtUnpacker(6, [i, f(URIError)]), t.addExtUnpacker(10, [i, o]), t.addExtUnpacker(11, [i, u(Boolean)]), t.addExtUnpacker(12, [i, u(String)]), t.addExtUnpacker(13, [i, u(Date)]), t.addExtUnpacker(15, [i, u(Number)]), "undefined" != typeof Uint8Array && (t.addExtUnpacker(17, u(Int8Array)), t.addExtUnpacker(18, u(Uint8Array)), t.addExtUnpacker(19, [a, u(Int16Array)]), t.addExtUnpacker(20, [a, u(Uint16Array)]), t.addExtUnpacker(21, [a, u(Int32Array)]), t.addExtUnpacker(22, [a, u(Uint32Array)]), t.addExtUnpacker(23, [a, u(Float32Array)]), "undefined" != typeof Float64Array && t.addExtUnpacker(24, [a, u(Float64Array)]), "undefined" != typeof Uint8ClampedArray && t.addExtUnpacker(25, u(Uint8ClampedArray)), t.addExtUnpacker(26, a), t.addExtUnpacker(29, [a, u(DataView)])), c.hasBuffer && t.addExtUnpacker(27, u(Buffer))
			}

			function i(r) {
				return s || (s = t("./decode").decode), s(r)
			}

			function o(t) {
				return RegExp.apply(null, t)
			}

			function f(t) {
				return function(r) {
					var e = new t;
					for (var n in h) e[n] = r[n];
					return e
				}
			}

			function u(t) {
				return function(r) {
					return new t(r)
				}
			}

			function a(t) {
				return new Uint8Array(t).buffer
			}
			e.setExtUnpackers = n;
			var s, c = t("./bufferish"),
				Buffer = c.global,
				h = {
					name: 1,
					message: 1,
					stack: 1,
					columnNumber: 1,
					fileName: 1,
					lineNumber: 1
				}
		}, {
			"./bufferish": 8,
			"./decode": 12
		}],
		20: [function(t, r, e) {
			t("./read-core"), t("./write-core"), e.createCodec = t("./codec-base").createCodec
		}, {
			"./codec-base": 9,
			"./read-core": 22,
			"./write-core": 25
		}],
		21: [function(t, r, e) {
			function n() {
				if (!(this instanceof n)) return new n
			}

			function i() {
				if (!(this instanceof i)) return new i
			}

			function o() {
				function t(t) {
					var r = this.offset ? p.prototype.slice.call(this.buffer, this.offset) : this.buffer;
					this.buffer = r ? t ? this.bufferish.concat([r, t]) : r : t, this.offset = 0
				}

				function r() {
					for (; this.offset < this.buffer.length;) {
						var t, r = this.offset;
						try {
							t = this.fetch()
						} catch (t) {
							if (t && t.message != v) throw t;
							this.offset = r;
							break
						}
						this.push(t)
					}
				}

				function e(t) {
					var r = this.offset,
						e = r + t;
					if (e > this.buffer.length) throw new Error(v);
					return this.offset = e, r
				}
				return {
					bufferish: p,
					write: t,
					fetch: a,
					flush: r,
					push: c,
					pull: h,
					read: s,
					reserve: e,
					offset: 0
				}
			}

			function f() {
				function t() {
					var t = this.start;
					if (t < this.offset) {
						var r = this.start = this.offset;
						return p.prototype.slice.call(this.buffer, t, r)
					}
				}

				function r() {
					for (; this.start < this.offset;) {
						var t = this.fetch();
						t && this.push(t)
					}
				}

				function e() {
					var t = this.buffers || (this.buffers = []),
						r = t.length > 1 ? this.bufferish.concat(t) : t[0];
					return t.length = 0, r
				}

				function n(t) {
					var r = 0 | t;
					if (this.buffer) {
						var e = this.buffer.length,
							n = 0 | this.offset,
							i = n + r;
						if (i < e) return this.offset = i, n;
						this.flush(), t = Math.max(t, Math.min(2 * e, this.maxBufferSize))
					}
					return t = Math.max(t, this.minBufferSize), this.buffer = this.bufferish.alloc(t), this.start = 0, this.offset = r, 0
				}

				function i(t) {
					var r = t.length;
					if (r > this.minBufferSize) this.flush(), this.push(t);
					else {
						var e = this.reserve(r);
						p.prototype.copy.call(t, this.buffer, e)
					}
				}
				return {
					bufferish: p,
					write: u,
					fetch: t,
					flush: r,
					push: c,
					pull: e,
					read: s,
					reserve: n,
					send: i,
					maxBufferSize: y,
					minBufferSize: d,
					offset: 0,
					start: 0
				}
			}

			function u() {
				throw new Error("method not implemented: write()")
			}

			function a() {
				throw new Error("method not implemented: fetch()")
			}

			function s() {
				var t = this.buffers && this.buffers.length;
				return t ? (this.flush(), this.pull()) : this.fetch()
			}

			function c(t) {
				var r = this.buffers || (this.buffers = []);
				r.push(t)
			}

			function h() {
				var t = this.buffers || (this.buffers = []);
				return t.shift()
			}

			function l(t) {
				function r(r) {
					for (var e in t) r[e] = t[e];
					return r
				}
				return r
			}
			e.FlexDecoder = n, e.FlexEncoder = i;
			var p = t("./bufferish"),
				d = 2048,
				y = 65536,
				v = "BUFFER_SHORTAGE";
			n.mixin = l(o()), n.mixin(n.prototype), i.mixin = l(f()), i.mixin(i.prototype)
		}, {
			"./bufferish": 8
		}],
		22: [function(t, r, e) {
			function n(t) {
				function r(t) {
					var r = s(t),
						n = e[r];
					if (!n) throw new Error("Invalid type: " + (r ? "0x" + r.toString(16) : r));
					return n(t)
				}
				var e = c.getReadToken(t);
				return r
			}

			function i() {
				var t = this.options;
				return this.decode = n(t), t && t.preset && a.setExtUnpackers(this), this
			}

			function o(t, r) {
				var e = this.extUnpackers || (this.extUnpackers = []);
				e[t] = h.filter(r)
			}

			function f(t) {
				function r(r) {
					return new u(r, t)
				}
				var e = this.extUnpackers || (this.extUnpackers = []);
				return e[t] || r
			}
			var u = t("./ext-buffer").ExtBuffer,
				a = t("./ext-unpacker"),
				s = t("./read-format").readUint8,
				c = t("./read-token"),
				h = t("./codec-base");
			h.install({
				addExtUnpacker: o,
				getExtUnpacker: f,
				init: i
			}), e.preset = i.call(h.preset)
		}, {
			"./codec-base": 9,
			"./ext-buffer": 17,
			"./ext-unpacker": 19,
			"./read-format": 23,
			"./read-token": 24
		}],
		23: [function(t, r, e) {
			function n(t) {
				var r = k.hasArrayBuffer && t && t.binarraybuffer,
					e = t && t.int64,
					n = T && t && t.usemap,
					B = {
						map: n ? o : i,
						array: f,
						str: u,
						bin: r ? s : a,
						ext: c,
						uint8: h,
						uint16: p,
						uint32: y,
						uint64: g(8, e ? E : b),
						int8: l,
						int16: d,
						int32: v,
						int64: g(8, e ? A : w),
						float32: g(4, m),
						float64: g(8, x)
					};
				return B
			}

			function i(t, r) {
				var e, n = {},
					i = new Array(r),
					o = new Array(r),
					f = t.codec.decode;
				for (e = 0; e < r; e++) i[e] = f(t), o[e] = f(t);
				for (e = 0; e < r; e++) n[i[e]] = o[e];
				return n
			}

			function o(t, r) {
				var e, n = new Map,
					i = new Array(r),
					o = new Array(r),
					f = t.codec.decode;
				for (e = 0; e < r; e++) i[e] = f(t), o[e] = f(t);
				for (e = 0; e < r; e++) n.set(i[e], o[e]);
				return n
			}

			function f(t, r) {
				for (var e = new Array(r), n = t.codec.decode, i = 0; i < r; i++) e[i] = n(t);
				return e
			}

			function u(t, r) {
				var e = t.reserve(r),
					n = e + r;
				return _.toString.call(t.buffer, "utf-8", e, n)
			}

			function a(t, r) {
				var e = t.reserve(r),
					n = e + r,
					i = _.slice.call(t.buffer, e, n);
				return k.from(i)
			}

			function s(t, r) {
				var e = t.reserve(r),
					n = e + r,
					i = _.slice.call(t.buffer, e, n);
				return k.Uint8Array.from(i).buffer
			}

			function c(t, r) {
				var e = t.reserve(r + 1),
					n = t.buffer[e++],
					i = e + r,
					o = t.codec.getExtUnpacker(n);
				if (!o) throw new Error("Invalid ext type: " + (n ? "0x" + n.toString(16) : n));
				var f = _.slice.call(t.buffer, e, i);
				return o(f)
			}

			function h(t) {
				var r = t.reserve(1);
				return t.buffer[r]
			}

			function l(t) {
				var r = t.reserve(1),
					e = t.buffer[r];
				return 128 & e ? e - 256 : e
			}

			function p(t) {
				var r = t.reserve(2),
					e = t.buffer;
				return e[r++] << 8 | e[r]
			}

			function d(t) {
				var r = t.reserve(2),
					e = t.buffer,
					n = e[r++] << 8 | e[r];
				return 32768 & n ? n - 65536 : n
			}

			function y(t) {
				var r = t.reserve(4),
					e = t.buffer;
				return 16777216 * e[r++] + (e[r++] << 16) + (e[r++] << 8) + e[r]
			}

			function v(t) {
				var r = t.reserve(4),
					e = t.buffer;
				return e[r++] << 24 | e[r++] << 16 | e[r++] << 8 | e[r]
			}

			function g(t, r) {
				return function(e) {
					var n = e.reserve(t);
					return r.call(e.buffer, n, S)
				}
			}

			function b(t) {
				return new P(this, t).toNumber()
			}

			function w(t) {
				return new R(this, t).toNumber()
			}

			function E(t) {
				return new P(this, t)
			}

			function A(t) {
				return new R(this, t)
			}

			function m(t) {
				return B.read(this, t, !1, 23, 4)
			}

			function x(t) {
				return B.read(this, t, !1, 52, 8)
			}
			var B = t("ieee754"),
				U = t("int64-buffer"),
				P = U.Uint64BE,
				R = U.Int64BE;
			e.getReadFormat = n, e.readUint8 = h;
			var k = t("./bufferish"),
				_ = t("./bufferish-proto"),
				T = "undefined" != typeof Map,
				S = !0
		}, {
			"./bufferish": 8,
			"./bufferish-proto": 6,
			ieee754: 32,
			"int64-buffer": 33
		}],
		24: [function(t, r, e) {
			function n(t) {
				var r = s.getReadFormat(t);
				return t && t.useraw ? o(r) : i(r)
			}

			function i(t) {
				var r, e = new Array(256);
				for (r = 0; r <= 127; r++) e[r] = f(r);
				for (r = 128; r <= 143; r++) e[r] = a(r - 128, t.map);
				for (r = 144; r <= 159; r++) e[r] = a(r - 144, t.array);
				for (r = 160; r <= 191; r++) e[r] = a(r - 160, t.str);
				for (e[192] = f(null), e[193] = null, e[194] = f(!1), e[195] = f(!0), e[196] = u(t.uint8, t.bin), e[197] = u(t.uint16, t.bin), e[198] = u(t.uint32, t.bin), e[199] = u(t.uint8, t.ext), e[200] = u(t.uint16, t.ext), e[201] = u(t.uint32, t.ext), e[202] = t.float32, e[203] = t.float64, e[204] = t.uint8, e[205] = t.uint16, e[206] = t.uint32, e[207] = t.uint64, e[208] = t.int8, e[209] = t.int16, e[210] = t.int32, e[211] = t.int64, e[212] = a(1, t.ext), e[213] = a(2, t.ext), e[214] = a(4, t.ext), e[215] = a(8, t.ext), e[216] = a(16, t.ext), e[217] = u(t.uint8, t.str), e[218] = u(t.uint16, t.str), e[219] = u(t.uint32, t.str), e[220] = u(t.uint16, t.array), e[221] = u(t.uint32, t.array), e[222] = u(t.uint16, t.map), e[223] = u(t.uint32, t.map), r = 224; r <= 255; r++) e[r] = f(r - 256);
				return e
			}

			function o(t) {
				var r, e = i(t).slice();
				for (e[217] = e[196], e[218] = e[197], e[219] = e[198], r = 160; r <= 191; r++) e[r] = a(r - 160, t.bin);
				return e
			}

			function f(t) {
				return function() {
					return t
				}
			}

			function u(t, r) {
				return function(e) {
					var n = t(e);
					return r(e, n)
				}
			}

			function a(t, r) {
				return function(e) {
					return r(e, t)
				}
			}
			var s = t("./read-format");
			e.getReadToken = n
		}, {
			"./read-format": 23
		}],
		25: [function(t, r, e) {
			function n(t) {
				function r(t, r) {
					var n = e[typeof r];
					if (!n) throw new Error('Unsupported type "' + typeof r + '": ' + r);
					n(t, r)
				}
				var e = s.getWriteType(t);
				return r
			}

			function i() {
				var t = this.options;
				return this.encode = n(t), t && t.preset && a.setExtPackers(this), this
			}

			function o(t, r, e) {
				function n(r) {
					return e && (r = e(r)), new u(r, t)
				}
				e = c.filter(e);
				var i = r.name;
				if (i && "Object" !== i) {
					var o = this.extPackers || (this.extPackers = {});
					o[i] = n
				} else {
					var f = this.extEncoderList || (this.extEncoderList = []);
					f.unshift([r, n])
				}
			}

			function f(t) {
				var r = this.extPackers || (this.extPackers = {}),
					e = t.constructor,
					n = e && e.name && r[e.name];
				if (n) return n;
				for (var i = this.extEncoderList || (this.extEncoderList = []), o = i.length, f = 0; f < o; f++) {
					var u = i[f];
					if (e === u[0]) return u[1]
				}
			}
			var u = t("./ext-buffer").ExtBuffer,
				a = t("./ext-packer"),
				s = t("./write-type"),
				c = t("./codec-base");
			c.install({
				addExtPacker: o,
				getExtPacker: f,
				init: i
			}), e.preset = i.call(c.preset)
		}, {
			"./codec-base": 9,
			"./ext-buffer": 17,
			"./ext-packer": 18,
			"./write-type": 27
		}],
		26: [function(t, r, e) {
			function n(t) {
				return t && t.uint8array ? i() : m || E.hasBuffer && t && t.safe ? f() : o()
			}

			function i() {
				var t = o();
				return t[202] = c(202, 4, p), t[203] = c(203, 8, d), t
			}

			function o() {
				var t = w.slice();
				return t[196] = u(196), t[197] = a(197), t[198] = s(198), t[199] = u(199), t[200] = a(200), t[201] = s(201), t[202] = c(202, 4, x.writeFloatBE || p, !0), t[203] = c(203, 8, x.writeDoubleBE || d, !0), t[204] = u(204), t[205] = a(205), t[206] = s(206), t[207] = c(207, 8, h), t[208] = u(208), t[209] = a(209), t[210] = s(210), t[211] = c(211, 8, l), t[217] = u(217), t[218] = a(218), t[219] = s(219), t[220] = a(220), t[221] = s(221), t[222] = a(222), t[223] = s(223), t
			}

			function f() {
				var t = w.slice();
				return t[196] = c(196, 1, Buffer.prototype.writeUInt8), t[197] = c(197, 2, Buffer.prototype.writeUInt16BE), t[198] = c(198, 4, Buffer.prototype.writeUInt32BE), t[199] = c(199, 1, Buffer.prototype.writeUInt8), t[200] = c(200, 2, Buffer.prototype.writeUInt16BE), t[201] = c(201, 4, Buffer.prototype.writeUInt32BE), t[202] = c(202, 4, Buffer.prototype.writeFloatBE), t[203] = c(203, 8, Buffer.prototype.writeDoubleBE), t[204] = c(204, 1, Buffer.prototype.writeUInt8), t[205] = c(205, 2, Buffer.prototype.writeUInt16BE), t[206] = c(206, 4, Buffer.prototype.writeUInt32BE), t[207] = c(207, 8, h), t[208] = c(208, 1, Buffer.prototype.writeInt8), t[209] = c(209, 2, Buffer.prototype.writeInt16BE), t[210] = c(210, 4, Buffer.prototype.writeInt32BE), t[211] = c(211, 8, l), t[217] = c(217, 1, Buffer.prototype.writeUInt8), t[218] = c(218, 2, Buffer.prototype.writeUInt16BE), t[219] = c(219, 4, Buffer.prototype.writeUInt32BE), t[220] = c(220, 2, Buffer.prototype.writeUInt16BE), t[221] = c(221, 4, Buffer.prototype.writeUInt32BE), t[222] = c(222, 2, Buffer.prototype.writeUInt16BE), t[223] = c(223, 4, Buffer.prototype.writeUInt32BE), t
			}

			function u(t) {
				return function(r, e) {
					var n = r.reserve(2),
						i = r.buffer;
					i[n++] = t, i[n] = e
				}
			}

			function a(t) {
				return function(r, e) {
					var n = r.reserve(3),
						i = r.buffer;
					i[n++] = t, i[n++] = e >>> 8, i[n] = e
				}
			}

			function s(t) {
				return function(r, e) {
					var n = r.reserve(5),
						i = r.buffer;
					i[n++] = t, i[n++] = e >>> 24, i[n++] = e >>> 16, i[n++] = e >>> 8, i[n] = e
				}
			}

			function c(t, r, e, n) {
				return function(i, o) {
					var f = i.reserve(r + 1);
					i.buffer[f++] = t, e.call(i.buffer, o, f, n)
				}
			}

			function h(t, r) {
				new g(this, r, t)
			}

			function l(t, r) {
				new b(this, r, t)
			}

			function p(t, r) {
				y.write(this, t, r, !1, 23, 4)
			}

			function d(t, r) {
				y.write(this, t, r, !1, 52, 8)
			}
			var y = t("ieee754"),
				v = t("int64-buffer"),
				g = v.Uint64BE,
				b = v.Int64BE,
				w = t("./write-uint8").uint8,
				E = t("./bufferish"),
				Buffer = E.global,
				A = E.hasBuffer && "TYPED_ARRAY_SUPPORT" in Buffer,
				m = A && !Buffer.TYPED_ARRAY_SUPPORT,
				x = E.hasBuffer && Buffer.prototype || {};
			e.getWriteToken = n
		}, {
			"./bufferish": 8,
			"./write-uint8": 28,
			ieee754: 32,
			"int64-buffer": 33
		}],
		27: [function(t, r, e) {
			function n(t) {
				function r(t, r) {
					var e = r ? 195 : 194;
					_[e](t, r)
				}

				function e(t, r) {
					var e, n = 0 | r;
					return r !== n ? (e = 203, void _[e](t, r)) : (e = -32 <= n && n <= 127 ? 255 & n : 0 <= n ? n <= 255 ? 204 : n <= 65535 ? 205 : 206 : -128 <= n ? 208 : -32768 <= n ? 209 : 210, void _[e](t, n))
				}

				function n(t, r) {
					var e = 207;
					_[e](t, r.toArray())
				}

				function o(t, r) {
					var e = 211;
					_[e](t, r.toArray())
				}

				function v(t) {
					return t < 32 ? 1 : t <= 255 ? 2 : t <= 65535 ? 3 : 5
				}

				function g(t) {
					return t < 32 ? 1 : t <= 65535 ? 3 : 5
				}

				function b(t) {
					function r(r, e) {
						var n = e.length,
							i = 5 + 3 * n;
						r.offset = r.reserve(i);
						var o = r.buffer,
							f = t(n),
							u = r.offset + f;
						n = s.write.call(o, e, u);
						var a = t(n);
						if (f !== a) {
							var c = u + a - f,
								h = u + n;
							s.copy.call(o, o, c, u, h)
						}
						var l = 1 === a ? 160 + n : a <= 3 ? 215 + a : 219;
						_[l](r, n), r.offset += n
					}
					return r
				}

				function w(t, r) {
					if (null === r) return A(t, r);
					if (I(r)) return Y(t, r);
					if (i(r)) return m(t, r);
					if (f.isUint64BE(r)) return n(t, r);
					if (u.isInt64BE(r)) return o(t, r);
					var e = t.codec.getExtPacker(r);
					return e && (r = e(r)), r instanceof l ? U(t, r) : void D(t, r)
				}

				function E(t, r) {
					return I(r) ? k(t, r) : void w(t, r)
				}

				function A(t, r) {
					var e = 192;
					_[e](t, r)
				}

				function m(t, r) {
					var e = r.length,
						n = e < 16 ? 144 + e : e <= 65535 ? 220 : 221;
					_[n](t, e);
					for (var i = t.codec.encode, o = 0; o < e; o++) i(t, r[o])
				}

				function x(t, r) {
					var e = r.length,
						n = e < 255 ? 196 : e <= 65535 ? 197 : 198;
					_[n](t, e), t.send(r)
				}

				function B(t, r) {
					x(t, new Uint8Array(r))
				}

				function U(t, r) {
					var e = r.buffer,
						n = e.length,
						i = y[n] || (n < 255 ? 199 : n <= 65535 ? 200 : 201);
					_[i](t, n), h[r.type](t), t.send(e)
				}

				function P(t, r) {
					var e = Object.keys(r),
						n = e.length,
						i = n < 16 ? 128 + n : n <= 65535 ? 222 : 223;
					_[i](t, n);
					var o = t.codec.encode;
					e.forEach(function(e) {
						o(t, e), o(t, r[e])
					})
				}

				function R(t, r) {
					if (!(r instanceof Map)) return P(t, r);
					var e = r.size,
						n = e < 16 ? 128 + e : e <= 65535 ? 222 : 223;
					_[n](t, e);
					var i = t.codec.encode;
					r.forEach(function(r, e, n) {
						i(t, e), i(t, r)
					})
				}

				function k(t, r) {
					var e = r.length,
						n = e < 32 ? 160 + e : e <= 65535 ? 218 : 219;
					_[n](t, e), t.send(r)
				}
				var _ = c.getWriteToken(t),
					T = t && t.useraw,
					S = p && t && t.binarraybuffer,
					I = S ? a.isArrayBuffer : a.isBuffer,
					Y = S ? B : x,
					C = d && t && t.usemap,
					D = C ? R : P,
					O = {
						boolean: r,
						function: A,
						number: e,
						object: T ? E : w,
						string: b(T ? g : v),
						symbol: A,
						undefined: A
					};
				return O
			}
			var i = t("isarray"),
				o = t("int64-buffer"),
				f = o.Uint64BE,
				u = o.Int64BE,
				a = t("./bufferish"),
				s = t("./bufferish-proto"),
				c = t("./write-token"),
				h = t("./write-uint8").uint8,
				l = t("./ext-buffer").ExtBuffer,
				p = "undefined" != typeof Uint8Array,
				d = "undefined" != typeof Map,
				y = [];
			y[1] = 212, y[2] = 213, y[4] = 214, y[8] = 215, y[16] = 216, e.getWriteType = n
		}, {
			"./bufferish": 8,
			"./bufferish-proto": 6,
			"./ext-buffer": 17,
			"./write-token": 26,
			"./write-uint8": 28,
			"int64-buffer": 33,
			isarray: 34
		}],
		28: [function(t, r, e) {
			function n(t) {
				return function(r) {
					var e = r.reserve(1);
					r.buffer[e] = t
				}
			}
			for (var i = e.uint8 = new Array(256), o = 0; o <= 255; o++) i[o] = n(o)
		}, {}],
		29: [function(t, r, e) {
			(function(r) {
				"use strict";

				function n() {
					try {
						var t = new Uint8Array(1);
						return t.__proto__ = {
							__proto__: Uint8Array.prototype,
							foo: function() {
								return 42
							}
						}, 42 === t.foo() && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength
					} catch (t) {
						return !1
					}
				}

				function i() {
					return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
				}

				function o(t, r) {
					if (i() < r) throw new RangeError("Invalid typed array length");
					return Buffer.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(r), t.__proto__ = Buffer.prototype) : (null === t && (t = new Buffer(r)), t.length = r), t
				}

				function Buffer(t, r, e) {
					if (!(Buffer.TYPED_ARRAY_SUPPORT || this instanceof Buffer)) return new Buffer(t, r, e);
					if ("number" == typeof t) {
						if ("string" == typeof r) throw new Error("If encoding is specified then the first argument must be a string");
						return s(this, t)
					}
					return f(this, t, r, e)
				}

				function f(t, r, e, n) {
					if ("number" == typeof r) throw new TypeError('"value" argument must not be a number');
					return "undefined" != typeof ArrayBuffer && r instanceof ArrayBuffer ? l(t, r, e, n) : "string" == typeof r ? c(t, r, e) : p(t, r)
				}

				function u(t) {
					if ("number" != typeof t) throw new TypeError('"size" argument must be a number');
					if (t < 0) throw new RangeError('"size" argument must not be negative')
				}

				function a(t, r, e, n) {
					return u(r), r <= 0 ? o(t, r) : void 0 !== e ? "string" == typeof n ? o(t, r).fill(e, n) : o(t, r).fill(e) : o(t, r)
				}

				function s(t, r) {
					if (u(r), t = o(t, r < 0 ? 0 : 0 | d(r)), !Buffer.TYPED_ARRAY_SUPPORT)
						for (var e = 0; e < r; ++e) t[e] = 0;
					return t
				}

				function c(t, r, e) {
					if ("string" == typeof e && "" !== e || (e = "utf8"), !Buffer.isEncoding(e)) throw new TypeError('"encoding" must be a valid string encoding');
					var n = 0 | v(r, e);
					t = o(t, n);
					var i = t.write(r, e);
					return i !== n && (t = t.slice(0, i)), t
				}

				function h(t, r) {
					var e = r.length < 0 ? 0 : 0 | d(r.length);
					t = o(t, e);
					for (var n = 0; n < e; n += 1) t[n] = 255 & r[n];
					return t
				}

				function l(t, r, e, n) {
					if (r.byteLength, e < 0 || r.byteLength < e) throw new RangeError("'offset' is out of bounds");
					if (r.byteLength < e + (n || 0)) throw new RangeError("'length' is out of bounds");
					return r = void 0 === e && void 0 === n ? new Uint8Array(r) : void 0 === n ? new Uint8Array(r, e) : new Uint8Array(r, e, n), Buffer.TYPED_ARRAY_SUPPORT ? (t = r, t.__proto__ = Buffer.prototype) : t = h(t, r), t
				}

				function p(t, r) {
					if (Buffer.isBuffer(r)) {
						var e = 0 | d(r.length);
						return t = o(t, e), 0 === t.length ? t : (r.copy(t, 0, 0, e), t)
					}
					if (r) {
						if ("undefined" != typeof ArrayBuffer && r.buffer instanceof ArrayBuffer || "length" in r) return "number" != typeof r.length || H(r.length) ? o(t, 0) : h(t, r);
						if ("Buffer" === r.type && Q(r.data)) return h(t, r.data)
					}
					throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
				}

				function d(t) {
					if (t >= i()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + i().toString(16) + " bytes");
					return 0 | t
				}

				function y(t) {
					return +t != t && (t = 0), Buffer.alloc(+t)
				}

				function v(t, r) {
					if (Buffer.isBuffer(t)) return t.length;
					if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)) return t.byteLength;
					"string" != typeof t && (t = "" + t);
					var e = t.length;
					if (0 === e) return 0;
					for (var n = !1;;) switch (r) {
						case "ascii":
						case "latin1":
						case "binary":
							return e;
						case "utf8":
						case "utf-8":
						case void 0:
							return q(t).length;
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return 2 * e;
						case "hex":
							return e >>> 1;
						case "base64":
							return X(t).length;
						default:
							if (n) return q(t).length;
							r = ("" + r).toLowerCase(), n = !0
					}
				}

				function g(t, r, e) {
					var n = !1;
					if ((void 0 === r || r < 0) && (r = 0), r > this.length) return "";
					if ((void 0 === e || e > this.length) && (e = this.length), e <= 0) return "";
					if (e >>>= 0, r >>>= 0, e <= r) return "";
					for (t || (t = "utf8");;) switch (t) {
						case "hex":
							return I(this, r, e);
						case "utf8":
						case "utf-8":
							return k(this, r, e);
						case "ascii":
							return T(this, r, e);
						case "latin1":
						case "binary":
							return S(this, r, e);
						case "base64":
							return R(this, r, e);
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return Y(this, r, e);
						default:
							if (n) throw new TypeError("Unknown encoding: " + t);
							t = (t + "").toLowerCase(), n = !0
					}
				}

				function b(t, r, e) {
					var n = t[r];
					t[r] = t[e], t[e] = n
				}

				function w(t, r, e, n, i) {
					if (0 === t.length) return -1;
					if ("string" == typeof e ? (n = e, e = 0) : e > 2147483647 ? e = 2147483647 : e < -2147483648 && (e = -2147483648), e = +e, isNaN(e) && (e = i ? 0 : t.length - 1), e < 0 && (e = t.length + e), e >= t.length) {
						if (i) return -1;
						e = t.length - 1
					} else if (e < 0) {
						if (!i) return -1;
						e = 0
					}
					if ("string" == typeof r && (r = Buffer.from(r, n)), Buffer.isBuffer(r)) return 0 === r.length ? -1 : E(t, r, e, n, i);
					if ("number" == typeof r) return r = 255 & r, Buffer.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(t, r, e) : Uint8Array.prototype.lastIndexOf.call(t, r, e) : E(t, [r], e, n, i);
					throw new TypeError("val must be string, number or Buffer")
				}

				function E(t, r, e, n, i) {
					function o(t, r) {
						return 1 === f ? t[r] : t.readUInt16BE(r * f)
					}
					var f = 1,
						u = t.length,
						a = r.length;
					if (void 0 !== n && (n = String(n).toLowerCase(), "ucs2" === n || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
						if (t.length < 2 || r.length < 2) return -1;
						f = 2, u /= 2, a /= 2, e /= 2
					}
					var s;
					if (i) {
						var c = -1;
						for (s = e; s < u; s++)
							if (o(t, s) === o(r, c === -1 ? 0 : s - c)) {
								if (c === -1 && (c = s), s - c + 1 === a) return c * f
							} else c !== -1 && (s -= s - c), c = -1
					} else
						for (e + a > u && (e = u - a), s = e; s >= 0; s--) {
							for (var h = !0, l = 0; l < a; l++)
								if (o(t, s + l) !== o(r, l)) {
									h = !1;
									break
								}
							if (h) return s
						}
					return -1
				}

				function A(t, r, e, n) {
					e = Number(e) || 0;
					var i = t.length - e;
					n ? (n = Number(n), n > i && (n = i)) : n = i;
					var o = r.length;
					if (o % 2 !== 0) throw new TypeError("Invalid hex string");
					n > o / 2 && (n = o / 2);
					for (var f = 0; f < n; ++f) {
						var u = parseInt(r.substr(2 * f, 2), 16);
						if (isNaN(u)) return f;
						t[e + f] = u
					}
					return f
				}

				function m(t, r, e, n) {
					return G(q(r, t.length - e), t, e, n)
				}

				function x(t, r, e, n) {
					return G(W(r), t, e, n)
				}

				function B(t, r, e, n) {
					return x(t, r, e, n)
				}

				function U(t, r, e, n) {
					return G(X(r), t, e, n)
				}

				function P(t, r, e, n) {
					return G(J(r, t.length - e), t, e, n)
				}

				function R(t, r, e) {
					return 0 === r && e === t.length ? Z.fromByteArray(t) : Z.fromByteArray(t.slice(r, e))
				}

				function k(t, r, e) {
					e = Math.min(t.length, e);
					for (var n = [], i = r; i < e;) {
						var o = t[i],
							f = null,
							u = o > 239 ? 4 : o > 223 ? 3 : o > 191 ? 2 : 1;
						if (i + u <= e) {
							var a, s, c, h;
							switch (u) {
								case 1:
									o < 128 && (f = o);
									break;
								case 2:
									a = t[i + 1], 128 === (192 & a) && (h = (31 & o) << 6 | 63 & a, h > 127 && (f = h));
									break;
								case 3:
									a = t[i + 1], s = t[i + 2], 128 === (192 & a) && 128 === (192 & s) && (h = (15 & o) << 12 | (63 & a) << 6 | 63 & s, h > 2047 && (h < 55296 || h > 57343) && (f = h));
									break;
								case 4:
									a = t[i + 1], s = t[i + 2], c = t[i + 3], 128 === (192 & a) && 128 === (192 & s) && 128 === (192 & c) && (h = (15 & o) << 18 | (63 & a) << 12 | (63 & s) << 6 | 63 & c, h > 65535 && h < 1114112 && (f = h))
							}
						}
						null === f ? (f = 65533, u = 1) : f > 65535 && (f -= 65536, n.push(f >>> 10 & 1023 | 55296), f = 56320 | 1023 & f), n.push(f), i += u
					}
					return _(n)
				}

				function _(t) {
					var r = t.length;
					if (r <= $) return String.fromCharCode.apply(String, t);
					for (var e = "", n = 0; n < r;) e += String.fromCharCode.apply(String, t.slice(n, n += $));
					return e
				}

				function T(t, r, e) {
					var n = "";
					e = Math.min(t.length, e);
					for (var i = r; i < e; ++i) n += String.fromCharCode(127 & t[i]);
					return n
				}

				function S(t, r, e) {
					var n = "";
					e = Math.min(t.length, e);
					for (var i = r; i < e; ++i) n += String.fromCharCode(t[i]);
					return n
				}

				function I(t, r, e) {
					var n = t.length;
					(!r || r < 0) && (r = 0), (!e || e < 0 || e > n) && (e = n);
					for (var i = "", o = r; o < e; ++o) i += V(t[o]);
					return i
				}

				function Y(t, r, e) {
					for (var n = t.slice(r, e), i = "", o = 0; o < n.length; o += 2) i += String.fromCharCode(n[o] + 256 * n[o + 1]);
					return i
				}

				function C(t, r, e) {
					if (t % 1 !== 0 || t < 0) throw new RangeError("offset is not uint");
					if (t + r > e) throw new RangeError("Trying to access beyond buffer length")
				}

				function D(t, r, e, n, i, o) {
					if (!Buffer.isBuffer(t)) throw new TypeError('"buffer" argument must be a Buffer instance');
					if (r > i || r < o) throw new RangeError('"value" argument is out of bounds');
					if (e + n > t.length) throw new RangeError("Index out of range")
				}

				function O(t, r, e, n) {
					r < 0 && (r = 65535 + r + 1);
					for (var i = 0, o = Math.min(t.length - e, 2); i < o; ++i) t[e + i] = (r & 255 << 8 * (n ? i : 1 - i)) >>> 8 * (n ? i : 1 - i)
				}

				function L(t, r, e, n) {
					r < 0 && (r = 4294967295 + r + 1);
					for (var i = 0, o = Math.min(t.length - e, 4); i < o; ++i) t[e + i] = r >>> 8 * (n ? i : 3 - i) & 255
				}

				function M(t, r, e, n, i, o) {
					if (e + n > t.length) throw new RangeError("Index out of range");
					if (e < 0) throw new RangeError("Index out of range")
				}

				function N(t, r, e, n, i) {
					return i || M(t, r, e, 4, 3.4028234663852886e38, -3.4028234663852886e38), K.write(t, r, e, n, 23, 4), e + 4
				}

				function F(t, r, e, n, i) {
					return i || M(t, r, e, 8, 1.7976931348623157e308, -1.7976931348623157e308), K.write(t, r, e, n, 52, 8), e + 8
				}

				function j(t) {
					if (t = z(t).replace(tt, ""), t.length < 2) return "";
					for (; t.length % 4 !== 0;) t += "=";
					return t
				}

				function z(t) {
					return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
				}

				function V(t) {
					return t < 16 ? "0" + t.toString(16) : t.toString(16)
				}

				function q(t, r) {
					r = r || 1 / 0;
					for (var e, n = t.length, i = null, o = [], f = 0; f < n; ++f) {
						if (e = t.charCodeAt(f), e > 55295 && e < 57344) {
							if (!i) {
								if (e > 56319) {
									(r -= 3) > -1 && o.push(239, 191, 189);
									continue
								}
								if (f + 1 === n) {
									(r -= 3) > -1 && o.push(239, 191, 189);
									continue
								}
								i = e;
								continue
							}
							if (e < 56320) {
								(r -= 3) > -1 && o.push(239, 191, 189), i = e;
								continue
							}
							e = (i - 55296 << 10 | e - 56320) + 65536
						} else i && (r -= 3) > -1 && o.push(239, 191, 189);
						if (i = null, e < 128) {
							if ((r -= 1) < 0) break;
							o.push(e)
						} else if (e < 2048) {
							if ((r -= 2) < 0) break;
							o.push(e >> 6 | 192, 63 & e | 128)
						} else if (e < 65536) {
							if ((r -= 3) < 0) break;
							o.push(e >> 12 | 224, e >> 6 & 63 | 128, 63 & e | 128)
						} else {
							if (!(e < 1114112)) throw new Error("Invalid code point");
							if ((r -= 4) < 0) break;
							o.push(e >> 18 | 240, e >> 12 & 63 | 128, e >> 6 & 63 | 128, 63 & e | 128)
						}
					}
					return o
				}

				function W(t) {
					for (var r = [], e = 0; e < t.length; ++e) r.push(255 & t.charCodeAt(e));
					return r
				}

				function J(t, r) {
					for (var e, n, i, o = [], f = 0; f < t.length && !((r -= 2) < 0); ++f) e = t.charCodeAt(f), n = e >> 8, i = e % 256, o.push(i), o.push(n);
					return o
				}

				function X(t) {
					return Z.toByteArray(j(t))
				}

				function G(t, r, e, n) {
					for (var i = 0; i < n && !(i + e >= r.length || i >= t.length); ++i) r[i + e] = t[i];
					return i
				}

				function H(t) {
					return t !== t
				}
				var Z = t("base64-js"),
					K = t("ieee754"),
					Q = t("isarray");
				e.Buffer = Buffer, e.SlowBuffer = y, e.INSPECT_MAX_BYTES = 50, Buffer.TYPED_ARRAY_SUPPORT = void 0 !== r.TYPED_ARRAY_SUPPORT ? r.TYPED_ARRAY_SUPPORT : n(), e.kMaxLength = i(), Buffer.poolSize = 8192, Buffer._augment = function(t) {
					return t.__proto__ = Buffer.prototype, t
				}, Buffer.from = function(t, r, e) {
					return f(null, t, r, e)
				}, Buffer.TYPED_ARRAY_SUPPORT && (Buffer.prototype.__proto__ = Uint8Array.prototype, Buffer.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && Buffer[Symbol.species] === Buffer && Object.defineProperty(Buffer, Symbol.species, {
					value: null,
					configurable: !0
				})), Buffer.alloc = function(t, r, e) {
					return a(null, t, r, e)
				}, Buffer.allocUnsafe = function(t) {
					return s(null, t)
				}, Buffer.allocUnsafeSlow = function(t) {
					return s(null, t)
				}, Buffer.isBuffer = function(t) {
					return !(null == t || !t._isBuffer)
				}, Buffer.compare = function(t, r) {
					if (!Buffer.isBuffer(t) || !Buffer.isBuffer(r)) throw new TypeError("Arguments must be Buffers");
					if (t === r) return 0;
					for (var e = t.length, n = r.length, i = 0, o = Math.min(e, n); i < o; ++i)
						if (t[i] !== r[i]) {
							e = t[i], n = r[i];
							break
						}
					return e < n ? -1 : n < e ? 1 : 0
				}, Buffer.isEncoding = function(t) {
					switch (String(t).toLowerCase()) {
						case "hex":
						case "utf8":
						case "utf-8":
						case "ascii":
						case "latin1":
						case "binary":
						case "base64":
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return !0;
						default:
							return !1
					}
				}, Buffer.concat = function(t, r) {
					if (!Q(t)) throw new TypeError('"list" argument must be an Array of Buffers');
					if (0 === t.length) return Buffer.alloc(0);
					var e;
					if (void 0 === r)
						for (r = 0, e = 0; e < t.length; ++e) r += t[e].length;
					var n = Buffer.allocUnsafe(r),
						i = 0;
					for (e = 0; e < t.length; ++e) {
						var o = t[e];
						if (!Buffer.isBuffer(o)) throw new TypeError('"list" argument must be an Array of Buffers');
						o.copy(n, i), i += o.length
					}
					return n
				}, Buffer.byteLength = v, Buffer.prototype._isBuffer = !0, Buffer.prototype.swap16 = function() {
					var t = this.length;
					if (t % 2 !== 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
					for (var r = 0; r < t; r += 2) b(this, r, r + 1);
					return this
				}, Buffer.prototype.swap32 = function() {
					var t = this.length;
					if (t % 4 !== 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
					for (var r = 0; r < t; r += 4) b(this, r, r + 3), b(this, r + 1, r + 2);
					return this
				}, Buffer.prototype.swap64 = function() {
					var t = this.length;
					if (t % 8 !== 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
					for (var r = 0; r < t; r += 8) b(this, r, r + 7), b(this, r + 1, r + 6), b(this, r + 2, r + 5), b(this, r + 3, r + 4);
					return this
				}, Buffer.prototype.toString = function() {
					var t = 0 | this.length;
					return 0 === t ? "" : 0 === arguments.length ? k(this, 0, t) : g.apply(this, arguments)
				}, Buffer.prototype.equals = function(t) {
					if (!Buffer.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
					return this === t || 0 === Buffer.compare(this, t)
				}, Buffer.prototype.inspect = function() {
					var t = "",
						r = e.INSPECT_MAX_BYTES;
					return this.length > 0 && (t = this.toString("hex", 0, r).match(/.{2}/g).join(" "), this.length > r && (t += " ... ")), "<Buffer " + t + ">"
				}, Buffer.prototype.compare = function(t, r, e, n, i) {
					if (!Buffer.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
					if (void 0 === r && (r = 0), void 0 === e && (e = t ? t.length : 0), void 0 === n && (n = 0), void 0 === i && (i = this.length), r < 0 || e > t.length || n < 0 || i > this.length) throw new RangeError("out of range index");
					if (n >= i && r >= e) return 0;
					if (n >= i) return -1;
					if (r >= e) return 1;
					if (r >>>= 0, e >>>= 0, n >>>= 0, i >>>= 0, this === t) return 0;
					for (var o = i - n, f = e - r, u = Math.min(o, f), a = this.slice(n, i), s = t.slice(r, e), c = 0; c < u; ++c)
						if (a[c] !== s[c]) {
							o = a[c], f = s[c];
							break
						}
					return o < f ? -1 : f < o ? 1 : 0
				}, Buffer.prototype.includes = function(t, r, e) {
					return this.indexOf(t, r, e) !== -1
				}, Buffer.prototype.indexOf = function(t, r, e) {
					return w(this, t, r, e, !0)
				}, Buffer.prototype.lastIndexOf = function(t, r, e) {
					return w(this, t, r, e, !1)
				}, Buffer.prototype.write = function(t, r, e, n) {
					if (void 0 === r) n = "utf8", e = this.length, r = 0;
					else if (void 0 === e && "string" == typeof r) n = r, e = this.length, r = 0;
					else {
						if (!isFinite(r)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
						r = 0 | r, isFinite(e) ? (e = 0 | e, void 0 === n && (n = "utf8")) : (n = e, e = void 0)
					}
					var i = this.length - r;
					if ((void 0 === e || e > i) && (e = i), t.length > 0 && (e < 0 || r < 0) || r > this.length) throw new RangeError("Attempt to write outside buffer bounds");
					n || (n = "utf8");
					for (var o = !1;;) switch (n) {
						case "hex":
							return A(this, t, r, e);
						case "utf8":
						case "utf-8":
							return m(this, t, r, e);
						case "ascii":
							return x(this, t, r, e);
						case "latin1":
						case "binary":
							return B(this, t, r, e);
						case "base64":
							return U(this, t, r, e);
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return P(this, t, r, e);
						default:
							if (o) throw new TypeError("Unknown encoding: " + n);
							n = ("" + n).toLowerCase(), o = !0
					}
				}, Buffer.prototype.toJSON = function() {
					return {
						type: "Buffer",
						data: Array.prototype.slice.call(this._arr || this, 0)
					}
				};
				var $ = 4096;
				Buffer.prototype.slice = function(t, r) {
					var e = this.length;
					t = ~~t, r = void 0 === r ? e : ~~r, t < 0 ? (t += e, t < 0 && (t = 0)) : t > e && (t = e), r < 0 ? (r += e, r < 0 && (r = 0)) : r > e && (r = e), r < t && (r = t);
					var n;
					if (Buffer.TYPED_ARRAY_SUPPORT) n = this.subarray(t, r), n.__proto__ = Buffer.prototype;
					else {
						var i = r - t;
						n = new Buffer(i, void 0);
						for (var o = 0; o < i; ++o) n[o] = this[o + t]
					}
					return n
				}, Buffer.prototype.readUIntLE = function(t, r, e) {
					t = 0 | t, r = 0 | r, e || C(t, r, this.length);
					for (var n = this[t], i = 1, o = 0; ++o < r && (i *= 256);) n += this[t + o] * i;
					return n
				}, Buffer.prototype.readUIntBE = function(t, r, e) {
					t = 0 | t, r = 0 | r, e || C(t, r, this.length);
					for (var n = this[t + --r], i = 1; r > 0 && (i *= 256);) n += this[t + --r] * i;
					return n
				}, Buffer.prototype.readUInt8 = function(t, r) {
					return r || C(t, 1, this.length), this[t]
				}, Buffer.prototype.readUInt16LE = function(t, r) {
					return r || C(t, 2, this.length), this[t] | this[t + 1] << 8
				}, Buffer.prototype.readUInt16BE = function(t, r) {
					return r || C(t, 2, this.length), this[t] << 8 | this[t + 1]
				}, Buffer.prototype.readUInt32LE = function(t, r) {
					return r || C(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
				}, Buffer.prototype.readUInt32BE = function(t, r) {
					return r || C(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
				}, Buffer.prototype.readIntLE = function(t, r, e) {
					t = 0 | t, r = 0 | r, e || C(t, r, this.length);
					for (var n = this[t], i = 1, o = 0; ++o < r && (i *= 256);) n += this[t + o] * i;
					return i *= 128, n >= i && (n -= Math.pow(2, 8 * r)), n
				}, Buffer.prototype.readIntBE = function(t, r, e) {
					t = 0 | t, r = 0 | r, e || C(t, r, this.length);
					for (var n = r, i = 1, o = this[t + --n]; n > 0 && (i *= 256);) o += this[t + --n] * i;
					return i *= 128, o >= i && (o -= Math.pow(2, 8 * r)), o
				}, Buffer.prototype.readInt8 = function(t, r) {
					return r || C(t, 1, this.length), 128 & this[t] ? (255 - this[t] + 1) * -1 : this[t]
				}, Buffer.prototype.readInt16LE = function(t, r) {
					r || C(t, 2, this.length);
					var e = this[t] | this[t + 1] << 8;
					return 32768 & e ? 4294901760 | e : e
				}, Buffer.prototype.readInt16BE = function(t, r) {
					r || C(t, 2, this.length);
					var e = this[t + 1] | this[t] << 8;
					return 32768 & e ? 4294901760 | e : e
				}, Buffer.prototype.readInt32LE = function(t, r) {
					return r || C(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
				}, Buffer.prototype.readInt32BE = function(t, r) {
					return r || C(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
				}, Buffer.prototype.readFloatLE = function(t, r) {
					return r || C(t, 4, this.length), K.read(this, t, !0, 23, 4)
				}, Buffer.prototype.readFloatBE = function(t, r) {
					return r || C(t, 4, this.length), K.read(this, t, !1, 23, 4)
				}, Buffer.prototype.readDoubleLE = function(t, r) {
					return r || C(t, 8, this.length), K.read(this, t, !0, 52, 8)
				}, Buffer.prototype.readDoubleBE = function(t, r) {
					return r || C(t, 8, this.length), K.read(this, t, !1, 52, 8)
				}, Buffer.prototype.writeUIntLE = function(t, r, e, n) {
					if (t = +t, r = 0 | r, e = 0 | e, !n) {
						var i = Math.pow(2, 8 * e) - 1;
						D(this, t, r, e, i, 0)
					}
					var o = 1,
						f = 0;
					for (this[r] = 255 & t; ++f < e && (o *= 256);) this[r + f] = t / o & 255;
					return r + e
				}, Buffer.prototype.writeUIntBE = function(t, r, e, n) {
					if (t = +t, r = 0 | r, e = 0 | e, !n) {
						var i = Math.pow(2, 8 * e) - 1;
						D(this, t, r, e, i, 0)
					}
					var o = e - 1,
						f = 1;
					for (this[r + o] = 255 & t; --o >= 0 && (f *= 256);) this[r + o] = t / f & 255;
					return r + e
				}, Buffer.prototype.writeUInt8 = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 1, 255, 0), Buffer.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[r] = 255 & t, r + 1
				}, Buffer.prototype.writeUInt16LE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 2, 65535, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = 255 & t, this[r + 1] = t >>> 8) : O(this, t, r, !0), r + 2
				}, Buffer.prototype.writeUInt16BE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 2, 65535, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = t >>> 8, this[r + 1] = 255 & t) : O(this, t, r, !1), r + 2
				}, Buffer.prototype.writeUInt32LE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 4, 4294967295, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[r + 3] = t >>> 24, this[r + 2] = t >>> 16, this[r + 1] = t >>> 8, this[r] = 255 & t) : L(this, t, r, !0), r + 4
				}, Buffer.prototype.writeUInt32BE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 4, 4294967295, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = t >>> 24, this[r + 1] = t >>> 16, this[r + 2] = t >>> 8, this[r + 3] = 255 & t) : L(this, t, r, !1), r + 4
				}, Buffer.prototype.writeIntLE = function(t, r, e, n) {
					if (t = +t, r = 0 | r, !n) {
						var i = Math.pow(2, 8 * e - 1);
						D(this, t, r, e, i - 1, -i)
					}
					var o = 0,
						f = 1,
						u = 0;
					for (this[r] = 255 & t; ++o < e && (f *= 256);) t < 0 && 0 === u && 0 !== this[r + o - 1] && (u = 1), this[r + o] = (t / f >> 0) - u & 255;
					return r + e
				}, Buffer.prototype.writeIntBE = function(t, r, e, n) {
					if (t = +t, r = 0 | r, !n) {
						var i = Math.pow(2, 8 * e - 1);
						D(this, t, r, e, i - 1, -i)
					}
					var o = e - 1,
						f = 1,
						u = 0;
					for (this[r + o] = 255 & t; --o >= 0 && (f *= 256);) t < 0 && 0 === u && 0 !== this[r + o + 1] && (u = 1), this[r + o] = (t / f >> 0) - u & 255;
					return r + e
				}, Buffer.prototype.writeInt8 = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 1, 127, -128), Buffer.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), t < 0 && (t = 255 + t + 1), this[r] = 255 & t, r + 1
				}, Buffer.prototype.writeInt16LE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 2, 32767, -32768), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = 255 & t, this[r + 1] = t >>> 8) : O(this, t, r, !0), r + 2
				}, Buffer.prototype.writeInt16BE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 2, 32767, -32768), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = t >>> 8, this[r + 1] = 255 & t) : O(this, t, r, !1), r + 2
				}, Buffer.prototype.writeInt32LE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 4, 2147483647, -2147483648), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = 255 & t, this[r + 1] = t >>> 8, this[r + 2] = t >>> 16, this[r + 3] = t >>> 24) : L(this, t, r, !0), r + 4
				}, Buffer.prototype.writeInt32BE = function(t, r, e) {
					return t = +t, r = 0 | r, e || D(this, t, r, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t + 1), Buffer.TYPED_ARRAY_SUPPORT ? (this[r] = t >>> 24, this[r + 1] = t >>> 16, this[r + 2] = t >>> 8, this[r + 3] = 255 & t) : L(this, t, r, !1), r + 4
				}, Buffer.prototype.writeFloatLE = function(t, r, e) {
					return N(this, t, r, !0, e)
				}, Buffer.prototype.writeFloatBE = function(t, r, e) {
					return N(this, t, r, !1, e)
				}, Buffer.prototype.writeDoubleLE = function(t, r, e) {
					return F(this, t, r, !0, e)
				}, Buffer.prototype.writeDoubleBE = function(t, r, e) {
					return F(this, t, r, !1, e)
				}, Buffer.prototype.copy = function(t, r, e, n) {
					if (e || (e = 0), n || 0 === n || (n = this.length), r >= t.length && (r = t.length), r || (r = 0), n > 0 && n < e && (n = e), n === e) return 0;
					if (0 === t.length || 0 === this.length) return 0;
					if (r < 0) throw new RangeError("targetStart out of bounds");
					if (e < 0 || e >= this.length) throw new RangeError("sourceStart out of bounds");
					if (n < 0) throw new RangeError("sourceEnd out of bounds");
					n > this.length && (n = this.length), t.length - r < n - e && (n = t.length - r + e);
					var i, o = n - e;
					if (this === t && e < r && r < n)
						for (i = o - 1; i >= 0; --i) t[i + r] = this[i + e];
					else if (o < 1e3 || !Buffer.TYPED_ARRAY_SUPPORT)
						for (i = 0; i < o; ++i) t[i + r] = this[i + e];
					else Uint8Array.prototype.set.call(t, this.subarray(e, e + o), r);
					return o
				}, Buffer.prototype.fill = function(t, r, e, n) {
					if ("string" == typeof t) {
						if ("string" == typeof r ? (n = r, r = 0, e = this.length) : "string" == typeof e && (n = e, e = this.length), 1 === t.length) {
							var i = t.charCodeAt(0);
							i < 256 && (t = i)
						}
						if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
						if ("string" == typeof n && !Buffer.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
					} else "number" == typeof t && (t = 255 & t);
					if (r < 0 || this.length < r || this.length < e) throw new RangeError("Out of range index");
					if (e <= r) return this;
					r >>>= 0, e = void 0 === e ? this.length : e >>> 0, t || (t = 0);
					var o;
					if ("number" == typeof t)
						for (o = r; o < e; ++o) this[o] = t;
					else {
						var f = Buffer.isBuffer(t) ? t : q(new Buffer(t, n).toString()),
							u = f.length;
						for (o = 0; o < e - r; ++o) this[o + r] = f[o % u]
					}
					return this
				};
				var tt = /[^+\/0-9A-Za-z-_]/g
			}).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
		}, {
			"base64-js": 30,
			ieee754: 32,
			isarray: 34
		}],
		30: [function(t, r, e) {
			"use strict";

			function n(t) {
				var r = t.length;
				if (r % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
				return "=" === t[r - 2] ? 2 : "=" === t[r - 1] ? 1 : 0
			}

			function i(t) {
				return 3 * t.length / 4 - n(t)
			}

			function o(t) {
				var r, e, i, o, f, u, a = t.length;
				f = n(t), u = new h(3 * a / 4 - f), i = f > 0 ? a - 4 : a;
				var s = 0;
				for (r = 0, e = 0; r < i; r += 4, e += 3) o = c[t.charCodeAt(r)] << 18 | c[t.charCodeAt(r + 1)] << 12 | c[t.charCodeAt(r + 2)] << 6 | c[t.charCodeAt(r + 3)], u[s++] = o >> 16 & 255, u[s++] = o >> 8 & 255, u[s++] = 255 & o;
				return 2 === f ? (o = c[t.charCodeAt(r)] << 2 | c[t.charCodeAt(r + 1)] >> 4, u[s++] = 255 & o) : 1 === f && (o = c[t.charCodeAt(r)] << 10 | c[t.charCodeAt(r + 1)] << 4 | c[t.charCodeAt(r + 2)] >> 2, u[s++] = o >> 8 & 255, u[s++] = 255 & o), u
			}

			function f(t) {
				return s[t >> 18 & 63] + s[t >> 12 & 63] + s[t >> 6 & 63] + s[63 & t]
			}

			function u(t, r, e) {
				for (var n, i = [], o = r; o < e; o += 3) n = (t[o] << 16) + (t[o + 1] << 8) + t[o + 2], i.push(f(n));
				return i.join("")
			}

			function a(t) {
				for (var r, e = t.length, n = e % 3, i = "", o = [], f = 16383, a = 0, c = e - n; a < c; a += f) o.push(u(t, a, a + f > c ? c : a + f));
				return 1 === n ? (r = t[e - 1], i += s[r >> 2], i += s[r << 4 & 63], i += "==") : 2 === n && (r = (t[e - 2] << 8) + t[e - 1], i += s[r >> 10], i += s[r >> 4 & 63], i += s[r << 2 & 63], i += "="), o.push(i), o.join("")
			}
			e.byteLength = i, e.toByteArray = o, e.fromByteArray = a;
			for (var s = [], c = [], h = "undefined" != typeof Uint8Array ? Uint8Array : Array, l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = 0, d = l.length; p < d; ++p) s[p] = l[p], c[l.charCodeAt(p)] = p;
			c["-".charCodeAt(0)] = 62, c["_".charCodeAt(0)] = 63
		}, {}],
		31: [function(t, r, e) {
			function n() {
				if (!(this instanceof n)) return new n
			}! function(t) {
				function e(t) {
					for (var r in s) t[r] = s[r];
					return t
				}

				function n(t, r) {
					return u(this, t).push(r), this
				}

				function i(t, r) {
					function e() {
						o.call(n, t, e), r.apply(this, arguments)
					}
					var n = this;
					return e.originalListener = r, u(n, t).push(e), n
				}

				function o(t, r) {
					function e(t) {
						return t !== r && t.originalListener !== r
					}
					var n, i = this;
					if (arguments.length) {
						if (r) {
							if (n = u(i, t, !0)) {
								if (n = n.filter(e), !n.length) return o.call(i, t);
								i[a][t] = n
							}
						} else if (n = i[a], n && (delete n[t], !Object.keys(n).length)) return o.call(i)
					} else delete i[a];
					return i
				}

				function f(t, r) {
					function e(t) {
						t.call(o)
					}

					function n(t) {
						t.call(o, r)
					}

					function i(t) {
						t.apply(o, s)
					}
					var o = this,
						f = u(o, t, !0);
					if (!f) return !1;
					var a = arguments.length;
					if (1 === a) f.forEach(e);
					else if (2 === a) f.forEach(n);
					else {
						var s = Array.prototype.slice.call(arguments, 1);
						f.forEach(i)
					}
					return !!f.length
				}

				function u(t, r, e) {
					if (!e || t[a]) {
						var n = t[a] || (t[a] = {});
						return n[r] || (n[r] = [])
					}
				}
				"undefined" != typeof r && (r.exports = t);
				var a = "listeners",
					s = {
						on: n,
						once: i,
						off: o,
						emit: f
					};
				e(t.prototype), t.mixin = e
			}(n)
		}, {}],
		32: [function(t, r, e) {
			e.read = function(t, r, e, n, i) {
				var o, f, u = 8 * i - n - 1,
					a = (1 << u) - 1,
					s = a >> 1,
					c = -7,
					h = e ? i - 1 : 0,
					l = e ? -1 : 1,
					p = t[r + h];
				for (h += l, o = p & (1 << -c) - 1, p >>= -c, c += u; c > 0; o = 256 * o + t[r + h], h += l, c -= 8);
				for (f = o & (1 << -c) - 1, o >>= -c, c += n; c > 0; f = 256 * f + t[r + h], h += l, c -= 8);
				if (0 === o) o = 1 - s;
				else {
					if (o === a) return f ? NaN : (p ? -1 : 1) * (1 / 0);
					f += Math.pow(2, n), o -= s
				}
				return (p ? -1 : 1) * f * Math.pow(2, o - n)
			}, e.write = function(t, r, e, n, i, o) {
				var f, u, a, s = 8 * o - i - 1,
					c = (1 << s) - 1,
					h = c >> 1,
					l = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
					p = n ? 0 : o - 1,
					d = n ? 1 : -1,
					y = r < 0 || 0 === r && 1 / r < 0 ? 1 : 0;
				for (r = Math.abs(r), isNaN(r) || r === 1 / 0 ? (u = isNaN(r) ? 1 : 0, f = c) : (f = Math.floor(Math.log(r) / Math.LN2), r * (a = Math.pow(2, -f)) < 1 && (f--, a *= 2), r += f + h >= 1 ? l / a : l * Math.pow(2, 1 - h), r * a >= 2 && (f++, a /= 2), f + h >= c ? (u = 0, f = c) : f + h >= 1 ? (u = (r * a - 1) * Math.pow(2, i), f += h) : (u = r * Math.pow(2, h - 1) * Math.pow(2, i), f = 0)); i >= 8; t[e + p] = 255 & u, p += d, u /= 256, i -= 8);
				for (f = f << i | u, s += i; s > 0; t[e + p] = 255 & f, p += d, f /= 256, s -= 8);
				t[e + p - d] |= 128 * y
			}
		}, {}],
		33: [function(t, r, e) {
			(function(Buffer) {
				var t, r, n, i;
				! function(e) {
					function o(t, r, n) {
						function i(t, r, e, n) {
							return this instanceof i ? v(this, t, r, e, n) : new i(t, r, e, n)
						}

						function o(t) {
							return !(!t || !t[F])
						}

						function v(t, r, e, n, i) {
							if (E && A && (r instanceof A && (r = new E(r)), n instanceof A && (n = new E(n))), !(r || e || n || g)) return void(t.buffer = h(m, 0));
							if (!s(r, e)) {
								var o = g || Array;
								i = e, n = r, e = 0, r = new o(8)
							}
							t.buffer = r, t.offset = e |= 0, b !== typeof n && ("string" == typeof n ? x(r, e, n, i || 10) : s(n, i) ? c(r, e, n, i) : "number" == typeof i ? (k(r, e + T, n), k(r, e + S, i)) : n > 0 ? O(r, e, n) : n < 0 ? L(r, e, n) : c(r, e, m, 0))
						}

						function x(t, r, e, n) {
							var i = 0,
								o = e.length,
								f = 0,
								u = 0;
							"-" === e[0] && i++;
							for (var a = i; i < o;) {
								var s = parseInt(e[i++], n);
								if (!(s >= 0)) break;
								u = u * n + s, f = f * n + Math.floor(u / B), u %= B
							}
							a && (f = ~f, u ? u = B - u : f++), k(t, r + T, f), k(t, r + S, u)
						}

						function P() {
							var t = this.buffer,
								r = this.offset,
								e = _(t, r + T),
								i = _(t, r + S);
							return n || (e |= 0), e ? e * B + i : i
						}

						function R(t) {
							var r = this.buffer,
								e = this.offset,
								i = _(r, e + T),
								o = _(r, e + S),
								f = "",
								u = !n && 2147483648 & i;
							for (u && (i = ~i, o = B - o), t = t || 10;;) {
								var a = i % t * B + o;
								if (i = Math.floor(i / t), o = Math.floor(a / t), f = (a % t).toString(t) + f, !i && !o) break
							}
							return u && (f = "-" + f), f
						}

						function k(t, r, e) {
							t[r + D] = 255 & e, e >>= 8, t[r + C] = 255 & e, e >>= 8, t[r + Y] = 255 & e, e >>= 8, t[r + I] = 255 & e
						}

						function _(t, r) {
							return t[r + I] * U + (t[r + Y] << 16) + (t[r + C] << 8) + t[r + D]
						}
						var T = r ? 0 : 4,
							S = r ? 4 : 0,
							I = r ? 0 : 3,
							Y = r ? 1 : 2,
							C = r ? 2 : 1,
							D = r ? 3 : 0,
							O = r ? l : d,
							L = r ? p : y,
							M = i.prototype,
							N = "is" + t,
							F = "_" + N;
						return M.buffer = void 0, M.offset = 0, M[F] = !0, M.toNumber = P, M.toString = R, M.toJSON = P, M.toArray = f, w && (M.toBuffer = u), E && (M.toArrayBuffer = a), i[N] = o, e[t] = i, i
					}

					function f(t) {
						var r = this.buffer,
							e = this.offset;
						return g = null, t !== !1 && 0 === e && 8 === r.length && x(r) ? r : h(r, e)
					}

					function u(t) {
						var r = this.buffer,
							e = this.offset;
						if (g = w, t !== !1 && 0 === e && 8 === r.length && Buffer.isBuffer(r)) return r;
						var n = new w(8);
						return c(n, 0, r, e), n
					}

					function a(t) {
						var r = this.buffer,
							e = this.offset,
							n = r.buffer;
						if (g = E, t !== !1 && 0 === e && n instanceof A && 8 === n.byteLength) return n;
						var i = new E(8);
						return c(i, 0, r, e), i.buffer
					}

					function s(t, r) {
						var e = t && t.length;
						return r |= 0, e && r + 8 <= e && "string" != typeof t[r]
					}

					function c(t, r, e, n) {
						r |= 0, n |= 0;
						for (var i = 0; i < 8; i++) t[r++] = 255 & e[n++]
					}

					function h(t, r) {
						return Array.prototype.slice.call(t, r, r + 8)
					}

					function l(t, r, e) {
						for (var n = r + 8; n > r;) t[--n] = 255 & e, e /= 256
					}

					function p(t, r, e) {
						var n = r + 8;
						for (e++; n > r;) t[--n] = 255 & -e ^ 255, e /= 256
					}

					function d(t, r, e) {
						for (var n = r + 8; r < n;) t[r++] = 255 & e, e /= 256
					}

					function y(t, r, e) {
						var n = r + 8;
						for (e++; r < n;) t[r++] = 255 & -e ^ 255, e /= 256
					}

					function v(t) {
						return !!t && "[object Array]" == Object.prototype.toString.call(t)
					}
					var g, b = "undefined",
						w = b !== typeof Buffer && Buffer,
						E = b !== typeof Uint8Array && Uint8Array,
						A = b !== typeof ArrayBuffer && ArrayBuffer,
						m = [0, 0, 0, 0, 0, 0, 0, 0],
						x = Array.isArray || v,
						B = 4294967296,
						U = 16777216;
					t = o("Uint64BE", !0, !0), r = o("Int64BE", !0, !1), n = o("Uint64LE", !1, !0), i = o("Int64LE", !1, !1)
				}("object" == typeof e && "string" != typeof e.nodeName ? e : this || {})
			}).call(this, t("buffer").Buffer)
		}, {
			buffer: 29
		}],
		34: [function(t, r, e) {
			var n = {}.toString;
			r.exports = Array.isArray || function(t) {
				return "[object Array]" == n.call(t)
			}
		}, {}]
	}, {}, [1])(1)
});
var radixPowerCache = {
		16: UINT64(Math.pow(16, 5)),
		10: UINT64(Math.pow(10, 5)),
		2: UINT64(Math.pow(2, 5))
	},
	radixCache = {
		16: UINT64(16),
		10: UINT64(10),
		2: UINT64(2)
	};

function UINT64(t, i, h, s) {
	return this instanceof UINT64 ? (this.remainder = null, "string" == typeof t ? fromString.call(this, t, i) : void 0 === i ? fromNumber.call(this, t) : void fromBits.apply(this, arguments)) : new UINT64(t, i, h, s)
}

function fromBits(t, i, h, s) {
	return void 0 === h ? (this._a00 = 65535 & t, this._a16 = t >>> 16, this._a32 = 65535 & i, this._a48 = i >>> 16, this) : (this._a00 = 0 | t, this._a16 = 0 | i, this._a32 = 0 | h, this._a48 = 0 | s, this)
}

function fromNumber(t) {
	return this._a00 = 65535 & t, this._a16 = t >>> 16, this._a32 = 0, this._a48 = 0, this
}

function fromString(t, i) {
	i = i || 10, this._a00 = 0, this._a16 = 0, this._a32 = 0, this._a48 = 0;
	for (var h = radixPowerCache[i] || new UINT64(Math.pow(i, 5)), s = 0, r = t.length; s < r; s += 5) {
		var n = Math.min(5, r - s),
			I = parseInt(t.slice(s, s + n), i);
		this.multiply(n < 5 ? new UINT64(Math.pow(i, n)) : h).add(new UINT64(I))
	}
	return this
}
UINT64.prototype.fromBits = fromBits, UINT64.prototype.fromNumber = fromNumber, UINT64.prototype.fromString = fromString, UINT64.prototype.toNumber = function() {
	return 65536 * this._a16 + this._a00
}, UINT64.prototype.toString = function(t) {
	var i = radixCache[t = t || 10] || new UINT64(t);
	if (!this.gt(i)) return this.toNumber().toString(t);
	for (var h = this.clone(), s = new Array(64), r = 63; r >= 0 && (h.div(i), s[r] = h.remainder.toNumber().toString(t), h.gt(i)); r--);
	return s[r - 1] = h.toNumber().toString(t), s.join("")
}, UINT64.prototype.add = function(t) {
	var i = this._a00 + t._a00,
		h = i >>> 16,
		s = (h += this._a16 + t._a16) >>> 16,
		r = (s += this._a32 + t._a32) >>> 16;
	return r += this._a48 + t._a48, this._a00 = 65535 & i, this._a16 = 65535 & h, this._a32 = 65535 & s, this._a48 = 65535 & r, this
}, UINT64.prototype.subtract = function(t) {
	return this.add(t.clone().negate())
}, UINT64.prototype.multiply = function(t) {
	var i = this._a00,
		h = this._a16,
		s = this._a32,
		r = this._a48,
		n = t._a00,
		I = t._a16,
		e = t._a32,
		u = i * n,
		f = u >>> 16,
		o = (f += i * I) >>> 16;
	f &= 65535, o += (f += h * n) >>> 16;
	var U = (o += i * e) >>> 16;
	return o &= 65535, U += (o += h * I) >>> 16, o &= 65535, U += (o += s * n) >>> 16, U += i * t._a48, U &= 65535, U += h * e, U &= 65535, U += s * I, U &= 65535, U += r * n, this._a00 = 65535 & u, this._a16 = 65535 & f, this._a32 = 65535 & o, this._a48 = 65535 & U, this
}, UINT64.prototype.div = function(t) {
	if (0 == t._a16 && 0 == t._a32 && 0 == t._a48) {
		if (0 == t._a00) throw Error("division by zero");
		if (1 == t._a00) return this.remainder = new UINT64(0), this
	}
	if (t.gt(this)) return this.remainder = this.clone(), this._a00 = 0, this._a16 = 0, this._a32 = 0, this._a48 = 0, this;
	if (this.eq(t)) return this.remainder = new UINT64(0), this._a00 = 1, this._a16 = 0, this._a32 = 0, this._a48 = 0, this;
	for (var i = t.clone(), h = -1; !this.lt(i);) i.shiftLeft(1, !0), h++;
	for (this.remainder = this.clone(), this._a00 = 0, this._a16 = 0, this._a32 = 0, this._a48 = 0; h >= 0; h--) i.shiftRight(1), this.remainder.lt(i) || (this.remainder.subtract(i), h >= 48 ? this._a48 |= 1 << h - 48 : h >= 32 ? this._a32 |= 1 << h - 32 : h >= 16 ? this._a16 |= 1 << h - 16 : this._a00 |= 1 << h);
	return this
}, UINT64.prototype.negate = function() {
	var t = 1 + (65535 & ~this._a00);
	return this._a00 = 65535 & t, t = (65535 & ~this._a16) + (t >>> 16), this._a16 = 65535 & t, t = (65535 & ~this._a32) + (t >>> 16), this._a32 = 65535 & t, this._a48 = ~this._a48 + (t >>> 16) & 65535, this
}, UINT64.prototype.equals = UINT64.prototype.eq = function(t) {
	return this._a48 == t._a48 && this._a00 == t._a00 && this._a32 == t._a32 && this._a16 == t._a16
}, UINT64.prototype.greaterThan = UINT64.prototype.gt = function(t) {
	return this._a48 > t._a48 || !(this._a48 < t._a48) && (this._a32 > t._a32 || !(this._a32 < t._a32) && (this._a16 > t._a16 || !(this._a16 < t._a16) && this._a00 > t._a00))
}, UINT64.prototype.lessThan = UINT64.prototype.lt = function(t) {
	return this._a48 < t._a48 || !(this._a48 > t._a48) && (this._a32 < t._a32 || !(this._a32 > t._a32) && (this._a16 < t._a16 || !(this._a16 > t._a16) && this._a00 < t._a00))
}, UINT64.prototype.or = function(t) {
	return this._a00 |= t._a00, this._a16 |= t._a16, this._a32 |= t._a32, this._a48 |= t._a48, this
}, UINT64.prototype.and = function(t) {
	return this._a00 &= t._a00, this._a16 &= t._a16, this._a32 &= t._a32, this._a48 &= t._a48, this
}, UINT64.prototype.xor = function(t) {
	return this._a00 ^= t._a00, this._a16 ^= t._a16, this._a32 ^= t._a32, this._a48 ^= t._a48, this
}, UINT64.prototype.not = function() {
	return this._a00 = 65535 & ~this._a00, this._a16 = 65535 & ~this._a16, this._a32 = 65535 & ~this._a32, this._a48 = 65535 & ~this._a48, this
}, UINT64.prototype.shiftRight = UINT64.prototype.shiftr = function(t) {
	return (t %= 64) >= 48 ? (this._a00 = this._a48 >> t - 48, this._a16 = 0, this._a32 = 0, this._a48 = 0) : t >= 32 ? (t -= 32, this._a00 = 65535 & (this._a32 >> t | this._a48 << 16 - t), this._a16 = this._a48 >> t & 65535, this._a32 = 0, this._a48 = 0) : t >= 16 ? (t -= 16, this._a00 = 65535 & (this._a16 >> t | this._a32 << 16 - t), this._a16 = 65535 & (this._a32 >> t | this._a48 << 16 - t), this._a32 = this._a48 >> t & 65535, this._a48 = 0) : (this._a00 = 65535 & (this._a00 >> t | this._a16 << 16 - t), this._a16 = 65535 & (this._a16 >> t | this._a32 << 16 - t), this._a32 = 65535 & (this._a32 >> t | this._a48 << 16 - t), this._a48 = this._a48 >> t & 65535), this
}, UINT64.prototype.shiftLeft = UINT64.prototype.shiftl = function(t, i) {
	return (t %= 64) >= 48 ? (this._a48 = this._a00 << t - 48, this._a32 = 0, this._a16 = 0, this._a00 = 0) : t >= 32 ? (t -= 32, this._a48 = this._a16 << t | this._a00 >> 16 - t, this._a32 = this._a00 << t & 65535, this._a16 = 0, this._a00 = 0) : t >= 16 ? (t -= 16, this._a48 = this._a32 << t | this._a16 >> 16 - t, this._a32 = 65535 & (this._a16 << t | this._a00 >> 16 - t), this._a16 = this._a00 << t & 65535, this._a00 = 0) : (this._a48 = this._a48 << t | this._a32 >> 16 - t, this._a32 = 65535 & (this._a32 << t | this._a16 >> 16 - t), this._a16 = 65535 & (this._a16 << t | this._a00 >> 16 - t), this._a00 = this._a00 << t & 65535), i || (this._a48 &= 65535), this
}, UINT64.prototype.rotateLeft = UINT64.prototype.rotl = function(t) {
	if (0 == (t %= 64)) return this;
	if (t >= 32) {
		var i = this._a00;
		if (this._a00 = this._a32, this._a32 = i, i = this._a48, this._a48 = this._a16, this._a16 = i, 32 == t) return this;
		t -= 32
	}
	var h = this._a48 << 16 | this._a32,
		s = this._a16 << 16 | this._a00,
		r = h << t | s >>> 32 - t,
		n = s << t | h >>> 32 - t;
	return this._a00 = 65535 & n, this._a16 = n >>> 16, this._a32 = 65535 & r, this._a48 = r >>> 16, this
}, UINT64.prototype.rotateRight = UINT64.prototype.rotr = function(t) {
	if (0 == (t %= 64)) return this;
	if (t >= 32) {
		var i = this._a00;
		if (this._a00 = this._a32, this._a32 = i, i = this._a48, this._a48 = this._a16, this._a16 = i, 32 == t) return this;
		t -= 32
	}
	var h = this._a48 << 16 | this._a32,
		s = this._a16 << 16 | this._a00,
		r = h >>> t | s << 32 - t,
		n = s >>> t | h << 32 - t;
	return this._a00 = 65535 & n, this._a16 = n >>> 16, this._a32 = 65535 & r, this._a48 = r >>> 16, this
}, UINT64.prototype.clone = function() {
	return new UINT64(this._a00, this._a16, this._a32, this._a48)
};
var PRIME64_1 = UINT64("11400714785074694791"),
	PRIME64_2 = UINT64("14029467366897019727"),
	PRIME64_3 = UINT64("1609587929392839161"),
	PRIME64_4 = UINT64("9650029242287828579"),
	PRIME64_5 = UINT64("2870177450012600261");

function toUTF8Array(t) {
	for (var i = [], h = 0, s = t.length; h < s; h++) {
		var r = t.charCodeAt(h);
		r < 128 ? i.push(r) : r < 2048 ? i.push(192 | r >> 6, 128 | 63 & r) : r < 55296 || r >= 57344 ? i.push(224 | r >> 12, 128 | r >> 6 & 63, 128 | 63 & r) : (h++, r = 65536 + ((1023 & r) << 10 | 1023 & t.charCodeAt(h)), i.push(240 | r >> 18, 128 | r >> 12 & 63, 128 | r >> 6 & 63, 128 | 63 & r))
	}
	return new Uint8Array(i)
}

function XXH64() {
	return 2 == arguments.length ? new XXH64(arguments[1]).update(arguments[0]).digest() : this instanceof XXH64 ? void init.call(this, arguments[0]) : new XXH64(arguments[0])
}

function hex_hash(t, i) {
	return new XXH64(i = i || 0).update(t).digest().toString(16)
}

function init(t) {
	return this.seed = t instanceof UINT64 ? t.clone() : UINT64(t), this.v1 = this.seed.clone().add(PRIME64_1).add(PRIME64_2), this.v2 = this.seed.clone().add(PRIME64_2), this.v3 = this.seed.clone(), this.v4 = this.seed.clone().subtract(PRIME64_1), this.total_len = 0, this.memsize = 0, this.memory = null, this
}
XXH64.prototype.hex_hash = hex_hash, XXH64.prototype.init = init, XXH64.prototype.update = function(t) {
	var i;
	"string" == typeof t && (t = toUTF8Array(t), i = !0), "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer && (i = !0, t = new Uint8Array(t));
	var h = 0,
		s = t.length,
		r = h + s;
	if (0 == s) return this;
	if (this.total_len += s, 0 == this.memsize && (this.memory = i ? new Uint8Array(32) : new Buffer(32)), this.memsize + s < 32) return i ? this.memory.set(t.subarray(0, s), this.memsize) : t.copy(this.memory, this.memsize, 0, s), this.memsize += s, this;
	if (this.memsize > 0) {
		i ? this.memory.set(t.subarray(0, 32 - this.memsize), this.memsize) : t.copy(this.memory, this.memsize, 0, 32 - this.memsize);
		var n = 0;
		e = UINT64(this.memory[n + 1] << 8 | this.memory[n], this.memory[n + 3] << 8 | this.memory[n + 2], this.memory[n + 5] << 8 | this.memory[n + 4], this.memory[n + 7] << 8 | this.memory[n + 6]), this.v1.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), n += 8, e = UINT64(this.memory[n + 1] << 8 | this.memory[n], this.memory[n + 3] << 8 | this.memory[n + 2], this.memory[n + 5] << 8 | this.memory[n + 4], this.memory[n + 7] << 8 | this.memory[n + 6]), this.v2.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), n += 8, e = UINT64(this.memory[n + 1] << 8 | this.memory[n], this.memory[n + 3] << 8 | this.memory[n + 2], this.memory[n + 5] << 8 | this.memory[n + 4], this.memory[n + 7] << 8 | this.memory[n + 6]), this.v3.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), n += 8, e = UINT64(this.memory[n + 1] << 8 | this.memory[n], this.memory[n + 3] << 8 | this.memory[n + 2], this.memory[n + 5] << 8 | this.memory[n + 4], this.memory[n + 7] << 8 | this.memory[n + 6]), this.v4.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), h += 32 - this.memsize, this.memsize = 0
	}
	if (h <= r - 32) {
		var I = r - 32;
		do {
			var e;
			e = UINT64(t[h + 1] << 8 | t[h], t[h + 3] << 8 | t[h + 2], t[h + 5] << 8 | t[h + 4], t[h + 7] << 8 | t[h + 6]), this.v1.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), e = UINT64(t[(h += 8) + 1] << 8 | t[h], t[h + 3] << 8 | t[h + 2], t[h + 5] << 8 | t[h + 4], t[h + 7] << 8 | t[h + 6]), this.v2.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), e = UINT64(t[(h += 8) + 1] << 8 | t[h], t[h + 3] << 8 | t[h + 2], t[h + 5] << 8 | t[h + 4], t[h + 7] << 8 | t[h + 6]), this.v3.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), e = UINT64(t[(h += 8) + 1] << 8 | t[h], t[h + 3] << 8 | t[h + 2], t[h + 5] << 8 | t[h + 4], t[h + 7] << 8 | t[h + 6]), this.v4.add(e.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1), h += 8
		} while (h <= I)
	}
	return h < r && (i ? this.memory.set(t.subarray(h, r), this.memsize) : t.copy(this.memory, this.memsize, h, r), this.memsize = r - h), this
}, XXH64.prototype.digest = function() {
	var t, i, h = this.memory,
		s = 0,
		r = this.memsize,
		n = new UINT64;
	for (this.total_len >= 32 ? ((t = this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)), t.add(this.v3.clone().rotl(12)), t.add(this.v4.clone().rotl(18)), t.xor(this.v1.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)), t.multiply(PRIME64_1).add(PRIME64_4), t.xor(this.v2.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)), t.multiply(PRIME64_1).add(PRIME64_4), t.xor(this.v3.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)), t.multiply(PRIME64_1).add(PRIME64_4), t.xor(this.v4.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)), t.multiply(PRIME64_1).add(PRIME64_4)) : t = this.seed.clone().add(PRIME64_5), t.add(n.fromNumber(this.total_len)); s <= r - 8;) n.fromBits(h[s + 1] << 8 | h[s], h[s + 3] << 8 | h[s + 2], h[s + 5] << 8 | h[s + 4], h[s + 7] << 8 | h[s + 6]), n.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1), t.xor(n).rotl(27).multiply(PRIME64_1).add(PRIME64_4), s += 8;
	for (s + 4 <= r && (n.fromBits(h[s + 1] << 8 | h[s], h[s + 3] << 8 | h[s + 2], 0, 0), t.xor(n.multiply(PRIME64_1)).rotl(23).multiply(PRIME64_2).add(PRIME64_3), s += 4); s < r;) n.fromBits(h[s++], 0, 0, 0), t.xor(n.multiply(PRIME64_5)).rotl(11).multiply(PRIME64_1);
	return i = t.clone().shiftRight(33), t.xor(i).multiply(PRIME64_2), i = t.clone().shiftRight(29), t.xor(i).multiply(PRIME64_3), i = t.clone().shiftRight(32), t.xor(i), this.init(this.seed), t
}, window.XXH64 = XXH64;
! function(r, t) {
	"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (r = r || self).H5ShareSdk = t()
}(this, (function() {
	"use strict";
	var r = function() {
		return (r = Object.assign || function(r) {
			for (var t, n = 1, e = arguments.length; n < e; n++)
				for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (r[i] = t[i]);
			return r
		}).apply(this, arguments)
	};

	function t(r, t, n, e) {
		return new(n = n || Promise)((function(i, o) {
			function u(r) {
				try {
					a(e.next(r))
				} catch (r) {
					o(r)
				}
			}

			function f(r) {
				try {
					a(e.throw(r))
				} catch (r) {
					o(r)
				}
			}

			function a(r) {
				var t;
				r.done ? i(r.value) : ((t = r.value) instanceof n ? t : new n((function(r) {
					r(t)
				}))).then(u, f)
			}
			a((e = e.apply(r, t || [])).next())
		}))
	}

	function n(r, t) {
		var n, e, i, o = {
				label: 0,
				sent: function() {
					if (1 & i[0]) throw i[1];
					return i[1]
				},
				trys: [],
				ops: []
			},
			u = {
				next: f(0),
				throw: f(1),
				return: f(2)
			};
		return "function" == typeof Symbol && (u[Symbol.iterator] = function() {
			return this
		}), u;

		function f(u) {
			return function(f) {
				return function(u) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; o;) try {
						if (n = 1, e && (i = 2 & u[0] ? e.return : u[0] ? e.throw || ((i = e.return) && i.call(e), 0) : e.next) && !(i = i.call(e, u[1])).done) return i;
						switch (e = 0, i && (u = [2 & u[0], i.value]), u[0]) {
							case 0:
							case 1:
								i = u;
								break;
							case 4:
								return o.label++, {
									value: u[1],
									done: !1
								};
							case 5:
								o.label++, e = u[1], u = [0];
								continue;
							case 7:
								u = o.ops.pop(), o.trys.pop();
								continue;
							default:
								if (!(i = 0 < (i = o.trys).length && i[i.length - 1]) && (6 === u[0] || 2 === u[0])) {
									o = 0;
									continue
								}
								if (3 === u[0] && (!i || u[1] > i[0] && u[1] < i[3])) {
									o.label = u[1];
									break
								}
								if (6 === u[0] && o.label < i[1]) {
									o.label = i[1], i = u;
									break
								}
								if (i && o.label < i[2]) {
									o.label = i[2], o.ops.push(u);
									break
								}
								i[2] && o.ops.pop(), o.trys.pop();
								continue
						}
						u = t.call(r, o)
					} catch (r) {
						u = [6, r], e = 0
					} finally {
						n = i = 0
					}
					if (5 & u[0]) throw u[1];
					return {
						value: u[0] ? u[1] : void 0,
						done: !0
					}
				}([u, f])
			}
		}
	}

	function e(r) {
		return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(r) {
			return typeof r
		} : function(r) {
			return r && "function" == typeof Symbol && r.constructor === Symbol && r !== Symbol.prototype ? "symbol" : typeof r
		})(r)
	}

	function i(r, t) {
		return function(r) {
			if (Array.isArray(r)) return r
		}(r) || function(r, t) {
			if ("undefined" != typeof Symbol && Symbol.iterator in Object(r)) {
				var n = [],
					e = !0,
					i = !1,
					o = void 0;
				try {
					for (var u, f = r[Symbol.iterator](); !(e = (u = f.next()).done) && (n.push(u.value), !t || n.length !== t); e = !0);
				} catch (r) {
					i = !0, o = r
				} finally {
					try {
						e || null == f.return || f.return()
					} finally {
						if (i) throw o
					}
				}
				return n
			}
		}(r, t) || u(r, t) || function() {
			throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
		}()
	}

	function o(r) {
		return function(r) {
			if (Array.isArray(r)) return f(r)
		}(r) || function(r) {
			if ("undefined" != typeof Symbol && Symbol.iterator in Object(r)) return Array.from(r)
		}(r) || u(r) || function() {
			throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
		}()
	}

	function u(r, t) {
		if (r) {
			if ("string" == typeof r) return f(r, t);
			var n = Object.prototype.toString.call(r).slice(8, -1);
			return "Object" === n && r.constructor && (n = r.constructor.name), "Map" === n || "Set" === n ? Array.from(r) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? f(r, t) : void 0
		}
	}

	function f(r, t) {
		(null == t || t > r.length) && (t = r.length);
		for (var n = 0, e = new Array(t); n < t; n++) e[n] = r[n];
		return e
	}

	function a(r, t) {
		return r(t = {
			exports: {}
		}, t.exports), t.exports
	}
	var s = "%[a-f0-9]{2}",
		c = new RegExp(s, "gi"),
		h = new RegExp("(" + s + ")+", "gi");

	function v(r) {
		try {
			return decodeURIComponent(r)
		} catch (e) {
			for (var t = r.match(c), n = 1; n < t.length; n++) t = (r = function r(t, n) {
				try {
					return decodeURIComponent(t.join(""))
				} catch (r) {}
				if (1 === t.length) return t;
				n = n || 1;
				var e = t.slice(0, n),
					i = t.slice(n);
				return Array.prototype.concat.call([], r(e), r(i))
			}(t, n).join("")).match(c);
			return r
		}
	}

	function l(r, t) {
		if ("string" != typeof r || "string" != typeof t) throw new TypeError("Expected the arguments to be of type `string`");
		if ("" === t) return [r];
		var n = r.indexOf(t);
		return -1 === n ? [r] : [r.slice(0, n), r.slice(n + t.length)]
	}
	var d = a((function(r, t) {
			function n(r) {
				if ("string" != typeof r || 1 !== r.length) throw new TypeError("arrayFormatSeparator must be single character string")
			}

			function f(r, t) {
				return t.encode ? t.strict ? encodeURIComponent(r).replace(/[!'()*]/g, (function(r) {
					return "%".concat(r.charCodeAt(0).toString(16).toUpperCase())
				})) : encodeURIComponent(r) : r
			}

			function a(r, t) {
				return t.decode ? function(r) {
					if ("string" != typeof r) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + e(r) + "`");
					try {
						return r = r.replace(/\+/g, " "), decodeURIComponent(r)
					} catch (t) {
						return function(r) {
							for (var t = {
									"%FE%FF": "��",
									"%FF%FE": "��"
								}, n = h.exec(r); n;) {
								try {
									t[n[0]] = decodeURIComponent(n[0])
								} catch (r) {
									var e = v(n[0]);
									e !== n[0] && (t[n[0]] = e)
								}
								n = h.exec(r)
							}
							t["%C2"] = "�";
							for (var i = Object.keys(t), o = 0; o < i.length; o++) {
								var u = i[o];
								r = r.replace(new RegExp(u, "g"), t[u])
							}
							return r
						}(r)
					}
				}(r) : r
			}

			function s(r) {
				var t = r.indexOf("#");
				return -1 !== t && (r = r.slice(0, t)), r
			}

			function c(r) {
				var t = (r = s(r)).indexOf("?");
				return -1 === t ? "" : r.slice(t + 1)
			}

			function d(r, t) {
				return t.parseNumbers && !Number.isNaN(Number(r)) && "string" == typeof r && "" !== r.trim() ? r = Number(r) : !t.parseBooleans || null === r || "true" !== r.toLowerCase() && "false" !== r.toLowerCase() || (r = "true" === r.toLowerCase()), r
			}

			function w(r, t) {
				n((t = Object.assign({
					decode: !0,
					sort: !0,
					arrayFormat: "none",
					arrayFormatSeparator: ",",
					parseNumbers: !1,
					parseBooleans: !1
				}, t)).arrayFormatSeparator);
				var o = function(r) {
						var t;
						switch (r.arrayFormat) {
							case "index":
								return function(r, n, e) {
									t = /\[(\d*)\]$/.exec(r), r = r.replace(/\[\d*\]$/, ""), t ? (void 0 === e[r] && (e[r] = {}), e[r][t[1]] = n) : e[r] = n
								};
							case "bracket":
								return function(r, n, e) {
									t = /(\[\])$/.exec(r), r = r.replace(/\[\]$/, ""), t ? void 0 !== e[r] ? e[r] = [].concat(e[r], n) : e[r] = [n] : e[r] = n
								};
							case "comma":
							case "separator":
								return function(t, n, e) {
									var i = "string" == typeof n && -1 < n.split("").indexOf(r.arrayFormatSeparator) ? n.split(r.arrayFormatSeparator).map((function(t) {
										return a(t, r)
									})) : null === n ? n : a(n, r);
									e[t] = i
								};
							default:
								return function(r, t, n) {
									void 0 !== n[r] ? n[r] = [].concat(n[r], t) : n[r] = t
								}
						}
					}(t),
					f = Object.create(null);
				if ("string" != typeof r) return f;
				if (!(r = r.trim().replace(/^[?#&]/, ""))) return f;
				var s, c = function(r) {
					if ("undefined" == typeof Symbol || null == r[Symbol.iterator]) {
						if (Array.isArray(r) || (r = u(r))) {
							var t = 0,
								n = function() {};
							return {
								s: n,
								n: function() {
									return t >= r.length ? {
										done: !0
									} : {
										done: !1,
										value: r[t++]
									}
								},
								e: function(r) {
									throw r
								},
								f: n
							}
						}
						throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
					}
					var e, i, o = !0,
						f = !1;
					return {
						s: function() {
							e = r[Symbol.iterator]()
						},
						n: function() {
							var r = e.next();
							return o = r.done, r
						},
						e: function(r) {
							f = !0, i = r
						},
						f: function() {
							try {
								o || null == e.return || e.return()
							} finally {
								if (f) throw i
							}
						}
					}
				}(r.split("&"));
				try {
					for (c.s(); !(s = c.n()).done;) {
						var h = s.value,
							v = i(l(t.decode ? h.replace(/\+/g, " ") : h, "="), 2),
							w = v[0],
							y = void 0 === (y = v[1]) ? null : ["comma", "separator"].includes(t.arrayFormat) ? y : a(y, t);
						o(a(w, t), y, f)
					}
				} catch (r) {
					c.e(r)
				} finally {
					c.f()
				}
				for (var p = 0, g = Object.keys(f); p < g.length; p++) {
					var m = g[p],
						b = f[m];
					if ("object" === e(b) && null !== b)
						for (var E = 0, A = Object.keys(b); E < A.length; E++) {
							var M = A[E];
							b[M] = d(b[M], t)
						} else f[m] = d(b, t)
				}
				return !1 === t.sort ? f : (!0 === t.sort ? Object.keys(f).sort() : Object.keys(f).sort(t.sort)).reduce((function(r, t) {
					var n = f[t];
					return Boolean(n) && "object" === e(n) && !Array.isArray(n) ? r[t] = function r(t) {
						return Array.isArray(t) ? t.sort() : "object" === e(t) ? r(Object.keys(t)).sort((function(r, t) {
							return Number(r) - Number(t)
						})).map((function(r) {
							return t[r]
						})) : t
					}(n) : r[t] = n, r
				}), Object.create(null))
			}
			t.extract = c, t.parse = w, t.stringify = function(r, t) {
				if (!r) return "";
				n((t = Object.assign({
					encode: !0,
					strict: !0,
					arrayFormat: "none",
					arrayFormatSeparator: ","
				}, t)).arrayFormatSeparator);
				for (var e, i = function(r) {
						switch (r.arrayFormat) {
							case "index":
								return function(t) {
									return function(n, e) {
										var i = n.length;
										return void 0 === e || r.skipNull && null === e || r.skipEmptyString && "" === e ? n : [].concat(o(n), null === e ? [
											[f(t, r), "[", i, "]"].join("")
										] : [
											[f(t, r), "[", f(i, r), "]=", f(e, r)].join("")
										])
									}
								};
							case "bracket":
								return function(t) {
									return function(n, e) {
										return void 0 === e || r.skipNull && null === e || r.skipEmptyString && "" === e ? n : [].concat(o(n), null === e ? [
											[f(t, r), "[]"].join("")
										] : [
											[f(t, r), "[]=", f(e, r)].join("")
										])
									}
								};
							case "comma":
							case "separator":
								return function(t) {
									return function(n, e) {
										return null == e || 0 === e.length ? n : 0 === n.length ? [
											[f(t, r), "=", f(e, r)].join("")
										] : [
											[n, f(e, r)].join(r.arrayFormatSeparator)
										]
									}
								};
							default:
								return function(t) {
									return function(n, e) {
										return void 0 === e || r.skipNull && null === e || r.skipEmptyString && "" === e ? n : [].concat(o(n), null === e ? [f(t, r)] : [
											[f(t, r), "=", f(e, r)].join("")
										])
									}
								}
						}
					}(t), u = {}, a = 0, s = Object.keys(r); a < s.length; a++) {
					var c = s[a];
					e = c, t.skipNull && null == r[e] || t.skipEmptyString && "" === r[e] || (u[c] = r[c])
				}
				var h = Object.keys(u);
				return !1 !== t.sort && h.sort(t.sort), h.map((function(n) {
					var e = r[n];
					return void 0 === e ? "" : null === e ? f(n, t) : Array.isArray(e) ? e.reduce(i(n), []).join("&") : f(n, t) + "=" + f(e, t)
				})).filter((function(r) {
					return 0 < r.length
				})).join("&")
			}, t.parseUrl = function(r, t) {
				t = Object.assign({
					decode: !0
				}, t);
				var n = i(l(r, "#"), 2),
					e = n[0],
					o = n[1];
				return Object.assign({
					url: e.split("?")[0] || "",
					query: w(c(r), t)
				}, t && t.parseFragmentIdentifier && o ? {
					fragmentIdentifier: a(o, t)
				} : {})
			}, t.stringifyUrl = function(r, n) {
				n = Object.assign({
					encode: !0,
					strict: !0
				}, n);
				var e, i, o, u = s(r.url).split("?")[0] || "",
					a = t.extract(r.url),
					c = t.parse(a, {
						sort: !1
					}),
					h = Object.assign(c, r.query),
					v = (v = t.stringify(h, n)) && "?".concat(v),
					l = (i = "", -1 !== (o = (e = r.url).indexOf("#")) && (i = e.slice(o)), i);
				return r.fragmentIdentifier && (l = "#".concat(f(r.fragmentIdentifier, n))), "".concat(u).concat(v).concat(l)
			}
		})),
		w = (d.extract, d.parse, d.stringify, d.parseUrl, d.stringifyUrl, {}.toString),
		y = Array.isArray || function(r) {
			return "[object Array]" == w.call(r)
		},
		p = (g.TYPED_ARRAY_SUPPORT = function() {
			try {
				var r = new Uint8Array(1);
				return r.__proto__ = {
					__proto__: Uint8Array.prototype,
					foo: function() {
						return 42
					}
				}, 42 === r.foo()
			} catch (r) {
				return !1
			}
		}()) ? 2147483647 : 1073741823;

	function g(r, t, n) {
		return g.TYPED_ARRAY_SUPPORT || this instanceof g ? "number" == typeof r ? E(this, r) : function(r, t, n, e) {
			if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
			return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(r, t, n, e) {
				if (n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
				if (t.byteLength < n + (e || 0)) throw new RangeError("'length' is out of bounds");
				var i;
				return i = void 0 === n && void 0 === e ? new Uint8Array(t) : void 0 === e ? new Uint8Array(t, n) : new Uint8Array(t, n, e), g.TYPED_ARRAY_SUPPORT ? i.__proto__ = g.prototype : i = A(r, i), i
			}(r, t, n, e) : ("string" != typeof t ? function(r, t) {
				if (g.isBuffer(t)) {
					var n = 0 | m(t.length),
						e = b(r, n);
					return 0 === e.length || t.copy(e, 0, 0, n), e
				}
				if (t) {
					if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || function(r) {
						return r != r
					}(t.length) ? b(r, 0) : A(r, t);
					if ("Buffer" === t.type && Array.isArray(t.data)) return A(r, t.data)
				}
				throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
			} : function(r, t) {
				var n = 0 | R(t),
					e = b(r, n),
					i = e.write(t);
				return i !== n && (e = e.slice(0, i)), e
			})(r, t)
		}(this, r, t, n) : new g(r, t, n)
	}

	function m(r) {
		if (p <= r) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + p.toString(16) + " bytes");
		return 0 | r
	}

	function b(r, t) {
		var n;
		return g.TYPED_ARRAY_SUPPORT ? (n = new Uint8Array(t)).__proto__ = g.prototype : (null === (n = r) && (n = new g(t)), n.length = t), n
	}

	function E(r, t) {
		var n = b(r, t < 0 ? 0 : 0 | m(t));
		if (!g.TYPED_ARRAY_SUPPORT)
			for (var e = 0; e < t; ++e) n[e] = 0;
		return n
	}

	function A(r, t) {
		for (var n = t.length < 0 ? 0 : 0 | m(t.length), e = b(r, n), i = 0; i < n; i += 1) e[i] = 255 & t[i];
		return e
	}

	function M(r, t) {
		var n;
		t = t || 1 / 0;
		for (var e = r.length, i = null, o = [], u = 0; u < e; ++u) {
			if (55295 < (n = r.charCodeAt(u)) && n < 57344) {
				if (!i) {
					if (56319 < n) {
						-1 < (t -= 3) && o.push(239, 191, 189);
						continue
					}
					if (u + 1 === e) {
						-1 < (t -= 3) && o.push(239, 191, 189);
						continue
					}
					i = n;
					continue
				}
				if (n < 56320) {
					-1 < (t -= 3) && o.push(239, 191, 189), i = n;
					continue
				}
				n = 65536 + (i - 55296 << 10 | n - 56320)
			} else i && -1 < (t -= 3) && o.push(239, 191, 189);
			if (i = null, n < 128) {
				if (--t < 0) break;
				o.push(n)
			} else if (n < 2048) {
				if ((t -= 2) < 0) break;
				o.push(n >> 6 | 192, 63 & n | 128)
			} else if (n < 65536) {
				if ((t -= 3) < 0) break;
				o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
			} else {
				if (!(n < 1114112)) throw new Error("Invalid code point");
				if ((t -= 4) < 0) break;
				o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
			}
		}
		return o
	}

	function R(r) {
		return g.isBuffer(r) ? r.length : "undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(r) || r instanceof ArrayBuffer) ? r.byteLength : ("string" != typeof r && (r = "" + r), 0 === r.length ? 0 : M(r).length)
	}
	g.TYPED_ARRAY_SUPPORT && (g.prototype.__proto__ = Uint8Array.prototype, g.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && g[Symbol.species] === g && Object.defineProperty(g, Symbol.species, {
		value: null,
		configurable: !0,
		enumerable: !1,
		writable: !1
	})), g.prototype.write = function(r, t, n) {
		void 0 === t || void 0 === n && "string" == typeof t ? (n = this.length, t = 0) : isFinite(t) && (t |= 0, isFinite(n) ? n |= 0 : n = void 0);
		var e = this.length - t;
		if ((void 0 === n || e < n) && (n = e), 0 < r.length && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
		return function(r, t, n, e) {
			return function(r, t, n, e) {
				for (var i = 0; i < e && !(i + n >= t.length || i >= r.length); ++i) t[i + n] = r[i];
				return i
			}(M(t, r.length - n), r, n, e)
		}(this, r, t, n)
	}, g.prototype.slice = function(r, t) {
		var n = this.length;
		if ((r = ~~r) < 0 ? (r += n) < 0 && (r = 0) : n < r && (r = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : n < t && (t = n), t < r && (t = r), g.TYPED_ARRAY_SUPPORT)(i = this.subarray(r, t)).__proto__ = g.prototype;
		else
			for (var e = t - r, i = new g(e, void 0), o = 0; o < e; ++o) i[o] = this[o + r];
		return i
	}, g.prototype.copy = function(r, t, n, e) {
		if (n = n || 0, e || 0 === e || (e = this.length), t >= r.length && (t = r.length), t = t || 0, 0 < e && e < n && (e = n), e === n) return 0;
		if (0 === r.length || 0 === this.length) return 0;
		if (t < 0) throw new RangeError("targetStart out of bounds");
		if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
		if (e < 0) throw new RangeError("sourceEnd out of bounds");
		e > this.length && (e = this.length), r.length - t < e - n && (e = r.length - t + n);
		var i, o = e - n;
		if (this === r && n < t && t < e)
			for (i = o - 1; 0 <= i; --i) r[i + t] = this[i + n];
		else if (o < 1e3 || !g.TYPED_ARRAY_SUPPORT)
			for (i = 0; i < o; ++i) r[i + t] = this[i + n];
		else Uint8Array.prototype.set.call(r, this.subarray(n, n + o), t);
		return o
	}, g.prototype.fill = function(r, t, n) {
		var e;
		if ("string" == typeof r ? ("string" == typeof t ? (t = 0, n = this.length) : "string" == typeof n && (n = this.length), 1 !== r.length || (e = r.charCodeAt(0)) < 256 && (r = e)) : "number" == typeof r && (r &= 255), t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
		if (n <= t) return this;
		if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, "number" == typeof(r = r || 0))
			for (u = t; u < n; ++u) this[u] = r;
		else
			for (var i = g.isBuffer(r) ? r : new g(r), o = i.length, u = 0; u < n - t; ++u) this[u + t] = i[u % o];
		return this
	}, g.concat = function(r, t) {
		if (!y(r)) throw new TypeError('"list" argument must be an Array of Buffers');
		if (0 === r.length) return b(null, 0);
		if (void 0 === t)
			for (i = t = 0; i < r.length; ++i) t += r[i].length;
		for (var n = E(null, t), e = 0, i = 0; i < r.length; ++i) {
			var o = r[i];
			if (!g.isBuffer(o)) throw new TypeError('"list" argument must be an Array of Buffers');
			o.copy(n, e), e += o.length
		}
		return n
	}, g.byteLength = R, g.prototype._isBuffer = !0, g.isBuffer = function(r) {
		return !(null == r || !r._isBuffer)
	};
	var S, B = function(r) {
			var t = new g(r);
			return t.fill(0), t
		},
		T = function(r) {
			return new g(r)
		},
		I = [0, 26, 44, 70, 100, 134, 172, 196, 242, 292, 346, 404, 466, 532, 581, 655, 733, 815, 901, 991, 1085, 1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185, 2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706],
		x = {
			getSymbolSize: function(r) {
				if (!r) throw new Error('"version" cannot be null or undefined');
				if (r < 1 || 40 < r) throw new Error('"version" should be in range from 1 to 40');
				return 4 * r + 17
			},
			getSymbolTotalCodewords: function(r) {
				return I[r]
			},
			getBCHDigit: function(r) {
				for (var t = 0; 0 !== r;) t++, r >>>= 1;
				return t
			},
			setToSJISFunction: function(r) {
				if ("function" != typeof r) throw new Error('"toSJISFunc" is not a valid function.');
				S = r
			},
			isKanjiModeEnabled: function() {
				return void 0 !== S
			},
			toSJIS: function(r) {
				return S(r)
			}
		},
		k = a((function(r, t) {
			t.L = {
				bit: 1
			}, t.M = {
				bit: 0
			}, t.Q = {
				bit: 3
			}, t.H = {
				bit: 2
			}, t.isValid = function(r) {
				return r && void 0 !== r.bit && 0 <= r.bit && r.bit < 4
			}, t.from = function(r, n) {
				if (t.isValid(r)) return r;
				try {
					return function(r) {
						if ("string" != typeof r) throw new Error("Param is not a string");
						switch (r.toLowerCase()) {
							case "l":
							case "low":
								return t.L;
							case "m":
							case "medium":
								return t.M;
							case "q":
							case "quartile":
								return t.Q;
							case "h":
							case "high":
								return t.H;
							default:
								throw new Error("Unknown EC Level: " + r)
						}
					}(r)
				} catch (r) {
					return n
				}
			}
		}));

	function j() {
		this.buffer = [], this.length = 0
	}
	k.L, k.M, k.Q, k.H, k.isValid, j.prototype = {
		get: function(r) {
			var t = Math.floor(r / 8);
			return 1 == (this.buffer[t] >>> 7 - r % 8 & 1)
		},
		put: function(r, t) {
			for (var n = 0; n < t; n++) this.putBit(1 == (r >>> t - n - 1 & 1))
		},
		getLengthInBits: function() {
			return this.length
		},
		putBit: function(r) {
			var t = Math.floor(this.length / 8);
			this.buffer.length <= t && this.buffer.push(0), r && (this.buffer[t] |= 128 >>> this.length % 8), this.length++
		}
	};
	var U = j;

	function N(r) {
		if (!r || r < 1) throw new Error("BitMatrix size must be defined and greater than 0");
		this.size = r, this.data = B(r * r), this.reservedBit = B(r * r)
	}
	N.prototype.set = function(r, t, n, e) {
		var i = r * this.size + t;
		this.data[i] = n, e && (this.reservedBit[i] = !0)
	}, N.prototype.get = function(r, t) {
		return this.data[r * this.size + t]
	}, N.prototype.xor = function(r, t, n) {
		this.data[r * this.size + t] ^= n
	}, N.prototype.isReserved = function(r, t) {
		return this.reservedBit[r * this.size + t]
	};
	var F = N,
		O = a((function(r, t) {
			var n = x.getSymbolSize;
			t.getRowColCoords = function(r) {
				if (1 === r) return [];
				for (var t = Math.floor(r / 7) + 2, e = n(r), i = 145 === e ? 26 : 2 * Math.ceil((e - 13) / (2 * t - 2)), o = [e - 7], u = 1; u < t - 1; u++) o[u] = o[u - 1] - i;
				return o.push(6), o.reverse()
			}, t.getPositions = function(r) {
				for (var n = [], e = t.getRowColCoords(r), i = e.length, o = 0; o < i; o++)
					for (var u = 0; u < i; u++) 0 === o && 0 === u || 0 === o && u === i - 1 || o === i - 1 && 0 === u || n.push([e[o], e[u]]);
				return n
			}
		})),
		C = (O.getRowColCoords, O.getPositions, x.getSymbolSize),
		_ = a((function(r, t) {
			t.Patterns = {
				PATTERN000: 0,
				PATTERN001: 1,
				PATTERN010: 2,
				PATTERN011: 3,
				PATTERN100: 4,
				PATTERN101: 5,
				PATTERN110: 6,
				PATTERN111: 7
			}, t.isValid = function(r) {
				return null != r && "" !== r && !isNaN(r) && 0 <= r && r <= 7
			}, t.from = function(r) {
				return t.isValid(r) ? parseInt(r, 10) : void 0
			}, t.getPenaltyN1 = function(r) {
				for (var t = r.size, n = 0, e = 0, i = 0, o = null, u = null, f = 0; f < t; f++) {
					e = i = 0, o = u = null;
					for (var a = 0; a < t; a++) {
						var s = r.get(f, a);
						s === o ? e++ : (5 <= e && (n += e - 5 + 3), o = s, e = 1), (s = r.get(a, f)) === u ? i++ : (5 <= i && (n += i - 5 + 3), u = s, i = 1)
					}
					5 <= e && (n += e - 5 + 3), 5 <= i && (n += i - 5 + 3)
				}
				return n
			}, t.getPenaltyN2 = function(r) {
				for (var t = r.size, n = 0, e = 0; e < t - 1; e++)
					for (var i = 0; i < t - 1; i++) {
						var o = r.get(e, i) + r.get(e, i + 1) + r.get(e + 1, i) + r.get(e + 1, i + 1);
						4 !== o && 0 !== o || n++
					}
				return 3 * n
			}, t.getPenaltyN3 = function(r) {
				for (var t = r.size, n = 0, e = 0, i = 0, o = 0; o < t; o++) {
					e = i = 0;
					for (var u = 0; u < t; u++) e = e << 1 & 2047 | r.get(o, u), 10 <= u && (1488 === e || 93 === e) && n++, i = i << 1 & 2047 | r.get(u, o), 10 <= u && (1488 === i || 93 === i) && n++
				}
				return 40 * n
			}, t.getPenaltyN4 = function(r) {
				for (var t = 0, n = r.data.length, e = 0; e < n; e++) t += r.data[e];
				return 10 * Math.abs(Math.ceil(100 * t / n / 5) - 10)
			}, t.applyMask = function(r, n) {
				for (var e = n.size, i = 0; i < e; i++)
					for (var o = 0; o < e; o++) n.isReserved(o, i) || n.xor(o, i, function(r, n, e) {
						switch (r) {
							case t.Patterns.PATTERN000:
								return (n + e) % 2 == 0;
							case t.Patterns.PATTERN001:
								return n % 2 == 0;
							case t.Patterns.PATTERN010:
								return e % 3 == 0;
							case t.Patterns.PATTERN011:
								return (n + e) % 3 == 0;
							case t.Patterns.PATTERN100:
								return (Math.floor(n / 2) + Math.floor(e / 3)) % 2 == 0;
							case t.Patterns.PATTERN101:
								return n * e % 2 + n * e % 3 == 0;
							case t.Patterns.PATTERN110:
								return (n * e % 2 + n * e % 3) % 2 == 0;
							case t.Patterns.PATTERN111:
								return (n * e % 3 + (n + e) % 2) % 2 == 0;
							default:
								throw new Error("bad maskPattern:" + r)
						}
					}(r, o, i))
			}, t.getBestMask = function(r, n) {
				for (var e = Object.keys(t.Patterns).length, i = 0, o = 1 / 0, u = 0; u < e; u++) {
					n(u), t.applyMask(u, r);
					var f = t.getPenaltyN1(r) + t.getPenaltyN2(r) + t.getPenaltyN3(r) + t.getPenaltyN4(r);
					t.applyMask(u, r), f < o && (o = f, i = u)
				}
				return i
			}
		})),
		P = (_.Patterns, _.isValid, _.getPenaltyN1, _.getPenaltyN2, _.getPenaltyN3, _.getPenaltyN4, _.applyMask, _.getBestMask, [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2, 4, 1, 2, 4, 4, 2, 4, 4, 4, 2, 4, 6, 5, 2, 4, 6, 6, 2, 5, 8, 8, 4, 5, 8, 8, 4, 5, 8, 11, 4, 8, 10, 11, 4, 9, 12, 16, 4, 9, 16, 16, 6, 10, 12, 18, 6, 10, 17, 16, 6, 11, 16, 19, 6, 13, 18, 21, 7, 14, 21, 25, 8, 16, 20, 25, 8, 17, 23, 25, 9, 17, 23, 34, 9, 18, 25, 30, 10, 20, 27, 32, 12, 21, 29, 35, 12, 23, 34, 37, 12, 25, 34, 40, 13, 26, 35, 42, 14, 28, 38, 45, 15, 29, 40, 48, 16, 31, 43, 51, 17, 33, 45, 54, 18, 35, 48, 57, 19, 37, 51, 60, 19, 38, 53, 63, 20, 40, 56, 66, 21, 43, 59, 70, 22, 45, 62, 74, 24, 47, 65, 77, 25, 49, 68, 81]),
		$ = [7, 10, 13, 17, 10, 16, 22, 28, 15, 26, 36, 44, 20, 36, 52, 64, 26, 48, 72, 88, 36, 64, 96, 112, 40, 72, 108, 130, 48, 88, 132, 156, 60, 110, 160, 192, 72, 130, 192, 224, 80, 150, 224, 264, 96, 176, 260, 308, 104, 198, 288, 352, 120, 216, 320, 384, 132, 240, 360, 432, 144, 280, 408, 480, 168, 308, 448, 532, 180, 338, 504, 588, 196, 364, 546, 650, 224, 416, 600, 700, 224, 442, 644, 750, 252, 476, 690, 816, 270, 504, 750, 900, 300, 560, 810, 960, 312, 588, 870, 1050, 336, 644, 952, 1110, 360, 700, 1020, 1200, 390, 728, 1050, 1260, 420, 784, 1140, 1350, 450, 812, 1200, 1440, 480, 868, 1290, 1530, 510, 924, 1350, 1620, 540, 980, 1440, 1710, 570, 1036, 1530, 1800, 570, 1064, 1590, 1890, 600, 1120, 1680, 1980, 630, 1204, 1770, 2100, 660, 1260, 1860, 2220, 720, 1316, 1950, 2310, 750, 1372, 2040, 2430],
		z = function(r, t) {
			switch (t) {
				case k.L:
					return $[4 * (r - 1) + 0];
				case k.M:
					return $[4 * (r - 1) + 1];
				case k.Q:
					return $[4 * (r - 1) + 2];
				case k.H:
					return $[4 * (r - 1) + 3];
				default:
					return
			}
		},
		L = B(512),
		q = B(256);
	! function() {
		for (var r = 1, t = 0; t < 255; t++) L[t] = r, q[r] = t, 256 & (r <<= 1) && (r ^= 285);
		for (t = 255; t < 512; t++) L[t] = L[t - 255]
	}();
	var D = function(r) {
			return L[r]
		},
		J = function(r, t) {
			return 0 === r || 0 === t ? 0 : L[q[r] + q[t]]
		},
		H = a((function(r, t) {
			t.mul = function(r, t) {
				for (var n = B(r.length + t.length - 1), e = 0; e < r.length; e++)
					for (var i = 0; i < t.length; i++) n[e + i] ^= J(r[e], t[i]);
				return n
			}, t.mod = function(r, t) {
				for (var n = T(r); 0 <= n.length - t.length;) {
					for (var e = n[0], i = 0; i < t.length; i++) n[i] ^= J(t[i], e);
					for (var o = 0; o < n.length && 0 === n[o];) o++;
					n = n.slice(o)
				}
				return n
			}, t.generateECPolynomial = function(r) {
				for (var n = T([1]), e = 0; e < r; e++) n = t.mul(n, [1, D(e)]);
				return n
			}
		})),
		K = (H.mul, H.mod, H.generateECPolynomial, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}),
		Q = [],
		Z = [],
		Y = "undefined" != typeof Uint8Array ? Uint8Array : Array,
		G = !1;

	function X() {
		G = !0;
		for (var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", t = 0, n = r.length; t < n; ++t) Q[t] = r[t], Z[r.charCodeAt(t)] = t;
		Z["-".charCodeAt(0)] = 62, Z["_".charCodeAt(0)] = 63
	}

	function V(r, t, n) {
		for (var e, i, o = [], u = t; u < n; u += 3) e = (r[u] << 16) + (r[u + 1] << 8) + r[u + 2], o.push(Q[(i = e) >> 18 & 63] + Q[i >> 12 & 63] + Q[i >> 6 & 63] + Q[63 & i]);
		return o.join("")
	}

	function W(r) {
		var t;
		G || X();
		for (var n = r.length, e = n % 3, i = "", o = [], u = 0, f = n - e; u < f; u += 16383) o.push(V(r, u, f < u + 16383 ? f : u + 16383));
		return 1 == e ? (t = r[n - 1], i += Q[t >> 2], i += Q[t << 4 & 63], i += "==") : 2 == e && (t = (r[n - 2] << 8) + r[n - 1], i += Q[t >> 10], i += Q[t >> 4 & 63], i += Q[t << 2 & 63], i += "="), o.push(i), o.join("")
	}

	function rr(r, t, n, e, i) {
		var o, u, f = 8 * i - e - 1,
			a = (1 << f) - 1,
			s = a >> 1,
			c = -7,
			h = n ? i - 1 : 0,
			v = n ? -1 : 1,
			l = r[t + h];
		for (h += v, o = l & (1 << -c) - 1, l >>= -c, c += f; 0 < c; o = 256 * o + r[t + h], h += v, c -= 8);
		for (u = o & (1 << -c) - 1, o >>= -c, c += e; 0 < c; u = 256 * u + r[t + h], h += v, c -= 8);
		if (0 === o) o = 1 - s;
		else {
			if (o === a) return u ? NaN : 1 / 0 * (l ? -1 : 1);
			u += Math.pow(2, e), o -= s
		}
		return (l ? -1 : 1) * u * Math.pow(2, o - e)
	}

	function tr(r, t, n, e, i, o) {
		var u, f, a, s = 8 * o - i - 1,
			c = (1 << s) - 1,
			h = c >> 1,
			v = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
			l = e ? 0 : o - 1,
			d = e ? 1 : -1,
			w = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
		for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (f = isNaN(t) ? 1 : 0, u = c) : (u = Math.floor(Math.log(t) / Math.LN2), t * (a = Math.pow(2, -u)) < 1 && (u--, a *= 2), 2 <= (t += 1 <= u + h ? v / a : v * Math.pow(2, 1 - h)) * a && (u++, a /= 2), c <= u + h ? (f = 0, u = c) : 1 <= u + h ? (f = (t * a - 1) * Math.pow(2, i), u += h) : (f = t * Math.pow(2, h - 1) * Math.pow(2, i), u = 0)); 8 <= i; r[n + l] = 255 & f, l += d, f /= 256, i -= 8);
		for (u = u << i | f, s += i; 0 < s; r[n + l] = 255 & u, l += d, u /= 256, s -= 8);
		r[n + l - d] |= 128 * w
	}
	var nr = {}.toString,
		er = Array.isArray || function(r) {
			return "[object Array]" == nr.call(r)
		};
	fr.TYPED_ARRAY_SUPPORT = void 0 === K.TYPED_ARRAY_SUPPORT || K.TYPED_ARRAY_SUPPORT;
	var ir = or();

	function or() {
		return fr.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
	}

	function ur(r, t) {
		if (or() < t) throw new RangeError("Invalid typed array length");
		return fr.TYPED_ARRAY_SUPPORT ? (r = new Uint8Array(t)).__proto__ = fr.prototype : (null === r && (r = new fr(t)), r.length = t), r
	}

	function fr(r, t, n) {
		if (!(fr.TYPED_ARRAY_SUPPORT || this instanceof fr)) return new fr(r, t, n);
		if ("number" != typeof r) return ar(this, r, t, n);
		if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
		return cr(this, r)
	}

	function ar(r, t, n, e) {
		if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
		return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(r, t, n, e) {
			if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
			if (t.byteLength < n + (e || 0)) throw new RangeError("'length' is out of bounds");
			return t = void 0 === n && void 0 === e ? new Uint8Array(t) : void 0 === e ? new Uint8Array(t, n) : new Uint8Array(t, n, e), fr.TYPED_ARRAY_SUPPORT ? (r = t).__proto__ = fr.prototype : r = hr(r, t), r
		}(r, t, n, e) : "string" == typeof t ? function(r, t, n) {
			if ("string" == typeof n && "" !== n || (n = "utf8"), !fr.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding');
			var e = 0 | dr(t, n),
				i = (r = ur(r, e)).write(t, n);
			return i !== e && (r = r.slice(0, i)), r
		}(r, t, n) : function(r, t) {
			if (lr(t)) {
				var n = 0 | vr(t.length);
				return 0 === (r = ur(r, n)).length || t.copy(r, 0, 0, n), r
			}
			if (t) {
				if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || function(r) {
					return r != r
				}(t.length) ? ur(r, 0) : hr(r, t);
				if ("Buffer" === t.type && er(t.data)) return hr(r, t.data)
			}
			throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
		}(r, t)
	}

	function sr(r) {
		if ("number" != typeof r) throw new TypeError('"size" argument must be a number');
		if (r < 0) throw new RangeError('"size" argument must not be negative')
	}

	function cr(r, t) {
		if (sr(t), r = ur(r, t < 0 ? 0 : 0 | vr(t)), !fr.TYPED_ARRAY_SUPPORT)
			for (var n = 0; n < t; ++n) r[n] = 0;
		return r
	}

	function hr(r, t) {
		var n = t.length < 0 ? 0 : 0 | vr(t.length);
		r = ur(r, n);
		for (var e = 0; e < n; e += 1) r[e] = 255 & t[e];
		return r
	}

	function vr(r) {
		if (r >= or()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + or().toString(16) + " bytes");
		return 0 | r
	}

	function lr(r) {
		return null != r && r._isBuffer
	}

	function dr(r, t) {
		if (lr(r)) return r.length;
		if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(r) || r instanceof ArrayBuffer)) return r.byteLength;
		"string" != typeof r && (r = "" + r);
		var n = r.length;
		if (0 === n) return 0;
		for (var e = !1;;) switch (t) {
			case "ascii":
			case "latin1":
			case "binary":
				return n;
			case "utf8":
			case "utf-8":
			case void 0:
				return jr(r).length;
			case "ucs2":
			case "ucs-2":
			case "utf16le":
			case "utf-16le":
				return 2 * n;
			case "hex":
				return n >>> 1;
			case "base64":
				return Ur(r).length;
			default:
				if (e) return jr(r).length;
				t = ("" + t).toLowerCase(), e = !0
		}
	}

	function wr(r, t, n) {
		var e, i, o, u = !1;
		if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
		if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
		if ((n >>>= 0) <= (t >>>= 0)) return "";
		for (r = r || "utf8";;) switch (r) {
			case "hex":
				return function(r, t, n) {
					var e = r.length;
					(!t || t < 0) && (t = 0), (!n || n < 0 || e < n) && (n = e);
					for (var i = "", o = t; o < n; ++o) i += function(r) {
						return r < 16 ? "0" + r.toString(16) : r.toString(16)
					}(r[o]);
					return i
				}(this, t, n);
			case "utf8":
			case "utf-8":
				return Er(this, t, n);
			case "ascii":
				return function(r, t, n) {
					var e = "";
					n = Math.min(r.length, n);
					for (var i = t; i < n; ++i) e += String.fromCharCode(127 & r[i]);
					return e
				}(this, t, n);
			case "latin1":
			case "binary":
				return function(r, t, n) {
					var e = "";
					n = Math.min(r.length, n);
					for (var i = t; i < n; ++i) e += String.fromCharCode(r[i]);
					return e
				}(this, t, n);
			case "base64":
				return e = this, o = n, 0 === (i = t) && o === e.length ? W(e) : W(e.slice(i, o));
			case "ucs2":
			case "ucs-2":
			case "utf16le":
			case "utf-16le":
				return function(r, t, n) {
					for (var e = r.slice(t, n), i = "", o = 0; o < e.length; o += 2) i += String.fromCharCode(e[o] + 256 * e[o + 1]);
					return i
				}(this, t, n);
			default:
				if (u) throw new TypeError("Unknown encoding: " + r);
				r = (r + "").toLowerCase(), u = !0
		}
	}

	function yr(r, t, n) {
		var e = r[t];
		r[t] = r[n], r[n] = e
	}

	function pr(r, t, n, e, i) {
		if (0 === r.length) return -1;
		if ("string" == typeof n ? (e = n, n = 0) : 2147483647 < n ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = i ? 0 : r.length - 1), n < 0 && (n = r.length + n), n >= r.length) {
			if (i) return -1;
			n = r.length - 1
		} else if (n < 0) {
			if (!i) return -1;
			n = 0
		}
		if ("string" == typeof t && (t = fr.from(t, e)), lr(t)) return 0 === t.length ? -1 : gr(r, t, n, e, i);
		if ("number" == typeof t) return t &= 255, fr.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(r, t, n) : Uint8Array.prototype.lastIndexOf.call(r, t, n) : gr(r, [t], n, e, i);
		throw new TypeError("val must be string, number or Buffer")
	}

	function gr(r, t, n, e, i) {
		var o = 1,
			u = r.length,
			f = t.length;
		if (void 0 !== e && ("ucs2" === (e = String(e).toLowerCase()) || "ucs-2" === e || "utf16le" === e || "utf-16le" === e)) {
			if (r.length < 2 || t.length < 2) return -1;
			u /= o = 2, f /= 2, n /= 2
		}

		function a(r, t) {
			return 1 === o ? r[t] : r.readUInt16BE(t * o)
		}
		if (i)
			for (var s = -1, c = n; c < u; c++)
				if (a(r, c) === a(t, -1 === s ? 0 : c - s)) {
					if (-1 === s && (s = c), c - s + 1 === f) return s * o
				} else -1 !== s && (c -= c - s), s = -1;
		else
			for (u < n + f && (n = u - f), c = n; 0 <= c; c--) {
				for (var h = !0, v = 0; v < f; v++)
					if (a(r, c + v) !== a(t, v)) {
						h = !1;
						break
					}
				if (h) return c
			}
		return -1
	}

	function mr(r, t, n, e) {
		return Nr(function(r) {
			for (var t = [], n = 0; n < r.length; ++n) t.push(255 & r.charCodeAt(n));
			return t
		}(t), r, n, e)
	}

	function br(r, t, n, e) {
		return Nr(function(r, t) {
			for (var n, e, i, o = [], u = 0; u < r.length && !((t -= 2) < 0); ++u) e = (n = r.charCodeAt(u)) >> 8, i = n % 256, o.push(i), o.push(e);
			return o
		}(t, r.length - n), r, n, e)
	}

	function Er(r, t, n) {
		n = Math.min(r.length, n);
		for (var e = [], i = t; i < n;) {
			var o, u, f, a, s = r[i],
				c = null,
				h = 239 < s ? 4 : 223 < s ? 3 : 191 < s ? 2 : 1;
			if (i + h <= n) switch (h) {
				case 1:
					s < 128 && (c = s);
					break;
				case 2:
					128 == (192 & (o = r[i + 1])) && 127 < (a = (31 & s) << 6 | 63 & o) && (c = a);
					break;
				case 3:
					o = r[i + 1], u = r[i + 2], 128 == (192 & o) && 128 == (192 & u) && 2047 < (a = (15 & s) << 12 | (63 & o) << 6 | 63 & u) && (a < 55296 || 57343 < a) && (c = a);
					break;
				case 4:
					o = r[i + 1], u = r[i + 2], f = r[i + 3], 128 == (192 & o) && 128 == (192 & u) && 128 == (192 & f) && 65535 < (a = (15 & s) << 18 | (63 & o) << 12 | (63 & u) << 6 | 63 & f) && a < 1114112 && (c = a)
			}
			null === c ? (c = 65533, h = 1) : 65535 < c && (c -= 65536, e.push(c >>> 10 & 1023 | 55296), c = 56320 | 1023 & c), e.push(c), i += h
		}
		return function(r) {
			var t = r.length;
			if (t <= Ar) return String.fromCharCode.apply(String, r);
			for (var n = "", e = 0; e < t;) n += String.fromCharCode.apply(String, r.slice(e, e += Ar));
			return n
		}(e)
	}
	fr.poolSize = 8192, fr._augment = function(r) {
		return r.__proto__ = fr.prototype, r
	}, fr.from = function(r, t, n) {
		return ar(null, r, t, n)
	}, fr.TYPED_ARRAY_SUPPORT && (fr.prototype.__proto__ = Uint8Array.prototype, fr.__proto__ = Uint8Array), fr.alloc = function(r, t, n) {
		return e = null, o = t, u = n, sr(i = r), i <= 0 || void 0 === o ? ur(e, i) : "string" == typeof u ? ur(e, i).fill(o, u) : ur(e, i).fill(o);
		var e, i, o, u
	}, fr.allocUnsafe = function(r) {
		return cr(null, r)
	}, fr.allocUnsafeSlow = function(r) {
		return cr(null, r)
	}, fr.isBuffer = Fr, fr.compare = function(r, t) {
		if (!lr(r) || !lr(t)) throw new TypeError("Arguments must be Buffers");
		if (r === t) return 0;
		for (var n = r.length, e = t.length, i = 0, o = Math.min(n, e); i < o; ++i)
			if (r[i] !== t[i]) {
				n = r[i], e = t[i];
				break
			}
		return n < e ? -1 : e < n ? 1 : 0
	}, fr.isEncoding = function(r) {
		switch (String(r).toLowerCase()) {
			case "hex":
			case "utf8":
			case "utf-8":
			case "ascii":
			case "latin1":
			case "binary":
			case "base64":
			case "ucs2":
			case "ucs-2":
			case "utf16le":
			case "utf-16le":
				return !0;
			default:
				return !1
		}
	}, fr.concat = function(r, t) {
		if (!er(r)) throw new TypeError('"list" argument must be an Array of Buffers');
		if (0 === r.length) return fr.alloc(0);
		if (void 0 === t)
			for (i = t = 0; i < r.length; ++i) t += r[i].length;
		for (var n = fr.allocUnsafe(t), e = 0, i = 0; i < r.length; ++i) {
			var o = r[i];
			if (!lr(o)) throw new TypeError('"list" argument must be an Array of Buffers');
			o.copy(n, e), e += o.length
		}
		return n
	}, fr.byteLength = dr, fr.prototype._isBuffer = !0, fr.prototype.swap16 = function() {
		var r = this.length;
		if (r % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
		for (var t = 0; t < r; t += 2) yr(this, t, t + 1);
		return this
	}, fr.prototype.swap32 = function() {
		var r = this.length;
		if (r % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
		for (var t = 0; t < r; t += 4) yr(this, t, t + 3), yr(this, t + 1, t + 2);
		return this
	}, fr.prototype.swap64 = function() {
		var r = this.length;
		if (r % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
		for (var t = 0; t < r; t += 8) yr(this, t, t + 7), yr(this, t + 1, t + 6), yr(this, t + 2, t + 5), yr(this, t + 3, t + 4);
		return this
	}, fr.prototype.toString = function() {
		var r = 0 | this.length;
		return 0 == r ? "" : 0 === arguments.length ? Er(this, 0, r) : wr.apply(this, arguments)
	}, fr.prototype.equals = function(r) {
		if (!lr(r)) throw new TypeError("Argument must be a Buffer");
		return this === r || 0 === fr.compare(this, r)
	}, fr.prototype.inspect = function() {
		var r = "";
		return 0 < this.length && (r = this.toString("hex", 0, 50).match(/.{2}/g).join(" "), 50 < this.length && (r += " ... ")), "<Buffer " + r + ">"
	}, fr.prototype.compare = function(r, t, n, e, i) {
		if (!lr(r)) throw new TypeError("Argument must be a Buffer");
		if (void 0 === t && (t = 0), void 0 === n && (n = r ? r.length : 0), void 0 === e && (e = 0), void 0 === i && (i = this.length), t < 0 || n > r.length || e < 0 || i > this.length) throw new RangeError("out of range index");
		if (i <= e && n <= t) return 0;
		if (i <= e) return -1;
		if (n <= t) return 1;
		if (this === r) return 0;
		for (var o = (i >>>= 0) - (e >>>= 0), u = (n >>>= 0) - (t >>>= 0), f = Math.min(o, u), a = this.slice(e, i), s = r.slice(t, n), c = 0; c < f; ++c)
			if (a[c] !== s[c]) {
				o = a[c], u = s[c];
				break
			}
		return o < u ? -1 : u < o ? 1 : 0
	}, fr.prototype.includes = function(r, t, n) {
		return -1 !== this.indexOf(r, t, n)
	}, fr.prototype.indexOf = function(r, t, n) {
		return pr(this, r, t, n, !0)
	}, fr.prototype.lastIndexOf = function(r, t, n) {
		return pr(this, r, t, n, !1)
	}, fr.prototype.write = function(r, t, n, e) {
		if (void 0 === t) e = "utf8", n = this.length, t = 0;
		else if (void 0 === n && "string" == typeof t) e = t, n = this.length, t = 0;
		else {
			if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
			t |= 0, isFinite(n) ? (n |= 0, void 0 === e && (e = "utf8")) : (e = n, n = void 0)
		}
		var i = this.length - t;
		if ((void 0 === n || i < n) && (n = i), 0 < r.length && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
		e = e || "utf8";
		for (var o, u, f, a, s = !1;;) switch (e) {
			case "hex":
				return function(r, t, n, e) {
					n = Number(n) || 0;
					var i = r.length - n;
					(!e || i < (e = Number(e))) && (e = i);
					var o = t.length;
					if (o % 2 != 0) throw new TypeError("Invalid hex string");
					o / 2 < e && (e = o / 2);
					for (var u = 0; u < e; ++u) {
						var f = parseInt(t.substr(2 * u, 2), 16);
						if (isNaN(f)) return u;
						r[n + u] = f
					}
					return u
				}(this, r, t, n);
			case "utf8":
			case "utf-8":
				return f = t, a = n, Nr(jr(r, this.length - f), this, f, a);
			case "ascii":
				return mr(this, r, t, n);
			case "latin1":
			case "binary":
				return mr(this, r, t, n);
			case "base64":
				return o = t, u = n, Nr(Ur(r), this, o, u);
			case "ucs2":
			case "ucs-2":
			case "utf16le":
			case "utf-16le":
				return br(this, r, t, n);
			default:
				if (s) throw new TypeError("Unknown encoding: " + e);
				e = ("" + e).toLowerCase(), s = !0
		}
	}, fr.prototype.toJSON = function() {
		return {
			type: "Buffer",
			data: Array.prototype.slice.call(this._arr || this, 0)
		}
	};
	var Ar = 4096;

	function Mr(r, t, n) {
		if (r % 1 != 0 || r < 0) throw new RangeError("offset is not uint");
		if (n < r + t) throw new RangeError("Trying to access beyond buffer length")
	}

	function Rr(r, t, n, e, i, o) {
		if (!lr(r)) throw new TypeError('"buffer" argument must be a Buffer instance');
		if (i < t || t < o) throw new RangeError('"value" argument is out of bounds');
		if (n + e > r.length) throw new RangeError("Index out of range")
	}

	function Sr(r, t, n, e) {
		t < 0 && (t = 65535 + t + 1);
		for (var i = 0, o = Math.min(r.length - n, 2); i < o; ++i) r[n + i] = (t & 255 << 8 * (e ? i : 1 - i)) >>> 8 * (e ? i : 1 - i)
	}

	function Br(r, t, n, e) {
		t < 0 && (t = 4294967295 + t + 1);
		for (var i = 0, o = Math.min(r.length - n, 4); i < o; ++i) r[n + i] = t >>> 8 * (e ? i : 3 - i) & 255
	}

	function Tr(r, t, n, e) {
		if (n + e > r.length) throw new RangeError("Index out of range");
		if (n < 0) throw new RangeError("Index out of range")
	}

	function Ir(r, t, n, e, i) {
		return i || Tr(r, 0, n, 4), tr(r, t, n, e, 23, 4), n + 4
	}

	function xr(r, t, n, e, i) {
		return i || Tr(r, 0, n, 8), tr(r, t, n, e, 52, 8), n + 8
	}
	fr.prototype.slice = function(r, t) {
		var n = this.length;
		if ((r = ~~r) < 0 ? (r += n) < 0 && (r = 0) : n < r && (r = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : n < t && (t = n), t < r && (t = r), fr.TYPED_ARRAY_SUPPORT)(i = this.subarray(r, t)).__proto__ = fr.prototype;
		else
			for (var e = t - r, i = new fr(e, void 0), o = 0; o < e; ++o) i[o] = this[o + r];
		return i
	}, fr.prototype.readUIntLE = function(r, t, n) {
		r |= 0, t |= 0, n || Mr(r, t, this.length);
		for (var e = this[r], i = 1, o = 0; ++o < t && (i *= 256);) e += this[r + o] * i;
		return e
	}, fr.prototype.readUIntBE = function(r, t, n) {
		r |= 0, t |= 0, n || Mr(r, t, this.length);
		for (var e = this[r + --t], i = 1; 0 < t && (i *= 256);) e += this[r + --t] * i;
		return e
	}, fr.prototype.readUInt8 = function(r, t) {
		return t || Mr(r, 1, this.length), this[r]
	}, fr.prototype.readUInt16LE = function(r, t) {
		return t || Mr(r, 2, this.length), this[r] | this[r + 1] << 8
	}, fr.prototype.readUInt16BE = function(r, t) {
		return t || Mr(r, 2, this.length), this[r] << 8 | this[r + 1]
	}, fr.prototype.readUInt32LE = function(r, t) {
		return t || Mr(r, 4, this.length), (this[r] | this[r + 1] << 8 | this[r + 2] << 16) + 16777216 * this[r + 3]
	}, fr.prototype.readUInt32BE = function(r, t) {
		return t || Mr(r, 4, this.length), 16777216 * this[r] + (this[r + 1] << 16 | this[r + 2] << 8 | this[r + 3])
	}, fr.prototype.readIntLE = function(r, t, n) {
		r |= 0, t |= 0, n || Mr(r, t, this.length);
		for (var e = this[r], i = 1, o = 0; ++o < t && (i *= 256);) e += this[r + o] * i;
		return (i *= 128) <= e && (e -= Math.pow(2, 8 * t)), e
	}, fr.prototype.readIntBE = function(r, t, n) {
		r |= 0, t |= 0, n || Mr(r, t, this.length);
		for (var e = t, i = 1, o = this[r + --e]; 0 < e && (i *= 256);) o += this[r + --e] * i;
		return (i *= 128) <= o && (o -= Math.pow(2, 8 * t)), o
	}, fr.prototype.readInt8 = function(r, t) {
		return t || Mr(r, 1, this.length), 128 & this[r] ? -1 * (255 - this[r] + 1) : this[r]
	}, fr.prototype.readInt16LE = function(r, t) {
		t || Mr(r, 2, this.length);
		var n = this[r] | this[r + 1] << 8;
		return 32768 & n ? 4294901760 | n : n
	}, fr.prototype.readInt16BE = function(r, t) {
		t || Mr(r, 2, this.length);
		var n = this[r + 1] | this[r] << 8;
		return 32768 & n ? 4294901760 | n : n
	}, fr.prototype.readInt32LE = function(r, t) {
		return t || Mr(r, 4, this.length), this[r] | this[r + 1] << 8 | this[r + 2] << 16 | this[r + 3] << 24
	}, fr.prototype.readInt32BE = function(r, t) {
		return t || Mr(r, 4, this.length), this[r] << 24 | this[r + 1] << 16 | this[r + 2] << 8 | this[r + 3]
	}, fr.prototype.readFloatLE = function(r, t) {
		return t || Mr(r, 4, this.length), rr(this, r, !0, 23, 4)
	}, fr.prototype.readFloatBE = function(r, t) {
		return t || Mr(r, 4, this.length), rr(this, r, !1, 23, 4)
	}, fr.prototype.readDoubleLE = function(r, t) {
		return t || Mr(r, 8, this.length), rr(this, r, !0, 52, 8)
	}, fr.prototype.readDoubleBE = function(r, t) {
		return t || Mr(r, 8, this.length), rr(this, r, !1, 52, 8)
	}, fr.prototype.writeUIntLE = function(r, t, n, e) {
		r = +r, t |= 0, n |= 0, e || Rr(this, r, t, n, Math.pow(2, 8 * n) - 1, 0);
		var i = 1,
			o = 0;
		for (this[t] = 255 & r; ++o < n && (i *= 256);) this[t + o] = r / i & 255;
		return t + n
	}, fr.prototype.writeUIntBE = function(r, t, n, e) {
		r = +r, t |= 0, n |= 0, e || Rr(this, r, t, n, Math.pow(2, 8 * n) - 1, 0);
		var i = n - 1,
			o = 1;
		for (this[t + i] = 255 & r; 0 <= --i && (o *= 256);) this[t + i] = r / o & 255;
		return t + n
	}, fr.prototype.writeUInt8 = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 1, 255, 0), fr.TYPED_ARRAY_SUPPORT || (r = Math.floor(r)), this[t] = 255 & r, t + 1
	}, fr.prototype.writeUInt16LE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 2, 65535, 0), fr.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & r, this[t + 1] = r >>> 8) : Sr(this, r, t, !0), t + 2
	}, fr.prototype.writeUInt16BE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 2, 65535, 0), fr.TYPED_ARRAY_SUPPORT ? (this[t] = r >>> 8, this[t + 1] = 255 & r) : Sr(this, r, t, !1), t + 2
	}, fr.prototype.writeUInt32LE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 4, 4294967295, 0), fr.TYPED_ARRAY_SUPPORT ? (this[t + 3] = r >>> 24, this[t + 2] = r >>> 16, this[t + 1] = r >>> 8, this[t] = 255 & r) : Br(this, r, t, !0), t + 4
	}, fr.prototype.writeUInt32BE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 4, 4294967295, 0), fr.TYPED_ARRAY_SUPPORT ? (this[t] = r >>> 24, this[t + 1] = r >>> 16, this[t + 2] = r >>> 8, this[t + 3] = 255 & r) : Br(this, r, t, !1), t + 4
	}, fr.prototype.writeIntLE = function(r, t, n, e) {
		var i;
		r = +r, t |= 0, e || Rr(this, r, t, n, (i = Math.pow(2, 8 * n - 1)) - 1, -i);
		var o = 0,
			u = 1,
			f = 0;
		for (this[t] = 255 & r; ++o < n && (u *= 256);) r < 0 && 0 === f && 0 !== this[t + o - 1] && (f = 1), this[t + o] = (r / u >> 0) - f & 255;
		return t + n
	}, fr.prototype.writeIntBE = function(r, t, n, e) {
		var i;
		r = +r, t |= 0, e || Rr(this, r, t, n, (i = Math.pow(2, 8 * n - 1)) - 1, -i);
		var o = n - 1,
			u = 1,
			f = 0;
		for (this[t + o] = 255 & r; 0 <= --o && (u *= 256);) r < 0 && 0 === f && 0 !== this[t + o + 1] && (f = 1), this[t + o] = (r / u >> 0) - f & 255;
		return t + n
	}, fr.prototype.writeInt8 = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 1, 127, -128), fr.TYPED_ARRAY_SUPPORT || (r = Math.floor(r)), r < 0 && (r = 255 + r + 1), this[t] = 255 & r, t + 1
	}, fr.prototype.writeInt16LE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 2, 32767, -32768), fr.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & r, this[t + 1] = r >>> 8) : Sr(this, r, t, !0), t + 2
	}, fr.prototype.writeInt16BE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 2, 32767, -32768), fr.TYPED_ARRAY_SUPPORT ? (this[t] = r >>> 8, this[t + 1] = 255 & r) : Sr(this, r, t, !1), t + 2
	}, fr.prototype.writeInt32LE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 4, 2147483647, -2147483648), fr.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & r, this[t + 1] = r >>> 8, this[t + 2] = r >>> 16, this[t + 3] = r >>> 24) : Br(this, r, t, !0), t + 4
	}, fr.prototype.writeInt32BE = function(r, t, n) {
		return r = +r, t |= 0, n || Rr(this, r, t, 4, 2147483647, -2147483648), r < 0 && (r = 4294967295 + r + 1), fr.TYPED_ARRAY_SUPPORT ? (this[t] = r >>> 24, this[t + 1] = r >>> 16, this[t + 2] = r >>> 8, this[t + 3] = 255 & r) : Br(this, r, t, !1), t + 4
	}, fr.prototype.writeFloatLE = function(r, t, n) {
		return Ir(this, r, t, !0, n)
	}, fr.prototype.writeFloatBE = function(r, t, n) {
		return Ir(this, r, t, !1, n)
	}, fr.prototype.writeDoubleLE = function(r, t, n) {
		return xr(this, r, t, !0, n)
	}, fr.prototype.writeDoubleBE = function(r, t, n) {
		return xr(this, r, t, !1, n)
	}, fr.prototype.copy = function(r, t, n, e) {
		if (n = n || 0, e || 0 === e || (e = this.length), t >= r.length && (t = r.length), t = t || 0, 0 < e && e < n && (e = n), e === n) return 0;
		if (0 === r.length || 0 === this.length) return 0;
		if (t < 0) throw new RangeError("targetStart out of bounds");
		if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
		if (e < 0) throw new RangeError("sourceEnd out of bounds");
		e > this.length && (e = this.length), r.length - t < e - n && (e = r.length - t + n);
		var i, o = e - n;
		if (this === r && n < t && t < e)
			for (i = o - 1; 0 <= i; --i) r[i + t] = this[i + n];
		else if (o < 1e3 || !fr.TYPED_ARRAY_SUPPORT)
			for (i = 0; i < o; ++i) r[i + t] = this[i + n];
		else Uint8Array.prototype.set.call(r, this.subarray(n, n + o), t);
		return o
	}, fr.prototype.fill = function(r, t, n, e) {
		if ("string" == typeof r) {
			var i;
			if ("string" == typeof t ? (e = t, t = 0, n = this.length) : "string" == typeof n && (e = n, n = this.length), 1 !== r.length || (i = r.charCodeAt(0)) < 256 && (r = i), void 0 !== e && "string" != typeof e) throw new TypeError("encoding must be a string");
			if ("string" == typeof e && !fr.isEncoding(e)) throw new TypeError("Unknown encoding: " + e)
		} else "number" == typeof r && (r &= 255);
		if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
		if (n <= t) return this;
		if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, "number" == typeof(r = r || 0))
			for (f = t; f < n; ++f) this[f] = r;
		else
			for (var o = lr(r) ? r : jr(new fr(r, e).toString()), u = o.length, f = 0; f < n - t; ++f) this[f + t] = o[f % u];
		return this
	};
	var kr = /[^+\/0-9A-Za-z-_]/g;

	function jr(r, t) {
		var n;
		t = t || 1 / 0;
		for (var e = r.length, i = null, o = [], u = 0; u < e; ++u) {
			if (55295 < (n = r.charCodeAt(u)) && n < 57344) {
				if (!i) {
					if (56319 < n) {
						-1 < (t -= 3) && o.push(239, 191, 189);
						continue
					}
					if (u + 1 === e) {
						-1 < (t -= 3) && o.push(239, 191, 189);
						continue
					}
					i = n;
					continue
				}
				if (n < 56320) {
					-1 < (t -= 3) && o.push(239, 191, 189), i = n;
					continue
				}
				n = 65536 + (i - 55296 << 10 | n - 56320)
			} else i && -1 < (t -= 3) && o.push(239, 191, 189);
			if (i = null, n < 128) {
				if (--t < 0) break;
				o.push(n)
			} else if (n < 2048) {
				if ((t -= 2) < 0) break;
				o.push(n >> 6 | 192, 63 & n | 128)
			} else if (n < 65536) {
				if ((t -= 3) < 0) break;
				o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
			} else {
				if (!(n < 1114112)) throw new Error("Invalid code point");
				if ((t -= 4) < 0) break;
				o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
			}
		}
		return o
	}

	function Ur(r) {
		return function(r) {
			var t, n, e, i;
			G || X();
			var o = r.length;
			if (0 < o % 4) throw new Error("Invalid string. Length must be a multiple of 4");
			e = "=" === r[o - 2] ? 2 : "=" === r[o - 1] ? 1 : 0, i = new Y(3 * o / 4 - e), t = 0 < e ? o - 4 : o;
			for (var u = 0, f = 0; f < t; f += 4, 0) n = Z[r.charCodeAt(f)] << 18 | Z[r.charCodeAt(f + 1)] << 12 | Z[r.charCodeAt(f + 2)] << 6 | Z[r.charCodeAt(f + 3)], i[u++] = n >> 16 & 255, i[u++] = n >> 8 & 255, i[u++] = 255 & n;
			return 2 == e ? (n = Z[r.charCodeAt(f)] << 2 | Z[r.charCodeAt(f + 1)] >> 4, i[u++] = 255 & n) : 1 == e && (n = Z[r.charCodeAt(f)] << 10 | Z[r.charCodeAt(f + 1)] << 4 | Z[r.charCodeAt(f + 2)] >> 2, i[u++] = n >> 8 & 255, i[u++] = 255 & n), i
		}(function(r) {
			var t;
			if ((r = ((t = r).trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")).replace(kr, "")).length < 2) return "";
			for (; r.length % 4 != 0;) r += "=";
			return r
		}(r))
	}

	function Nr(r, t, n, e) {
		for (var i = 0; i < e && !(i + n >= t.length || i >= r.length); ++i) t[i + n] = r[i];
		return i
	}

	function Fr(r) {
		return null != r && (!!r._isBuffer || Or(r) || "function" == typeof(t = r).readFloatLE && "function" == typeof t.slice && Or(t.slice(0, 0)));
		var t
	}

	function Or(r) {
		return !!r.constructor && "function" == typeof r.constructor.isBuffer && r.constructor.isBuffer(r)
	}
	var Cr = Object.freeze({
		__proto__: null,
		Buffer: fr,
		INSPECT_MAX_BYTES: 50,
		SlowBuffer: function(r) {
			return +r != r && (r = 0), fr.alloc(+r)
		},
		isBuffer: Fr,
		kMaxLength: ir
	}).Buffer;

	function _r(r) {
		this.genPoly = void 0, this.degree = r, this.degree && this.initialize(this.degree)
	}
	_r.prototype.initialize = function(r) {
		this.degree = r, this.genPoly = H.generateECPolynomial(this.degree)
	}, _r.prototype.encode = function(r) {
		if (!this.genPoly) throw new Error("Encoder not initialized");
		var t = B(this.degree),
			n = Cr.concat([r, t], r.length + this.degree),
			e = H.mod(n, this.genPoly),
			i = this.degree - e.length;
		if (0 < i) {
			var o = B(this.degree);
			return e.copy(o, i), o
		}
		return e
	};
	var Pr = _r,
		$r = function(r) {
			return !isNaN(r) && 1 <= r && r <= 40
		},
		zr = "(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",
		Lr = "(?:(?![A-Z0-9 $%*+\\-./:]|" + (zr = zr.replace(/u/g, "\\u")) + ")(?:.|[\r\n]))+",
		qr = new RegExp(zr, "g"),
		Dr = new RegExp("[^A-Z0-9 $%*+\\-./:]+", "g"),
		Jr = new RegExp(Lr, "g"),
		Hr = new RegExp("[0-9]+", "g"),
		Kr = new RegExp("[A-Z $%*+\\-./:]+", "g"),
		Qr = new RegExp("^" + zr + "$"),
		Zr = new RegExp("^[0-9]+$"),
		Yr = new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),
		Gr = {
			KANJI: qr,
			BYTE_KANJI: Dr,
			BYTE: Jr,
			NUMERIC: Hr,
			ALPHANUMERIC: Kr,
			testKanji: function(r) {
				return Qr.test(r)
			},
			testNumeric: function(r) {
				return Zr.test(r)
			},
			testAlphanumeric: function(r) {
				return Yr.test(r)
			}
		},
		Xr = a((function(r, t) {
			t.NUMERIC = {
				id: "Numeric",
				bit: 1,
				ccBits: [10, 12, 14]
			}, t.ALPHANUMERIC = {
				id: "Alphanumeric",
				bit: 2,
				ccBits: [9, 11, 13]
			}, t.BYTE = {
				id: "Byte",
				bit: 4,
				ccBits: [8, 16, 16]
			}, t.KANJI = {
				id: "Kanji",
				bit: 8,
				ccBits: [8, 10, 12]
			}, t.MIXED = {
				bit: -1
			}, t.getCharCountIndicator = function(r, t) {
				if (!r.ccBits) throw new Error("Invalid mode: " + r);
				if (!$r(t)) throw new Error("Invalid version: " + t);
				return 1 <= t && t < 10 ? r.ccBits[0] : t < 27 ? r.ccBits[1] : r.ccBits[2]
			}, t.getBestModeForData = function(r) {
				return Gr.testNumeric(r) ? t.NUMERIC : Gr.testAlphanumeric(r) ? t.ALPHANUMERIC : Gr.testKanji(r) ? t.KANJI : t.BYTE
			}, t.toString = function(r) {
				if (r && r.id) return r.id;
				throw new Error("Invalid mode")
			}, t.isValid = function(r) {
				return r && r.bit && r.ccBits
			}, t.from = function(r, n) {
				if (t.isValid(r)) return r;
				try {
					return function(r) {
						if ("string" != typeof r) throw new Error("Param is not a string");
						switch (r.toLowerCase()) {
							case "numeric":
								return t.NUMERIC;
							case "alphanumeric":
								return t.ALPHANUMERIC;
							case "kanji":
								return t.KANJI;
							case "byte":
								return t.BYTE;
							default:
								throw new Error("Unknown mode: " + r)
						}
					}(r)
				} catch (r) {
					return n
				}
			}
		})),
		Vr = (Xr.NUMERIC, Xr.ALPHANUMERIC, Xr.BYTE, Xr.KANJI, Xr.MIXED, Xr.getCharCountIndicator, Xr.getBestModeForData, Xr.isValid, a((function(r, t) {
			var n = x.getBCHDigit(7973);

			function e(r, t) {
				return Xr.getCharCountIndicator(r, t) + 4
			}
			t.from = function(r, t) {
				return $r(r) ? parseInt(r, 10) : t
			}, t.getCapacity = function(r, t, n) {
				if (!$r(r)) throw new Error("Invalid QR Code version");
				void 0 === n && (n = Xr.BYTE);
				var i = 8 * (x.getSymbolTotalCodewords(r) - z(r, t));
				if (n === Xr.MIXED) return i;
				var o = i - e(n, r);
				switch (n) {
					case Xr.NUMERIC:
						return Math.floor(o / 10 * 3);
					case Xr.ALPHANUMERIC:
						return Math.floor(o / 11 * 2);
					case Xr.KANJI:
						return Math.floor(o / 13);
					case Xr.BYTE:
					default:
						return Math.floor(o / 8)
				}
			}, t.getBestVersionForData = function(r, n) {
				var i, o = k.from(n, k.M);
				if (y(r)) {
					if (1 < r.length) return function(r, n) {
						for (var i = 1; i <= 40; i++)
							if (function(r, t) {
									var n = 0;
									return r.forEach((function(r) {
										var i = e(r.mode, t);
										n += i + r.getBitsLength()
									})), n
								}(r, i) <= t.getCapacity(i, n, Xr.MIXED)) return i
					}(r, o);
					if (0 === r.length) return 1;
					i = r[0]
				} else i = r;
				return function(r, n, e) {
					for (var i = 1; i <= 40; i++)
						if (n <= t.getCapacity(i, e, r)) return i
				}(i.mode, i.getLength(), o)
			}, t.getEncodedBits = function(r) {
				if (!$r(r) || r < 7) throw new Error("Invalid QR Code version");
				for (var t = r << 12; 0 <= x.getBCHDigit(t) - n;) t ^= 7973 << x.getBCHDigit(t) - n;
				return r << 12 | t
			}
		}))),
		Wr = (Vr.getCapacity, Vr.getBestVersionForData, Vr.getEncodedBits, x.getBCHDigit(1335));

	function rt(r) {
		this.mode = Xr.NUMERIC, this.data = r.toString()
	}
	rt.getBitsLength = function(r) {
		return 10 * Math.floor(r / 3) + (r % 3 ? r % 3 * 3 + 1 : 0)
	}, rt.prototype.getLength = function() {
		return this.data.length
	}, rt.prototype.getBitsLength = function() {
		return rt.getBitsLength(this.data.length)
	}, rt.prototype.write = function(r) {
		for (var t, n, e = 0; e + 3 <= this.data.length; e += 3) t = this.data.substr(e, 3), n = parseInt(t, 10), r.put(n, 10);
		var i = this.data.length - e;
		0 < i && (t = this.data.substr(e), n = parseInt(t, 10), r.put(n, 3 * i + 1))
	};
	var tt = rt,
		nt = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", " ", "$", "%", "*", "+", "-", ".", "/", ":"];

	function et(r) {
		this.mode = Xr.ALPHANUMERIC, this.data = r
	}
	et.getBitsLength = function(r) {
		return 11 * Math.floor(r / 2) + r % 2 * 6
	}, et.prototype.getLength = function() {
		return this.data.length
	}, et.prototype.getBitsLength = function() {
		return et.getBitsLength(this.data.length)
	}, et.prototype.write = function(r) {
		for (var t = 0; t + 2 <= this.data.length; t += 2) {
			var n = 45 * nt.indexOf(this.data[t]);
			n += nt.indexOf(this.data[t + 1]), r.put(n, 11)
		}
		this.data.length % 2 && r.put(nt.indexOf(this.data[t]), 6)
	};
	var it = et;

	function ot(r) {
		this.mode = Xr.BYTE, this.data = T(r)
	}
	ot.getBitsLength = function(r) {
		return 8 * r
	}, ot.prototype.getLength = function() {
		return this.data.length
	}, ot.prototype.getBitsLength = function() {
		return ot.getBitsLength(this.data.length)
	}, ot.prototype.write = function(r) {
		for (var t = 0, n = this.data.length; t < n; t++) r.put(this.data[t], 8)
	};
	var ut = ot;

	function ft(r) {
		this.mode = Xr.KANJI, this.data = r
	}
	ft.getBitsLength = function(r) {
		return 13 * r
	}, ft.prototype.getLength = function() {
		return this.data.length
	}, ft.prototype.getBitsLength = function() {
		return ft.getBitsLength(this.data.length)
	}, ft.prototype.write = function(r) {
		for (var t = 0; t < this.data.length; t++) {
			var n = x.toSJIS(this.data[t]);
			if (33088 <= n && n <= 40956) n -= 33088;
			else {
				if (!(57408 <= n && n <= 60351)) throw new Error("Invalid SJIS character: " + this.data[t] + "\nMake sure your charset is UTF-8");
				n -= 49472
			}
			n = 192 * (n >>> 8 & 255) + (255 & n), r.put(n, 13)
		}
	};
	var at = ft,
		st = a((function(r) {
			var t = {
				single_source_shortest_paths: function(r, n, e) {
					var i = {},
						o = {};
					o[n] = 0;
					var u, f, a, s, c, h, v, l = t.PriorityQueue.make();
					for (l.push(n, 0); !l.empty();)
						for (a in f = (u = l.pop()).value, s = u.cost, c = r[f] || {}) c.hasOwnProperty(a) && (h = s + c[a], v = o[a], (void 0 === o[a] || h < v) && (o[a] = h, l.push(a, h), i[a] = f));
					if (void 0 === e || void 0 !== o[e]) return i;
					var d = ["Could not find a path from ", n, " to ", e, "."].join("");
					throw new Error(d)
				},
				extract_shortest_path_from_predecessor_list: function(r, t) {
					for (var n = [], e = t; e;) n.push(e), r[e], e = r[e];
					return n.reverse(), n
				},
				find_path: function(r, n, e) {
					var i = t.single_source_shortest_paths(r, n, e);
					return t.extract_shortest_path_from_predecessor_list(i, e)
				},
				PriorityQueue: {
					make: function(r) {
						var n, e = t.PriorityQueue,
							i = {};
						for (n in r = r || {}, e) e.hasOwnProperty(n) && (i[n] = e[n]);
						return i.queue = [], i.sorter = r.sorter || e.default_sorter, i
					},
					default_sorter: function(r, t) {
						return r.cost - t.cost
					},
					push: function(r, t) {
						var n = {
							value: r,
							cost: t
						};
						this.queue.push(n), this.queue.sort(this.sorter)
					},
					pop: function() {
						return this.queue.shift()
					},
					empty: function() {
						return 0 === this.queue.length
					}
				}
			};
			r.exports = t
		})),
		ct = a((function(r, t) {
			function n(r) {
				return unescape(encodeURIComponent(r)).length
			}

			function e(r, t, n) {
				for (var e, i = []; null !== (e = r.exec(n));) i.push({
					data: e[0],
					index: e.index,
					mode: t,
					length: e[0].length
				});
				return i
			}

			function i(r) {
				var t, n = e(Gr.NUMERIC, Xr.NUMERIC, r),
					i = e(Gr.ALPHANUMERIC, Xr.ALPHANUMERIC, r),
					o = x.isKanjiModeEnabled() ? (t = e(Gr.BYTE, Xr.BYTE, r), e(Gr.KANJI, Xr.KANJI, r)) : (t = e(Gr.BYTE_KANJI, Xr.BYTE, r), []);
				return n.concat(i, t, o).sort((function(r, t) {
					return r.index - t.index
				})).map((function(r) {
					return {
						data: r.data,
						mode: r.mode,
						length: r.length
					}
				}))
			}

			function o(r, t) {
				switch (t) {
					case Xr.NUMERIC:
						return tt.getBitsLength(r);
					case Xr.ALPHANUMERIC:
						return it.getBitsLength(r);
					case Xr.KANJI:
						return at.getBitsLength(r);
					case Xr.BYTE:
						return ut.getBitsLength(r)
				}
			}

			function u(r, t) {
				var n = Xr.getBestModeForData(r),
					e = Xr.from(t, n);
				if (e !== Xr.BYTE && e.bit < n.bit) throw new Error('"' + r + '" cannot be encoded with mode ' + Xr.toString(e) + ".\n Suggested mode is: " + Xr.toString(n));
				switch (e !== Xr.KANJI || x.isKanjiModeEnabled() || (e = Xr.BYTE), e) {
					case Xr.NUMERIC:
						return new tt(r);
					case Xr.ALPHANUMERIC:
						return new it(r);
					case Xr.KANJI:
						return new at(r);
					case Xr.BYTE:
						return new ut(r)
				}
			}
			t.fromArray = function(r) {
				return r.reduce((function(r, t) {
					return "string" == typeof t ? r.push(u(t, null)) : t.data && r.push(u(t.data, t.mode)), r
				}), [])
			}, t.fromString = function(r, e) {
				for (var u = function(r, t) {
						for (var n = {}, e = {
								start: {}
							}, i = ["start"], u = 0; u < r.length; u++) {
							for (var f = r[u], a = [], s = 0; s < f.length; s++) {
								var c = f[s],
									h = "" + u + s;
								a.push(h), n[h] = {
									node: c,
									lastCount: 0
								}, e[h] = {};
								for (var v = 0; v < i.length; v++) {
									var l = i[v];
									n[l] && n[l].node.mode === c.mode ? (e[l][h] = o(n[l].lastCount + c.length, c.mode) - o(n[l].lastCount, c.mode), n[l].lastCount += c.length) : (n[l] && (n[l].lastCount = c.length), e[l][h] = o(c.length, c.mode) + 4 + Xr.getCharCountIndicator(c.mode, t))
								}
							}
							i = a
						}
						for (v = 0; v < i.length; v++) e[i[v]].end = 0;
						return {
							map: e,
							table: n
						}
					}(function(r) {
						for (var t = [], e = 0; e < r.length; e++) {
							var i = r[e];
							switch (i.mode) {
								case Xr.NUMERIC:
									t.push([i, {
										data: i.data,
										mode: Xr.ALPHANUMERIC,
										length: i.length
									}, {
										data: i.data,
										mode: Xr.BYTE,
										length: i.length
									}]);
									break;
								case Xr.ALPHANUMERIC:
									t.push([i, {
										data: i.data,
										mode: Xr.BYTE,
										length: i.length
									}]);
									break;
								case Xr.KANJI:
									t.push([i, {
										data: i.data,
										mode: Xr.BYTE,
										length: n(i.data)
									}]);
									break;
								case Xr.BYTE:
									t.push([{
										data: i.data,
										mode: Xr.BYTE,
										length: n(i.data)
									}])
							}
						}
						return t
					}(i(r, x.isKanjiModeEnabled())), e), f = st.find_path(u.map, "start", "end"), a = [], s = 1; s < f.length - 1; s++) a.push(u.table[f[s]].node);
				return t.fromArray(a.reduce((function(r, t) {
					var n = 0 <= r.length - 1 ? r[r.length - 1] : null;
					return n && n.mode === t.mode ? r[r.length - 1].data += t.data : r.push(t), r
				}), []))
			}, t.rawSplit = function(r) {
				return t.fromArray(i(r, x.isKanjiModeEnabled()))
			}
		}));

	function ht(r, t, n) {
		for (var e, i = r.size, o = function(r, t) {
				for (var n = r.bit << 3 | t, e = n << 10; 0 <= x.getBCHDigit(e) - Wr;) e ^= 1335 << x.getBCHDigit(e) - Wr;
				return 21522 ^ (n << 10 | e)
			}(t, n), u = 0; u < 15; u++) e = 1 == (o >> u & 1), u < 6 ? r.set(u, 8, e, !0) : u < 8 ? r.set(u + 1, 8, e, !0) : r.set(i - 15 + u, 8, e, !0), u < 8 ? r.set(8, i - u - 1, e, !0) : u < 9 ? r.set(8, 15 - u - 1 + 1, e, !0) : r.set(8, 15 - u - 1, e, !0);
		r.set(i - 8, 8, 1, !0)
	}

	function vt(r, t, n, e) {
		var i;
		if (y(r)) i = ct.fromArray(r);
		else {
			if ("string" != typeof r) throw new Error("Invalid data");
			var o, u = t;
			u || (o = ct.rawSplit(r), u = Vr.getBestVersionForData(o, n)), i = ct.fromString(r, u || 40)
		}
		var f = Vr.getBestVersionForData(i, n);
		if (!f) throw new Error("The amount of data is too big to be stored in a QR Code");
		if (t) {
			if (t < f) throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: " + f + ".\n")
		} else t = f;
		var a = function(r, t, n) {
				var e = new U;
				n.forEach((function(t) {
					e.put(t.mode.bit, 4), e.put(t.getLength(), Xr.getCharCountIndicator(t.mode, r)), t.write(e)
				}));
				var i = 8 * (x.getSymbolTotalCodewords(r) - z(r, t));
				for (e.getLengthInBits() + 4 <= i && e.put(0, 4); e.getLengthInBits() % 8 != 0;) e.putBit(0);
				for (var o = (i - e.getLengthInBits()) / 8, u = 0; u < o; u++) e.put(u % 2 ? 17 : 236, 8);
				return function(r, t, n) {
					for (var e = x.getSymbolTotalCodewords(t), i = e - z(t, n), o = function(r, t) {
							switch (t) {
								case k.L:
									return P[4 * (r - 1) + 0];
								case k.M:
									return P[4 * (r - 1) + 1];
								case k.Q:
									return P[4 * (r - 1) + 2];
								case k.H:
									return P[4 * (r - 1) + 3];
								default:
									return
							}
						}(t, n), u = o - e % o, f = Math.floor(e / o), a = Math.floor(i / o), s = a + 1, c = f - a, h = new Pr(c), v = 0, l = new Array(o), d = new Array(o), w = 0, y = T(r.buffer), p = 0; p < o; p++) {
						var g = p < u ? a : s;
						l[p] = y.slice(v, v + g), d[p] = h.encode(l[p]), v += g, w = Math.max(w, g)
					}
					var m, b, E = B(e),
						A = 0;
					for (m = 0; m < w; m++)
						for (b = 0; b < o; b++) m < l[b].length && (E[A++] = l[b][m]);
					for (m = 0; m < c; m++)
						for (b = 0; b < o; b++) E[A++] = d[b][m];
					return E
				}(e, r, t)
			}(t, n, i),
			s = x.getSymbolSize(t),
			c = new F(s);
		return function(r, t) {
				for (var n = r.size, e = function(r) {
						var t = C(r);
						return [
							[0, 0],
							[t - 7, 0],
							[0, t - 7]
						]
					}(t), i = 0; i < e.length; i++)
					for (var o = e[i][0], u = e[i][1], f = -1; f <= 7; f++)
						if (!(o + f <= -1 || n <= o + f))
							for (var a = -1; a <= 7; a++) u + a <= -1 || n <= u + a || (0 <= f && f <= 6 && (0 === a || 6 === a) || 0 <= a && a <= 6 && (0 === f || 6 === f) || 2 <= f && f <= 4 && 2 <= a && a <= 4 ? r.set(o + f, u + a, !0, !0) : r.set(o + f, u + a, !1, !0))
			}(c, t),
			function(r) {
				for (var t = r.size, n = 8; n < t - 8; n++) {
					var e = n % 2 == 0;
					r.set(n, 6, e, !0), r.set(6, n, e, !0)
				}
			}(c),
			function(r, t) {
				for (var n = O.getPositions(t), e = 0; e < n.length; e++)
					for (var i = n[e][0], o = n[e][1], u = -2; u <= 2; u++)
						for (var f = -2; f <= 2; f++) - 2 === u || 2 === u || -2 === f || 2 === f || 0 === u && 0 === f ? r.set(i + u, o + f, !0, !0) : r.set(i + u, o + f, !1, !0)
			}(c, t), ht(c, n, 0), 7 <= t && function(r, t) {
				for (var n, e, i, o = r.size, u = Vr.getEncodedBits(t), f = 0; f < 18; f++) n = Math.floor(f / 3), e = f % 3 + o - 8 - 3, i = 1 == (u >> f & 1), r.set(n, e, i, !0), r.set(e, n, i, !0)
			}(c, t),
			function(r, t) {
				for (var n = r.size, e = -1, i = n - 1, o = 7, u = 0, f = n - 1; 0 < f; f -= 2)
					for (6 === f && f--;;) {
						for (var a, s = 0; s < 2; s++) r.isReserved(i, f - s) || (a = !1, u < t.length && (a = 1 == (t[u] >>> o & 1)), r.set(i, f - s, a), -1 == --o && (u++, o = 7));
						if ((i += e) < 0 || n <= i) {
							i -= e, e = -e;
							break
						}
					}
			}(c, a), isNaN(e) && (e = _.getBestMask(c, ht.bind(null, c, n))), _.applyMask(e, c), ht(c, n, e), {
				modules: c,
				version: t,
				errorCorrectionLevel: n,
				maskPattern: e,
				segments: i
			}
	}
	ct.fromArray, ct.fromString, ct.rawSplit;
	var lt = function(r, t) {
			if (void 0 === r || "" === r) throw new Error("No input text");
			var n, e, i = k.M;
			return void 0 !== t && (i = k.from(t.errorCorrectionLevel, k.M), n = Vr.from(t.version), e = _.from(t.maskPattern), t.toSJISFunc && x.setToSJISFunction(t.toSJISFunc)), vt(r, n, i, e)
		},
		dt = a((function(r, t) {
			function n(r) {
				if ("number" == typeof r && (r = r.toString()), "string" != typeof r) throw new Error("Color should be defined as hex string");
				var t = r.slice().replace("#", "").split("");
				if (t.length < 3 || 5 === t.length || 8 < t.length) throw new Error("Invalid hex color: " + r);
				3 !== t.length && 4 !== t.length || (t = Array.prototype.concat.apply([], t.map((function(r) {
					return [r, r]
				})))), 6 === t.length && t.push("F", "F");
				var n = parseInt(t.join(""), 16);
				return {
					r: n >> 24 & 255,
					g: n >> 16 & 255,
					b: n >> 8 & 255,
					a: 255 & n,
					hex: "#" + t.slice(0, 6).join("")
				}
			}
			t.getOptions = function(r) {
				(r = r || {}).color || (r.color = {});
				var t = void 0 === r.margin || null === r.margin || r.margin < 0 ? 4 : r.margin,
					e = r.width && 21 <= r.width ? r.width : void 0,
					i = r.scale || 4;
				return {
					width: e,
					scale: e ? 4 : i,
					margin: t,
					color: {
						dark: n(r.color.dark || "#000000ff"),
						light: n(r.color.light || "#ffffffff")
					},
					type: r.type,
					rendererOpts: r.rendererOpts || {}
				}
			}, t.getScale = function(r, t) {
				return t.width && t.width >= r + 2 * t.margin ? t.width / (r + 2 * t.margin) : t.scale
			}, t.getImageWidth = function(r, n) {
				var e = t.getScale(r, n);
				return Math.floor((r + 2 * n.margin) * e)
			}, t.qrToImageData = function(r, n, e) {
				for (var i = n.modules.size, o = n.modules.data, u = t.getScale(i, e), f = Math.floor((i + 2 * e.margin) * u), a = e.margin * u, s = [e.color.light, e.color.dark], c = 0; c < f; c++)
					for (var h = 0; h < f; h++) {
						var v = 4 * (c * f + h),
							l = e.color.light;
						a <= c && a <= h && c < f - a && h < f - a && (l = s[o[Math.floor((c - a) / u) * i + Math.floor((h - a) / u)] ? 1 : 0]), r[v++] = l.r, r[v++] = l.g, r[v++] = l.b, r[v] = l.a
					}
			}
		})),
		wt = (dt.getOptions, dt.getScale, dt.getImageWidth, dt.qrToImageData, a((function(r, t) {
			t.render = function(r, t, n) {
				var e = n,
					i = t;
				void 0 !== e || t && t.getContext || (e = t, t = void 0), t || (i = function() {
					try {
						return document.createElement("canvas")
					} catch (r) {
						throw new Error("You need to specify a canvas element")
					}
				}()), e = dt.getOptions(e);
				var o, u, f = dt.getImageWidth(r.modules.size, e),
					a = i.getContext("2d"),
					s = a.createImageData(f, f);
				return dt.qrToImageData(s.data, r, e), o = i, u = f, a.clearRect(0, 0, o.width, o.height), o.style || (o.style = {}), o.height = u, o.width = u, o.style.height = u + "px", o.style.width = u + "px", a.putImageData(s, 0, 0), i
			}, t.renderToDataURL = function(r, n, e) {
				var i = e;
				void 0 !== i || n && n.getContext || (i = n, n = void 0), i = i || {};
				var o = t.render(r, n, i),
					u = i.type || "image/png",
					f = i.rendererOpts || {};
				return o.toDataURL(u, f.quality)
			}
		})));

	function yt(r, t) {
		var n = r.a / 255,
			e = t + '="' + r.hex + '"';
		return n < 1 ? e + " " + t + '-opacity="' + n.toFixed(2).slice(1) + '"' : e
	}

	function pt(r, t, n) {
		var e = r + t;
		return void 0 !== n && (e += " " + n), e
	}

	function gt(r, t, n, e, i) {
		var o = [].slice.call(arguments, 1),
			u = o.length,
			f = "function" == typeof o[u - 1];
		if (!(f || "function" == typeof Promise && Promise.prototype && Promise.prototype.then)) throw new Error("Callback required as last argument");
		if (!f) {
			if (u < 1) throw new Error("Too few arguments provided");
			return 1 === u ? (n = t, t = e = void 0) : 2 !== u || t.getContext || (e = n, n = t, t = void 0), new Promise((function(i, o) {
				try {
					var u = lt(n, e);
					i(r(u, t, e))
				} catch (i) {
					o(i)
				}
			}))
		}
		if (u < 2) throw new Error("Too few arguments provided");
		2 === u ? (i = n, n = t, t = e = void 0) : 3 === u && (t.getContext && void 0 === i ? (i = e, e = void 0) : (i = e, e = n, n = t, t = void 0));
		try {
			var a = lt(n, e);
			i(null, r(a, t, e))
		} catch (o) {
			i(o)
		}
	}
	wt.render, wt.renderToDataURL;
	var mt, bt, Et, At, Mt, Rt, St = {
		create: lt,
		toCanvas: gt.bind(null, wt.render),
		toDataURL: gt.bind(null, wt.renderToDataURL),
		toString: gt.bind(null, (function(r, t, n) {
			return function(r, t, n) {
				var e = dt.getOptions(t),
					i = r.modules.size,
					o = r.modules.data,
					u = i + 2 * e.margin,
					f = e.color.light.a ? "<path " + yt(e.color.light, "fill") + ' d="M0 0h' + u + "v" + u + 'H0z"/>' : "",
					a = "<path " + yt(e.color.dark, "stroke") + ' d="' + function(r, t, n) {
						for (var e = "", i = 0, o = !1, u = 0, f = 0; f < r.length; f++) {
							var a = Math.floor(f % t),
								s = Math.floor(f / t);
							a || o || (o = !0), r[f] ? (u++, 0 < f && 0 < a && r[f - 1] || (e += o ? pt("M", a + n, .5 + s + n) : pt("m", i, 0), i = 0, o = !1), a + 1 < t && r[f + 1] || (e += pt("h", u), u = 0)) : i++
						}
						return e
					}(o, i, e.margin) + '"/>',
					s = 'viewBox="0 0 ' + u + " " + u + '"',
					c = '<svg xmlns="http://www.w3.org/2000/svg" ' + (e.width ? 'width="' + e.width + '" height="' + e.width + '" ' : "") + s + ' shape-rendering="crispEdges">' + f + a + "</svg>\n";
				return c
			}(r, n)
		}))
	};
	(bt = mt = mt || {}).WECHAT_MESSAGE = "wechat_message", bt.WECHAT_TIMELINE = "wechat_timeline", bt.WECHAT_ALL = "wechat_all", (At = Et = Et || {}).INIT = "init", At.LOADING = "loading", At.SUCCESS = "success", At.ERROR = "error", (Rt = Mt = Mt || {}).WEIBO = "weibo", Rt.WECHAT = "wechat";
	var Bt = {
			init: function() {
				return t(void 0, void 0, void 0, (function() {
					return n(this, (function(r) {
						return [2, !0]
					}))
				}))
			},
			share: function(r) {
				return t(void 0, void 0, void 0, (function() {
					return n(this, (function(t) {
						return [2, {
							channel: Mt.WEIBO,
							url: d.stringifyUrl({
								url: "https://service.weibo.com/share/share.php",
								query: {
									title: r.title,
									url: r.link,
									pic: r.imgUrl
								}
							})
						}]
					}))
				}))
			}
		},
		Tt = 0;

	function It() {}

	function xt() {
		return t(void 0, void 0, void 0, (function() {
			var r;
			return n(this, (function(t) {
				return (r = window.wx) && r.updateAppMessageShareData && r.updateTimelineShareData ? [2, r] : [2, null]
			}))
		}))
	}
	var kt = Et.INIT,
		jt = {
			wechatSignUrl: "https://wxsign.nie.netease.com/sharecom/wxjs.php"
		},
		Ut = {
			weibo: Bt,
			wechat: {
				init: function(e) {
					return t(void 0, void 0, void 0, (function() {
						var t, i, o;
						return n(this, (function(n) {
							switch (n.label) {
								case 0:
									return [4, xt()];
								case 1:
									return (t = n.sent()) ? (kt = Et.LOADING, i = r(r({}, e), jt), [4, new Promise((function(r) {
										! function(r, t, n) {
											void 0 === t && (t = {});
											var e, i, o = t.prefix || "__jp",
												u = t.name || o + Tt++,
												f = t.param || "callback",
												a = null != t.timeout ? t.timeout : 6e4,
												s = encodeURIComponent,
												c = document.getElementsByTagName("script")[0] || document.head;

											function h() {
												e.parentNode && e.parentNode.removeChild(e), window[u] = It, i && clearTimeout(i)
											}
											a && (i = window.setTimeout((function() {
												h(), n && n(new Error("Timeout"))
											}), a)), window[u] = function(r) {
												h(), n && n(null, r)
											}, r = (r += (~r.indexOf("?") ? "&" : "?") + f + "=" + s(u)).replace("?&", "?"), (e = document.createElement("script")).src = r, c.parentNode.insertBefore(e, c)
										}(d.stringifyUrl({
											url: i.wechatSignUrl,
											query: {
												url: window.location.href,
												type: "jsonp"
											}
										}), {}, (function(t, n) {
											t ? (console.error(t), r(null)) : r(n)
										}))
									}))]) : [2, !1];
								case 2:
									return (o = n.sent()) || (kt = Et.ERROR), [4, new Promise((function(n) {
										t.config(r(r({}, o), {
											jsApiList: ["updateTimelineShareData", "updateAppMessageShareData"]
										})), t.ready((function() {
											kt = Et.SUCCESS, n(!0)
										})), t.error((function(r) {
											console.log("wx error", r), console.error(r), kt = Et.ERROR, n(!1)
										}))
									}))];
								case 3:
									return [2, n.sent()]
							}
						}))
					}))
				},
				share: function(r) {
					return t(void 0, void 0, void 0, (function() {
						var t, e, i;
						return n(this, (function(n) {
							switch (n.label) {
								case 0:
									return t = r.type || mt.WECHAT_ALL, [4, xt()];
								case 1:
									return (e = n.sent()) && kt === Et.SUCCESS ? (i = {
										channel: Mt.WECHAT,
										success: !0
									}, t !== mt.WECHAT_ALL && t !== mt.WECHAT_TIMELINE ? [3, 3] : [4, new Promise((function(t) {
										return e.updateTimelineShareData({
											title: r.title,
											link: r.link,
											imgUrl: r.imgUrl,
											success: function() {
												t(!0)
											},
											fail: function() {
												t(!1)
											},
											complete: function(r) {
												console.log(r), t(!1)
											}
										})
									}))]) : [2, {
										channel: Mt.WECHAT,
										success: !1
									}];
								case 2:
									n.sent() || (i.success = !1), n.label = 3;
								case 3:
									return t !== mt.WECHAT_ALL && t !== mt.WECHAT_MESSAGE ? [3, 5] : [4, new Promise((function(t) {
										return e.updateAppMessageShareData({
											title: r.title,
											desc: r.desc,
											link: r.link,
											imgUrl: r.imgUrl,
											success: function() {
												t(!0)
											},
											fail: function() {
												t(!1)
											},
											complete: function(r) {
												console.log(r), t(!1)
											}
										})
									}))];
								case 4:
									n.sent() || (i.success = !1), n.label = 5;
								case 5:
									return [2, i]
							}
						}))
					}))
				}
			}
		},
		Nt = !1,
		Ft = ["log", "info", "warn", "error"];

	function Ot() {
		var r;
		r = {
			log: null,
			info: null,
			warn: null,
			error: null,
			setDebug: function(r) {
				Nt = r
			}
		}, Ft.forEach((function(t) {
			r[t] = function() {
				for (var r = [], n = 0; n < arguments.length; n++) r[n] = arguments[n];
				!Nt && "error" !== t || console[t].apply(console, r)
			}
		})), r.log("[H5ShareSdk] new H5ShareSdk")
	}
	return Ot.getInstance = function() {
		return Ot.instance || (Ot.instance = new Ot), Ot.instance
	}, Ot.prototype.createShareLink = function(r, t) {
		return d.stringifyUrl({
			url: r,
			query: t
		})
	}, Ot.prototype.resolveShareLink = function(r) {
		return d.parseUrl(r)
	}, Ot.prototype.createQRCode = function(r, e) {
		return t(this, void 0, void 0, (function() {
			return n(this, (function(t) {
				switch (t.label) {
					case 0:
						return [4, St.toDataURL(r, e)];
					case 1:
						return [2, t.sent()]
				}
			}))
		}))
	}, Ot.prototype.initChannel = function(r, e) {
		return t(this, void 0, void 0, (function() {
			return n(this, (function(t) {
				switch (t.label) {
					case 0:
						return [4, Promise.all(r.map((function(r) {
							return Ut[r].init(e)
						})))];
					case 1:
						return [2, t.sent()]
				}
			}))
		}))
	}, Ot.prototype.getShareInfo = function(r, e) {
		return t(this, void 0, void 0, (function() {
			return n(this, (function(t) {
				switch (t.label) {
					case 0:
						switch (r) {
							case Mt.WEIBO:
								return [3, 1];
							case Mt.WECHAT:
								return [3, 3]
						}
						return [3, 5];
					case 1:
						return [4, Ut.weibo.share(e)];
					case 2:
						return [2, t.sent()];
					case 3:
						return [4, Ut.wechat.share(e)];
					case 4:
						return [2, t.sent()];
					case 5:
						return [2]
				}
			}))
		}))
	}, Ot
}));
window.generateJS = {}, generateJS.paths = {}, generateJS.styles = {
	"标题": {
		fontFamily: "Microsoft YaHei",
		textColor: "0xFFFFFF",
		size: 28
	},
	"雅黑24": {
		fontFamily: "Microsoft YaHei",
		textColor: "0x000000",
		size: 24
	},
	"雅黑26": {
		fontFamily: "Microsoft YaHei",
		textColor: "0x000000",
		size: 26
	},
	"描边雅黑24": {
		fontFamily: "Microsoft YaHei",
		textColor: "0xFFFFFF",
		size: 24,
		strokeColor: "0x0000FF",
		stroke: 1
	},
	"斜体雅黑24": {
		fontFamily: "Microsoft YaHei",
		textColor: "0x000000",
		italic: !0,
		size: 24
	},
	"粗体雅黑24": {
		fontFamily: "Microsoft YaHei",
		textColor: "0x000000",
		bold: !0,
		size: 24
	}
}, generateJS.skins = {
	"eui.Button": "resource/eui_skins/ButtonSkin.exml",
	"eui.CheckBox": "resource/eui_skins/CheckBoxSkin.exml",
	"eui.HScrollBar": "resource/eui_skins/HScrollBarSkin.exml",
	"eui.HSlider": "resource/eui_skins/HSliderSkin.exml",
	"eui.Panel": "resource/eui_skins/PanelSkin.exml",
	"eui.TextInput": "resource/eui_skins/TextInputSkin.exml",
	"eui.ProgressBar": "resource/eui_skins/ProgressBarSkin.exml",
	"eui.ProgressCircle": "resource/eui_skins/ProgressCircleSkin.exml",
	"eui.RadioButton": "resource/eui_skins/RadioButtonSkin.exml",
	"eui.Scroller": "resource/eui_skins/ScrollerSkin.exml",
	"eui.PageView": "resource/eui_skins/PageViewSkin.exml",
	"eui.ToggleSwitch": "resource/eui_skins/ToggleSwitchSkin.exml",
	"eui.VScrollBar": "resource/eui_skins/VScrollBarSkin.exml",
	"eui.VSlider": "resource/eui_skins/VSliderSkin.exml",
	"eui.ItemRenderer": "resource/eui_skins/ItemRendererSkin.exml",
	"eui.FirstPanel": "resource/eui_skins/FirstPanelSkin.exml",
	"eui.SecondPanel": "resource/eui_skins/SecondPanelSkin.exml",
	"eui.ThirdPanel": "resource/eui_skins/ThirdPanelSkin.exml",
	"euiex.ItemGrid": "resource/eui_skins/ItemGridSkin.exml",
	"euiex.ItemGrid80x": "resource/eui_skins/ItemGridSkin_80x.exml",
	PetItemRender: "resource/eui_skins/PetGridSkin.exml",
	"euiex.ConsumeItem": "resource/eui_skins/ConsumeItemSkin.exml",
	"euiex.ConsumeItemEx": "resource/eui_skins/ConsumeItemExSkin.exml",
	JingmaiSkillItem: "resource/eui_skins/JingmaiSkillSkin.exml",
	JingmaiSkillItemSmall: "resource/eui_skins/JingmaiSkillItemSmall.exml",
	"euiex.AnimationProgressBar": "resource/eui_skins/AnimationProgressBar.exml",
	"euiex.FightPowerWidget": "resource/eui_skins/FightPowerSkin.exml",
	"euiex.ElemSelector": "resource/eui_skins/ElemSelectorSkin.exml",
	"euiex.ElemContainer": "resource/eui_skins/ElemContainerSkin.exml",
	PetNeidanActiveItem: "resource/eui/ui_petneidan_Item.exml",
	PetNeidanPicItem: "resource/eui/ui_pet_neidan_tujian_item.exml"
};
var dataStructure;
! function(t) {
	var r = function() {
		function t(t) {
			if (this.elements = {}, t)
				for (var r = 0, n = t; r < n.length; r++) {
					var e = n[r];
					this.set(e[0], e[1])
				}
		}
		return Object.defineProperty(t.prototype, "size", {
			get: function() {
				return Object.keys(this.elements).length
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(t.prototype, "values", {
			get: function() {
				for (var t = new Array, r = 0, n = Object.keys(this.elements); r < n.length; r++) {
					var e = n[r];
					t.push(this.elements[e].value)
				}
				return t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(t.prototype, "keys", {
			get: function() {
				for (var t = new Array, r = 0, n = Object.keys(this.elements); r < n.length; r++) {
					var e = n[r];
					t.push(this.elements[e].key)
				}
				return t
			},
			enumerable: !0,
			configurable: !0
		}), t.prototype.isEmpty = function() {
			return 0 === Object.keys(this.elements).length
		}, t.prototype.clear = function() {
			var t = this;
			Object.keys(this.elements).forEach((function(r) {
				delete t.elements[r]
			}))
		}, t.prototype.set = function(t, r) {
			this.elements[t] = {
				key: t,
				value: r
			}
		}, t.prototype.get = function(t) {
			return this.elements[t] ? this.elements[t].value : void 0
		}, t.prototype.delete = function(t) {
			return Object.keys(this.elements).indexOf(String(t)) > -1 && (delete this.elements[t], !0)
		}, t.prototype.has = function(t) {
			return Object.keys(this.elements).indexOf(String(t)) > -1
		}, t.prototype.forEach = function(t, r) {
			void 0 === r && (r = this);
			for (var n = 0, e = Object.keys(this.elements); n < e.length; n++) {
				var u = e[n];
				this.elements[u] && t.call(r, this.elements[u].value, this.elements[u].key, r)
			}
		}, t
	}();
	t.GenericMap = r, __reflect(r.prototype, "dataStructure.GenericMap");
	var n = function(t) {
		function r() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(r, t), r
	}(r);
	t.Map = n, __reflect(n.prototype, "dataStructure.Map");
	var e = function() {
		function t() {
			this.$name = "__weakSet" + (1e9 * Math.random() >>> 0) + t.counter++ + "__"
		}
		return t.prototype.add = function(t) {
			t[this.$name] = !0
		}, t.prototype.delete = function(t) {
			delete t[this.$name]
		}, t.prototype.has = function(t) {
			return !!t[this.$name]
		}, t.counter = 0, t
	}();
	t.WeakSet = e, __reflect(e.prototype, "dataStructure.WeakSet");
	var u = function() {
		function t() {
			this.$name = "__weakMap" + (1e9 * Math.random() >>> 0) + t.counter++ + "__"
		}
		return t.prototype.set = function(t, r) {
			var n = t[this.$name];
			n && n[0] === t ? n[1] = r : t[this.$name] = [t, r]
		}, t.prototype.get = function(t) {
			var r = t[this.$name];
			if (r && r[0] === t) return r[1]
		}, t.prototype.delete = function(t) {
			var r = t[this.$name];
			if (!r) return !1;
			var n = t === r[0];
			return r[0] = r[1] = void 0, n
		}, t.prototype.has = function(t) {
			var r = t[this.$name];
			return !!r && r[0] === t
		}, t.counter = 0, t
	}();
	t.WeakMap = u, __reflect(u.prototype, "dataStructure.WeakMap");
	var i = function() {
		function t() {}
		return t.isNullOrWhiteSpace = function(t) {
			try {
				return null != t && "undefined" != t && t.replace(/\s/g, "").length < 1
			} catch (t) {
				return !1
			}
		}, t.Format = function(r) {
			for (var n = [], e = 1; e < arguments.length; e++) n[e - 1] = arguments[e];
			try {
				return r.replace(/{(\d+(:.*)?)}/g, (function(r, e) {
					var u = r.split(":");
					u.length > 1 && (e = e[0], r = u[1].replace("}", ""));
					var i = t.formatPattern(r, n[e]);
					return void 0 !== i && null != i ? i : t.Empty
				}))
			} catch (r) {
				return t.Empty
			}
		}, t.formatPattern = function(t, r) {
			switch (t) {
				case "L":
					r = r
			}
			return r
		}, t.Empty = "", t
	}();
	t.StringFormater = i, __reflect(i.prototype, "dataStructure.StringFormater")
}(dataStructure || (dataStructure = {}));
var color;
! function(c) {
	c.Black = "#c202336", c.Black0x = 2106166, c.Blue = "#c2A4E84", c.Blue0x = 2772612, c.Green = "#c088634", c.Green0x = 558644, c.Grey = "#c383A40", c.Grey0x = 3684928, c.LightBlue = "#c3B9EEB", c.LightBlue0x = 3907307, c.LightGreen = "#c75FD8F", c.LightGreen0x = 7732623, c.LightOrange = "#cFF7D1E", c.LightOrange0x = 16743710, c.LightPurple = "#cFE85FF", c.LightPurple0x = 16680447, c.LightRed = "#cDD1D3A", c.LightRed0x = 14490938, c.Orange = "#cBF540D", c.Orange0x = 12538893, c.PropBlue = "#c077AD4", c.PropBlue0x = 490196, c.PropGreen = "#c088634", c.PropGreen0x = 558644, c.PropLightBlue = "#c5CB8FF", c.PropLightBlue0x = 6076671, c.PropLightGreen = "#c75FD8F", c.PropLightGreen0x = 7732623, c.PropLightOrange = "#cFF7D1E", c.PropLightOrange0x = 16743710, c.PropLightPlatium = "#cEDDDFF", c.PropLightPlatium0x = 15588863, c.PropLightPurple = "#cFE85FF", c.PropLightPurple0x = 16680447, c.PropLightRed = "#cFF314D", c.PropLightRed0x = 16724301, c.PropLightYellow = "#cFFDE27", c.PropLightYellow0x = 16768551, c.PropOrange = "#cD7620C", c.PropOrange0x = 14115340, c.PropPlatium = "#cDABEFF", c.PropPlatium0x = 14335743, c.PropPurple = "#cBB46D0", c.PropPurple0x = 12273360, c.PropRed = "#cDD1D3A", c.PropRed0x = 14490938, c.PropYellow = "#cF6FF00", c.PropYellow0x = 16187136, c.Purple = "#cBB46D0", c.Purple0x = 12273360, c.Red = "#cB40F28", c.Red0x = 11800360, c.Warm_Brown = "#c65270E", c.Warm_Brown0x = 6629134, c.Warm_Green = "#c3A9D5B", c.Warm_Green0x = 3841371, c.Warm_LightBrown = "#cB1765E", c.Warm_LightBrown0x = 11630174, c.Warm_LightGreen = "#c75FD8F", c.Warm_LightGreen0x = 7732623, c.White = "#cffffff", c.White0x = 16777215, c.Yellow = "#cFFDE27", c.Yellow0x = 16768551
}(color || (color = {}));
var Global;
! function(t) {
	t.getTexture = function(t) {
		t.replace(".", "#");
		var e = RES.getRes(t);
		if (egret.is(e, "egret.Texture")) return e;
		if (egret.is(e, "egret.BitmapData")) {
			var n = new egret.Texture;
			return n.bitmapData = e, n
		}
		return null
	}, t.setObjectCenter = function(t, e, n) {
		if (t && t.parent) {
			var i = t.parent;
			void 0 !== e && (t.x = (i.width * i.scaleX - t.width * t.scaleX >> 1) + e), void 0 !== n && (t.y = (i.height * i.scaleY - t.height * t.scaleY >> 1) + n)
		}
	}, t.createBitMap = function(t) {
		var e = new egret.Bitmap;
		return e.texture = t, e
	}, t.setPosition = function(t, e, n) {
		t && (t.x = e, t.y = n)
	}, t.setSize = function(t, e, n) {
		t && (t.width = e, t.height = n)
	}, t.initFont = function(t, e, n) {
		t && (t.size = e, t.fontFamily = "Microsoft YaHei", n && (t.textColor = n))
	}, t.getResAsyncToTexture = function(t) {
		return __awaiter(this, void 0, void 0, (function() {
			var e, n;
			return __generator(this, (function(i) {
				switch (i.label) {
					case 0:
						return [4, RES.getResAsync(t)];
					case 1:
						return e = i.sent(), egret.is(e, "egret.Texture") ? [2, e] : egret.is(e, "egret.BitmapData") ? ((n = new egret.Texture).bitmapData = e, [2, n]) : [2]
				}
			}))
		}))
	}, t.setStroke = function(t, e, n) {
		t && (t.stroke = e, t.strokeColor = n)
	};
	var e = function(t) {
		function e(e, n) {
			var i = t.call(this) || this;
			return i.width = e, i.lineSpace = n, i
		}
		return __extends(e, t), e.prototype.reset = function() {
			this.removeChildren(), this.currX = 0, this.currY = this.paddingTop, this.nextY = 0
		}, e.prototype.pushText = function(t) {
			var e = egret.sys.measureText(t.text, t.fontFamily, t.size, t.bold, t.italic);
			e > this.width && (t.width = this.width), e + this.currX > this.width && (this.currY = this.nextY + this.lineSpace, this.currX = 0, this.nextY = this.currY), t.x = this.currX, t.y = this.currY, this.addChild(t), this.currX = this.currX + e, this.nextY = Math.max(this.nextY, this.currY + t.size, this.currY + t.measuredHeight)
		}, e.prototype.newLine = function() {
			this.currY = this.nextY + this.lineSpace, this.nextY = this.currY
		}, e
	}(egret.DisplayObjectContainer);
	t.RichTextField = e, __reflect(e.prototype, "Global.RichTextField")
}(Global || (Global = {}));
var utils, SimpleButton = function(t) {
	function e(e) {
		var n = t.call(this) || this;
		return n.enabled = !0, n.$label = new egret.TextField, n.$image = new egret.Bitmap, n.$imgRedPoint = new egret.Bitmap, n.$imgRedPoint.touchEnabled = !1, n.redTop = n.redRight = -8, n.addChild(n.$image), n.addChild(n.$label), n.addChild(n.$imgRedPoint), e && e.source && (n.source = e.source), n.addEventListener(egret.Event.ADDED_TO_STAGE, n.onAddToStage, n), n
	}
	return __extends(e, t), e.prototype.onAddToStage = function() {
		var t = this;
		this.touchEnabled = !0, this.touchChildren = !1, this.$imgRedPoint.visible = !1, Global.getResAsyncToTexture("sign_reddot_png").then((function(e) {
			t.$imgRedPoint.texture = e
		})), this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this), this.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this)
	}, Object.defineProperty(e.prototype, "point", {
		get: function() {
			return this.$imgRedPoint
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "label", {
		get: function() {
			return this.$label
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "image", {
		get: function() {
			return this.$image
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "source", {
		set: function(t) {
			this.$source && this.dispose(), this.$source = {};
			for (var e = 0, n = Object.keys(t); e < n.length; e++) {
				var i = n[e];
				this.$source[i] = Global.getTexture(t[i])
			}
			this.refresh()
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "texture", {
		set: function(t) {
			this.$source && this.dispose();
			for (var e = 0, n = Object.keys(t); e < n.length; e++) n[e], this.$source = t;
			this.refresh()
		},
		enumerable: !0,
		configurable: !0
	}), e.prototype.dispose = function() {
		if (this.$source)
			for (var t = 0, e = Object.keys(this.$source); t < e.length; t++) {
				var n = e[t];
				this.$source[n] && this.$source[n].dispose()
			}
	}, e.prototype.onTouchCancle = function(t) {
		var e = t.$currentTarget;
		e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), e.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !1, this.refresh()
	}, e.prototype.onTouchBegin = function(t) {
		this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !0, this.refresh()
	}, e.prototype.onStageTouchEnd = function(t) {
		var e = t.$currentTarget;
		e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), e.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !1, this.refresh()
	}, e.prototype.getCurrentState = function() {
		return this.enabled ? this.touchCaptured ? "down" : "up" : "disabled"
	}, e.prototype.refresh = function() {
		var t = this.getCurrentState();
		this.$source && t in this.$source && (this.$image.texture = this.$source[t]), this.$imgRedPoint.x = this.width + this.redRight, this.$imgRedPoint.y = this.redTop
	}, e
}(egret.DisplayObjectContainer);
__reflect(SimpleButton.prototype, "SimpleButton"),
	function(t) {
		var e, n, i = [],
			r = [],
			o = [],
			u = 0;
		t.msgMoveTime = 500, t.msgShowTime = 666, t.msgFadeOutTime = 100, t.ratio = {
			mr: .5,
			wr: .5,
			fr: .5
		}, t.framePopNum = .8, t.testMessBox = function(e) {
			void 0 === e && (e = 1);
			for (var n = 0; n < e; ++n) {
				var i = t.randomInt(3001, 3008);
				t.MessageBox("#p" + i + "#Y测试一下！！" + n)
			}
		};

		function a(t) {
			return LoginManager.getInstance().loginState === LoginState.GAMING || -1 === t.indexOf("#p")
		}
		t.messageBoxSwitchDelay = function() {
			i.forEach((function(t, e) {
				-1 !== h.getInstance().getChildIndex(t) && h.getInstance().removeChild(t), UIManager.TopPanel.addChild(t)
			})), h.getInstance().parent == Main.getInst() && Main.getInst().removeChild(h.getInstance())
		}, t.clearMessageBox = function() {
			o = []
		};
		var h = function(t) {
			function i() {
				var i = t.call(this) || this;
				return i.touchEnabled = !1, i.width = e, i.height = n, i
			}
			return __extends(i, t), i.getInstance = function() {
				return i.instance || (i.instance = new i), i.instance
			}, i
		}(egret.DisplayObjectContainer);
		__reflect(h.prototype, "TopPanel");
		var s = function(e) {
			function o(t) {
				var n = e.call(this) || this;
				return n.y = 0, n.z = GlobalValue.topPannelZConfig.MessageItem, n.$maxWidth = 400, n.$imgBackground = new egret.Bitmap, n.touchEnabled = !1, n.touchChildren = !1, Global.getResAsyncToTexture("bg_tishi_png").then((function(t) {
					n.$imgBackground.texture = t, n.$imgBackground.scale9Grid = new egret.Rectangle(12, 13, 37, 16)
				})), n.addChild(n.$imgBackground), n.doInit(t), n
			}
			return __extends(o, e), o.updateParms = function() {
				if (!o.MAX_NUM) {
					var t = 0;
					"undefined" != typeof h5screenAdapter && (t = h5screenAdapter.upAdaptDis), o.MAX_Y = -10 - t, o.BASE_Y = .55 * n, o.MAX_NUM = Math.floor((o.BASE_Y - o.MAX_Y) / 50)
				}
			}, Object.defineProperty(o.prototype, "text", {
				set: function(t) {
					egret.is(this.$rblContent, "egret.TextField") && "euiex" in window && "RichLabel" in window.euiex ? (this.$rblContent = new euiex.RichLabel(this.$maxWidth, t), this.$rblContent.addEventListener(euiex.RichLabelEvent.RBL_LAYOUT_CHANGED, this.updateLayout, this)) : this.$rblContent.text = t, egret.is(this.$rblContent, "egret.TextField") && this.updateLayout()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(o.prototype, "count", {
				get: function() {
					return this.$cnt
				},
				set: function(t) {
					this.$cnt = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(o.prototype, "targetH", {
				get: function() {
					return this.$targetH
				},
				set: function(t) {
					this.$targetH = t
				},
				enumerable: !0,
				configurable: !0
			}), o.prototype.doInit = function(t) {
				"euiex" in window && "RichLabel" in window.euiex ? (this.$rblContent = new euiex.RichLabel(this.$maxWidth, t), this.$rblContent.addEventListener(euiex.RichLabelEvent.RBL_LAYOUT_CHANGED, this.updateLayout, this)) : (this.$rblContent = new egret.TextField, this.$rblContent.text = t, this.$rblContent.richmode = !0), this.updateLayout(), this.addChild(this.$rblContent)
			}, o.prototype.updateLayout = function() {
				egret.is(this.$rblContent, "egret.TextField") && (this.$rblContent.width = Math.min(this.$rblContent.width, this.$maxWidth));
				var t = this.$rblContent.width + 30,
					e = this.$rblContent.height + 20;
				this.width = t < 65 ? 65 : t, this.height = e < 50 ? 50 : e, this.$rblContent.x = this.width - this.$rblContent.width >> 1, this.$rblContent.y = this.height - this.$rblContent.height >> 1, this.$imgBackground.width = this.width, this.$imgBackground.height = this.height, this.anchorOffsetX = .5 * this.width, this.anchorOffsetY = this.height
			}, o.prototype.destroy = function() {
				var t = r.indexOf(this);
				r.splice(t, 1), i && (i.length < 30 ? i.push(this) : (GlobalValue.delayJsLoaded ? UIManager.TopPanel.removeChild(this) : h.getInstance().removeChild(this), this.removeChildren(), egret.is(this.$rblContent, "euiex.RichLabel") && this.$rblContent.removeEventListener(euiex.RichLabelEvent.RBL_LAYOUT_CHANGED, this.updateLayout, this), this.$imgBackground = null, this.$rblContent = null, this.$maxWidth = null)), egret.Tween.removeTweens(this), this.visible = !1, this.$cnt = null, this.$targetH = null
			}, o.prototype.startMove = function() {
				var e = this;
				if (this.y <= o.MAX_Y + 100) return this.destroy(), void l();
				egret.Tween.removeTweens(this);
				var n = egret.Tween.get(this),
					i = this.count - r[0].count,
					a = this.targetH,
					h = o.BASE_Y,
					s = Math.max(h - a - 100, o.MAX_Y),
					c = 0;
				s < o.MAX_Y ? u = i : c = 15 * (i - u) + t.msgShowTime;
				var f = t.msgMoveTime,
					g = t.msgFadeOutTime;
				r.length > o.MAX_NUM && (f *= t.ratio.mr, c *= t.ratio.wr, g *= t.ratio.fr), n.to({
					y: s
				}, f).wait(c).to({
					alpha: 0
				}, g).call((function() {
					e.destroy(), l()
				}), this)
			}, o.MAX_Y = null, o.BASE_Y = null, o.MAX_NUM = null, o
		}(egret.DisplayObjectContainer);

		function c(t) {
			var e = null;
			return i.length > 0 ? ((e = i.pop()).text = t, e.parent && e.parent.setChildIndex(e, e.parent.numChildren - 1), e.visible = !0, e.alpha = 1) : (e = new s(t), GlobalValue.delayJsLoaded ? UIManager.TopPanel.addChild(e) : h.getInstance().addChild(e)), e.count = -1, e.targetH = 0, e
		}

		function f(t) {
			for (var e = 0, n = r.length; e < n; e++) r[e].targetH += t.height;
			r.push(t)
		}

		function l() {
			if (0 !== o.length) {
				s.updateParms();
				var t = 1,
					i = r.length;
				0 === i && (t = Math.min(o.length, s.MAX_NUM)), i > 3 * s.MAX_NUM && r[0].destroy();
				for (var h = 0; h < t; h++) {
					var l = o.pop();
					if (a(l)) {
						var g = c(l);
						g.x = .5 * e, g.y = .55 * n, f(g)
					}
				}
				u = 0;
				for (var d = 0, v = r; d < v.length; d++) v[d].startMove()
			}
		}
		__reflect(s.prototype, "MessageItem");
		var g = 0;

		function d() {
			if (!((g += t.framePopNum) < 0)) {
				var e = Math.floor(g);
				g -= e;
				for (var n = 0; n < e; n++) l()
			}
		}
		var v = !1;

		function w(t) {
			n = LoginUIGroup.getInstance().height, e = LoginUIGroup.getInstance().width, -1 != Main.getInst().getChildIndex(h.getInstance()) || GlobalValue.delayJsLoaded || Main.getInst().addChild(h.getInstance()), o.unshift(t), v || (Main.getInst().stage.addEventListener(egret.Event.ENTER_FRAME, d, this), EventBus.addEventListener(CommonEvent.SCREENHWSETTED, (function() {
				s.MAX_NUM = null
			}), this), v = !0)
		}
		t.MessageBox = w, t.YMessageBox = function(t) {
			w(GlobalValue.Yellow + t)
		}, t.callLater = function(t, e, n, i) {
			return setTimeout((function() {
				e.apply(i, n)
			}), t)
		};
		var p = new dataStructure.Map;

		function b(t) {
			return null == t
		}

		function M(t, e) {
			return Math.random() * (e + 1 - t) + t
		}
		t.setKV = function(t, e) {
			p.set(t, e), JSNativeBridge.getInstance().call("setKV", [t, e])
		}, t.getKV = function(t, e) {
			return new Promise((function(n) {
				p.has(t) ? n(p.get(t)) : JSNativeBridge.getInstance().call("getKV", [t, e], (function(e) {
					p.set(e.key, e.value), n(p.get(t))
				}))
			}))
		}, t.printKV = function(e, n) {
			return __awaiter(this, void 0, void 0, (function() {
				var i;
				return __generator(this, (function(r) {
					switch (r.label) {
						case 0:
							return [4, t.getKV(e, n)];
						case 1:
							return i = r.sent(), t.YMessageBox("" + i), [2]
					}
				}))
			}))
		}, t.setDefaultShowInfo = function() {
			for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
			t.forEach((function(t, e) {
				t instanceof eui.Label || t instanceof egret.TextField || t instanceof euiex.RichLabel ? t.text = "" : t instanceof eui.Image && (t.source = "")
			}))
		}, t.isNotVain = function(t) {
			return null != t
		}, t.isVain = b, t.isObjectNotVain = function(t) {
			return !b(t) && Object.keys(t).length > 0
		}, t.isArrayNotVain = function(t) {
			return !b(t) && t.length > 0
		}, t.setLabelText = function(e, n, i, r) {
			void 0 === i && (i = ""), void 0 === r && (r = ""), e && (t.isNotVain(n) && t.isNotVain(i) && t.isNotVain(r) ? e.text = "" + i + n + r : e.text = "")
		}, t.randomArrayItem = function(t) {
			return t[Math.floor(Math.random() * t.length)]
		}, t.randomNumber = M, t.randomInt = function(t, e) {
			return Math.floor(M(t, e))
		}, t.openURL = function(t, e) {
			void 0 === e && (e = !1), G() ? (egret.log("native try open url:" + t), native_net.ntOpenWebView(t)) : (egret.log("web try open url:" + t), e ? window.open(t, "_blank") : window.open(t))
		};
		var U = new dataStructure.Map;
		t.initSearchParams = function() {
			try {
				document.location.search.substr(1).split("&").forEach((function(t, e, n) {
					var i = t.split("=");
					U.set(i[0], decodeURIComponent(i[1]))
				}))
			} catch (t) {}
		}, t.isInner = function() {
			return !!U.has("inner_test") && "true" === U.get("inner_test")
		};
		var m = function() {
			function t() {}
			return t.getInstance = function() {
				for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
				var n = this;
				if (!n._instance) {
					var i = t.length;
					0 == i ? n._instance = new n : 1 == i ? n._instance = new n(t[0]) : 2 == i ? n._instance = new n(t[0], t[1]) : 3 == i ? n._instance = new n(t[0], t[1], t[2]) : 4 == i ? n._instance = new n(t[0], t[1], t[2], t[3]) : 5 == i && (n._instance = new n(t[0], t[1], t[2], t[3], t[4]))
				}
				return n._instance
			}, t
		}();

		function G() {
			return egret.Capabilities.runtimeType === egret.RuntimeType.RUNTIME2 || !!(window.navigator && window.navigator.userAgent && window.navigator.userAgent.toLowerCase().indexOf("egretwebview") > -1)
		}

		function _() {
			return egret.Capabilities.runtimeType === egret.RuntimeType.WEB && !G()
		}

		function S() {
			return -1 !== [egret.RuntimeType.WXGAME, egret.RuntimeType.QQGAME, egret.RuntimeType.TTGAME, egret.RuntimeType.VIVOGAME, egret.RuntimeType.OPPOGAME, egret.RuntimeType.QGAME, egret.RuntimeType.BAIDUGAME, egret.RuntimeType.BILIGAME].indexOf(egret.Capabilities.runtimeType)
		}

		function I(e) {
			void 0 === e && (e = !1), e || t.YMessageBox("即将返回登录界面");
			var n = e ? 1 : 2500;
			t.callLater(n, (function() {
				LoginManager.getInstance().loginState !== LoginState.GAMING && LoginManager.getInstance().GameingLeave(0);
				var t = new LoginTransitionEvent(LoginTransitionEvent.GAME_RESET, {
					result: !0
				});
				LoginManager.getInstance().lsm.dispatchEvent(t)
			}), [], this)
		}

		function x(t) {
			return !!(t && t.baseInst && t.visible)
		}

		function y(t, e, n) {
			UIManager.open(t).then((function(t) {
				e.apply(n, [t])
			}), (function(t) {
				egret.warn(t)
			}))
		}

		function L(t) {
			for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
			UIManager.open(t).then((function(t) {
				t.setData(e)
			}), (function(t) {
				egret.warn(t)
			}))
		}

		function V(t, e, n) {
			var i = UIManager.getInst(t);
			x(i) ? e.apply(n, [i]) : y(t, e, n)
		}

		function A() {
			if (window && window.navigator && window.navigator.userAgent) {
				var t = window.navigator.userAgent.toLowerCase();
				return t.indexOf("xyqh5") > -1 && t.indexOf("electron") > -1
			}
		}
		t.SingletonClass = m, __reflect(m.prototype, "utils.SingletonClass"), t.isIOSMobile = function() {
			return !(!egret.Capabilities.isMobile || "iOS" !== egret.Capabilities.os)
		}, t.setJFGAS3Url_$ = function(t) {
			2 === GlobalValue.LoginChannel ? SdkMgr.getInst().setPropStr(SdkMgr.ConstProp.UNISDK_JF_GAS3_URL, t.split("/g102")[0]) : 1 === GlobalValue.LoginChannel && JSNativeBridge.getInstance().call("setSDKJFGas3Url", [t])
		}, t.tryLogout = function() {
			G() ? JSNativeBridge.getInstance().call("tryLogout", [1]) : SdkMgr && SdkMgr.getInst().ntLogout().then((function() {
				session_helper_.clearToken_(), I(!0)
			}))
		}, t.tryOpenUserCenter = function() {
			G() ? JSNativeBridge.getInstance().call("userCenterRequest", []) : SdkMgr && "netease" === GlobalValue.appLoginChannel && SdkMgr.getInst().ntExtendFunc({
				methodId: "showUserCenter",
				showLogout: !0,
				bindCb: function(e) {
					session_helper_.clearToken_(), t.refreshClient(!0)
				},
				logoutCb: function() {
					session_helper_.clearToken_(), t.refreshClient(!0)
				}
			})
		}, t.isWeixinBrowser = function() {
			var t = navigator.userAgent.toLowerCase();
			return !!/micromessenger/.test(t)
		}, t.tryCheckOrder_$ = function(t, e) {
			ChargeMgr.getInstance().tryCharge_$(t, e)
		}, t.tryGuestBind = function() {
			if (G()) {
				if ("iOS" === egret.Capabilities.os && parseInt(GlobalValue.AppVersionInfo.build) <= GlobalValue.AppMinBuildConfig.iOS.bindGeustTips) return void UIManager.open(iosBindTipsUI).then((function(t) {
					t.setData()
				}));
				JSNativeBridge.getInstance().call("tryGuestBind")
			}
		}, t.timeFormatWithChinese_$ = function(t, e, n) {
			void 0 === e && (e = ""), void 0 === n && (n = 3);
			var i = t / 60,
				r = i / 60,
				o = r / 24,
				u = e,
				a = [Math.floor(o) + "天", Math.floor(r) % 24 + "时", Math.floor(i) % 60 + "分", t % 60 + "秒"],
				h = 0;
			for (0 === Math.floor(o) && (h++, n++); h < n && a[h];) u += a[h], h++;
			return u
		}, t.deepCopyObj = function(t) {
			return JSON.parse(JSON.stringify(t))
		}, t.getUserAgent_$ = function() {
			var t = window.navigator.userAgent;
			return egret.log("userAgent: ", t), t.indexOf("MSIE") >= 0 ? GlobalValue.userAgentDict.IE : t.indexOf("Firefox") >= 0 ? GlobalValue.userAgentDict.FireFox : t.indexOf("Chrome") >= 0 ? GlobalValue.userAgentDict.Chrome : t.indexOf("Opera") >= 0 ? GlobalValue.userAgentDict.Opera : t.indexOf("Safari") >= 0 ? GlobalValue.userAgentDict.Safari : GlobalValue.userAgentDict.Other
		}, t.getClientOsType_$ = function() {
			var t = window.navigator.userAgent,
				e = t.indexOf("Android") > -1 || t.indexOf("Adr") > -1,
				n = !!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
			return e ? "android" : n ? "ios" : "windesktop"
		}, t.isInAPP = G, t.isAdApp = function() {
			return G() && "Android" === egret.Capabilities.os
		}, t.isIosApp = function() {
			return G() && "iOS" === egret.Capabilities.os
		}, t.isWxGame = function() {
			return egret.Capabilities.runtimeType === egret.RuntimeType.WXGAME
		}, t.isQQGame = function() {
			return egret.Capabilities.runtimeType === egret.RuntimeType.QQGAME
		}, t.isTTGame = function() {
			return egret.Capabilities.runtimeType === egret.RuntimeType.TTGAME
		}, t.isOppoH5 = function() {
			return "oppo_miniapp" === GlobalValue.appChannel
		}, t.isHuaweiH5 = function() {
			return "huawei_h5" === GlobalValue.appChannel
		}, t.isWeb = _, t.isMobileWeb = function() {
			return _() && egret.Capabilities.isMobile
		}, t.isMiniGame = S, t.getJsonFromUrlByVersion_$ = function(t, e, n) {
			var i = new egret.HttpRequest;
			i.responseType = egret.HttpResponseType.TEXT, i.open(t + "?v=" + Math.random(), egret.HttpMethod.GET), i.send(), i.addEventListener(egret.Event.COMPLETE, (function() {
				var t;
				try {
					t = JSON.parse(i.response), e.call(n, t)
				} catch (t) {
					egret.log(t)
				}
			}), this)
		}, t.getJsonFromUrl_$ = function(t, e, n) {
			var i = new egret.HttpRequest;
			i.responseType = egret.HttpResponseType.TEXT, i.open(t, egret.HttpMethod.GET), i.send(), i.addEventListener(egret.Event.COMPLETE, (function() {
				var t;
				try {
					t = JSON.parse(i.response), e.call(n, t)
				} catch (t) {
					egret.log(t)
				}
			}), this)
		}, t.progressShowPercent_$ = function(t, e) {
			return Math.min(100, t / e * 100).toFixed(1) + "%"
		}, t.refreshClient = I, t.reloadPage = function() {
			G() ? JSNativeBridge.getInstance().call("refreshGame") : location.reload()
		}, t.uiLive = x, t.O = y, t.openUIAndCall = y, t.O1 = L, t.openUIAndSetData = L, t.O2 = V, t.openUIOrCall = V, t.nextPowerOf2 = function(t) {
			var e = 0;
			if (t && !(t & t - 1)) return t;
			for (; t;) t >>= 1, e++;
			return 1 << e
		}, t.isAuthGuest = function() {
			if (G()) return LoginManager.getInstance().isGuestLogin;
			if ("SdkMgr" in window) try {
				return SdkMgr.getInst().ntExtendFunc({
					methodId: "getAuthType"
				}) === SdkMgr.NT_AUTH_NAME.NT_AUTH_NAME_GUEST
			} catch (t) {
				return !1
			}
			return !1
		}, t.getAppInfo = function() {
			G() ? native_net.getAppInfo() : S() && platform.deviceInfo().then((function(t) {
				var e = deviceInfo_parse.getParser().parse(t);
				h5screenAdapter.setDeviceInfo(e)
			})).catch((function(t) {
				console.warn("get app info fail")
			}))
		}, t.getCompressedTextureSizeAndInternalFormat = function(t) {
			var e = new Uint8Array(t);
			if (e.length < 5) return null;
			if (function(t) {
					return !(t.length < 4) && 68 === t[0] && 68 === t[1] && 83 === t[2] && 32 === t[3]
				}(e)) {
				var n = new Uint32Array(e.buffer, 0, 32),
					i = Math.max(1, Math.floor((n[4] + 3) / 4)),
					r = Math.max(1, Math.floor((n[3] + 3) / 4));
				return {
					width: o = n[8],
					height: u = n[9],
					textureWidth: 4 * i,
					textureHeight: 4 * r,
					format: 33779,
					data: new Uint8Array(e.buffer, n[1] + 4, i * r * 16),
					alpha: void 0
				}
			}
			if (function(t) {
					return !(t.length <= 52) && 80 === t[0] && 86 === t[1] && 82 === t[2] && 3 === t[3]
				}(e)) {
				i = (c = (n = new Uint32Array(e.buffer, 0, 13))[7]) / 4, r = (f = n[6]) / 4;
				var o = n[10],
					u = n[11],
					a = n[12] + 52,
					h = i * r * 8;
				return e.length > a + h ? {
					width: o,
					height: u,
					textureWidth: c,
					textureHeight: f,
					format: 35840,
					data: new Uint8Array(e.buffer, a, h),
					alpha: new Uint8Array(e.buffer, a + h + a, h)
				} : {
					width: o,
					height: u,
					textureWidth: c,
					textureHeight: f,
					format: 35840,
					data: new Uint8Array(e.buffer, a, h),
					alpha: void 0
				}
			}
			if (function(t) {
					return !(t.length < 16) && 80 === t[0] && 75 === t[1] && 77 === t[2] && 32 === t[3] && 49 === t[4] && 48 === t[5]
				}(e)) {
				var s = new Uint16Array(e.buffer, 0, 8);
				return i = (c = e[8] << 8 | e[9]) / 4, r = (f = e[10] << 8 | e[11]) / 4, o = s[6], u = s[7], a = 16, h = i * r * 8, e.length > a + h ? {
					width: o,
					height: u,
					textureWidth: c,
					textureHeight: f,
					format: 36196,
					data: new Uint8Array(e.buffer, a, h),
					alpha: new Uint8Array(e.buffer, a + h + a, h)
				} : {
					width: o,
					height: u,
					textureWidth: c,
					textureHeight: f,
					format: 36196,
					data: new Uint8Array(e.buffer, a, h),
					alpha: void 0
				}
			}
			if (function(t) {
					return !(t.length < 12) && 171 === t[0] && 75 === t[1] && 84 === t[2] && 88 === t[3] && 32 === t[4] && 49 === t[5] && 49 === t[6] && 187 === t[7] && 13 === t[8] && 10 === t[9] && 26 === t[10] && 10 === t[11]
				}(e)) return i = (c = (n = new Uint32Array(e.buffer, 0, 16))[9]) / 4, r = (f = n[10]) / 4, {
				width: o = n[13],
				height: u = n[14],
				textureWidth: c,
				textureHeight: f,
				format: n[7],
				data: new Uint8Array(e.buffer, 68, i * r * 16),
				alpha: void 0
			};
			if (function(t) {
					return !(t.length < 16) && 19 === t[0] && 171 === t[1] && 161 === t[2] && 92 === t[3]
				}(e)) {
				var c = e[7] | e[8] << 8 | e[9] << 16,
					f = e[10] | e[11] << 8 | e[12] << 16;
				return {
					width: o = e[5] << 8 | e[4],
					height: u = e[15] << 8 | e[14],
					textureWidth: c,
					textureHeight: f,
					format: 37812,
					data: new Uint8Array(e.buffer, 16),
					alpha: void 0
				}
			}
			return null
		}, t.isIE = function() {
			var t = window.navigator.userAgent;
			if (!t) return !1;
			var e = t.indexOf("MSIE ");
			if (e > 0) return parseInt(t.substring(e + 5, t.indexOf(".", e)), 10);
			if (t.indexOf("Trident/") > 0) {
				var n = t.indexOf("rv:");
				return parseInt(t.substring(n + 3, t.indexOf(".", n)), 10)
			}
			return !1
		}, t.callDelayFrames = function t(e, n, i) {
			0 !== i ? egret.callLater((function() {
				t(e, n, i - 1)
			}), this) : egret.callLater(e, n)
		}, t.getNpcIconSmall = function(t) {
			return "resource/assets/photo/" + (t = GlobalFunc.overlayr(t)) + ".png"
		}, t.openDropTips = function(t, e, n, i, r, o) {
			void 0 === i && (i = "确 认");
			var u = function(u) {
				u.setData(t, e, n, i, r, o)
			};
			return "DropTipUI" in window ? (LoginUIGroup.close(DropTips), LoginUIGroup.open("DropTipUI", u).then(u)) : LoginUIGroup.open(DropTips).then(u)
		}, t.fakeTouchCavas = function() {
			try {
				var t = document.querySelectorAll(".egret-player")[0]["egret-player"].canvas;
				if (t.userTyping) return;
				var e = document.createEvent("Event");
				e.initEvent("click", !0, !0), t.dispatchEvent(e)
			} catch (t) {
				egret.warn("fake touch cavas error")
			}
		}, t.setServerUiBtnVisible = function() {
			var t = LoginUIGroup.getInst(ServerUI);
			t && t.visible && t.setBtnsVisible()
		}, t.getWindowUrlParam = function(t) {
			var e = null;
			try {
				var n = new RegExp("(^|&)" + t + "=([^&]*)(&|$)"),
					i = window.getParentUrl ? window.getParentUrl() : location.href;
				if (i && -1 !== i.indexOf("?")) {
					var r = i.indexOf("?"),
						o = i.substr(r + 1).match(n);
					null != o && (e = decodeURIComponent(o[2]))
				}
			} catch (e) {
				egret.log("get url parm  " + t + " erro")
			}
			return e
		}, t.getQueryStringParameters = function() {
			return function(t) {
				for (var e = location.search.substr(1).split("&"), n = {}, i = 0; i < e.length; i++) {
					var r = e[i].split("="),
						o = decodeURIComponent(r[0]),
						u = decodeURIComponent(r[1]);
					if (void 0 === n[o]) n[o] = decodeURIComponent(u);
					else if ("string" == typeof n[o]) {
						var a = [n[o], decodeURIComponent(u)];
						n[o] = a
					} else n[o].push(decodeURIComponent(u))
				}
				return n
			}()
		}, t.getCurrentUrl = function() {
			return location.protocol + "//" + location.host + location.pathname
		}, t.getInMaintainTips = function() {
			return "当前服务器维护中，无法进入，敬请留意维护公告查看开服时间。"
		}, t.isPCWeiDuan = A, t.getPCWeiDuanVersion = function() {
			if (A) {
				var t = window.navigator.userAgent.toLowerCase(),
					e = /xyqh5\/([\d\.]+)/.exec(t);
				if (e && e[1]) return e[1]
			}
		}, t.showMaintainDropTips = function() {
			t.openDropTips(t.getInMaintainTips(), void 0, void 0, "查看公告", (function() {
				var t = function(t) {
					t.closeRefresh = !0
				};
				LoginUIGroup.open("ServerNoticeUI", t).then(t), LoginUIGroup.close(ServerUI), LoginUIGroup.close(DropTips), LoginUIGroup.close(DropTipUI)
			}), this)
		}, t.sendWeiDuanExtraInfo = function() {
			var e = {},
				n = egret.Capabilities.os;
			n = "iOS" === n ? "ios" : "Android" === n ? "ad" : "Unknown" === n ? "unk" : "pc", e.os = n, e.in_app = t.isInAPP(), login_net._e(e)
		}, t.checkIpCountry = function() {
			var t = new XMLHttpRequest;
			t.addEventListener("load", (function() {
				console.log(this.responseText);
				try {
					"CN" === JSON.parse(this.responseText).country && (GlobalValue.isInCN = !0)
				} catch (t) {
					egret.log(t)
				}
			})), t.open("GET", "https://who.nie.163.com/"), t.send()
		}, t.getChromeVersion = function() {
			var t = window.navigator.userAgent.match("Chrome/[0-9.]+");
			if (!t) return 0;
			var e = t[0].match(/\d+/g);
			return parseInt(e[0])
		}, t.IsNeteaseChannel = function() {
			return GlobalValue.appLoginChannel.length > 0 ? "netease" == GlobalValue.appLoginChannel : GlobalValue.appChannel.length > 0 && GlobalValue.appChannel.indexOf("netease") > -1
		}
	}(utils || (utils = {}));
var scene_view_utils;
! function(t) {
	var e, n, i;
	(i = t.REQSCENEUITYPE || (t.REQSCENEUITYPE = {}))[i.ENTRY_SCENE = 0] = "ENTRY_SCENE", i[i.TAP_GUAJI = 1] = "TAP_GUAJI", i[i.END_WAR = 2] = "END_WAR", (n = t.CLOSEMAINTYPE || (t.CLOSEMAINTYPE = {}))[n.START_WAR = 0] = "START_WAR", n[n.TAP_GUAJI = 1] = "TAP_GUAJI", (e = t.MOVE2NPCRESULTCODE || (t.MOVE2NPCRESULTCODE = {}))[e.INFOLLOW = 0] = "INFOLLOW", e[e.NOPATH = 1] = "NOPATH", e[e.OK = 2] = "OK"
}(scene_view_utils || (scene_view_utils = {}));
var SceneViewMgrBase = function(t) {
	function e() {
		var e = t.call(this) || this;
		return e.ctx = SceneStatusManager.getInstance().ctx, e.closeUICls = [], e.init(), e
	}
	return __extends(e, t), e.prototype.onSceneStatusChange = function(t) {
		var e = t.data;
		SceneStatusManager.isRealSceneStatus(e) ? this.changeToRealStatus(e) : this.changeToNotRealStatus(e)
	}, e.prototype.onTouchTapGuaji = function(t) {
		SceneStatusManager.getInstance().dispatchEvent(new SceneStatusEvent(SceneStatusEvent.STATUSCHANGE, this.sceneStatus)), this.reqSceneMainUI(scene_view_utils.REQSCENEUITYPE.TAP_GUAJI), this.touchGuaji()
	}, e.prototype.onWarStartInScene = function(t) {
		this.closeSceneMainUI(scene_view_utils.CLOSEMAINTYPE.START_WAR), this.onStartWar(t.data)
	}, e.prototype.onWarEndInScene = function(t) {
		this.reqSceneMainUI(scene_view_utils.REQSCENEUITYPE.END_WAR), this.onEndWar(t.data)
	}, e.prototype.onMySelfApperanceInfoUpdate = function(t) {
		var e = HeroMainManager.getInstance().getHeroShape(),
			n = HeroMainManager.getInstance().userId,
			i = this.ctx.getPlayer(n);
		i && (i.body = e.id, i.title = e.title, i.weapon = e.weapon, i.guanghuan = e.guanghuan, i.horse = e.horse, i.name = e.name)
	}, e.prototype.changeToRealStatus = function(t) {}, e.prototype.changeToNotRealStatus = function(t) {
		if (t !== this.sceneStatus) {
			var e = t === SceneStatus.GuaJi || t === SceneStatus.MainCity ? scene_view_utils.CLOSEMAINTYPE.TAP_GUAJI : scene_view_utils.CLOSEMAINTYPE.START_WAR;
			this.closeSceneMainUI(e)
		}
	}, e.prototype.onStartWar = function(t) {}, e.prototype.onEndWar = function(t) {}, e.prototype.onAddPlayer = function(t) {}, e.prototype.onPlayerExtraInfoCome = function(t) {}, e.prototype.onAddNPC = function(t) {}, e.prototype.onNPCInfoUpdate = function(t) {}, e.prototype.enterScene = function() {
		UIManager.WarPanel.addEventListener(WarEvent.START_WAR_EVENT, this.onWarStartInScene, this), UIManager.WarPanel.addEventListener(WarEvent.END_WAR_EVENT, this.onWarEndInScene, this), SceneStatusManager.getInstance().addEventListener(SceneStatusEvent.STATUSCHANGE, this.onSceneStatusChange, this), UIManager.getInst(MainUI).mainBottom.setHungFunction(this.onTouchTapGuaji, this), HeroMainManager.getInstance().addEventListener(HeroMainEvent.HEROAPPERANCEINFOUPDATE, this.onMySelfApperanceInfoUpdate, this), this.reqSceneMainUI(scene_view_utils.REQSCENEUITYPE.ENTRY_SCENE);
		var t = SceneStatusManager.getInstance();
		t.addEventListener(SceneStatusEvent.ADD_PLAYER, this.onAddPlayer, this), t.addEventListener(SceneStatusEvent.PLAYER_EXTRA_INFO, this.onPlayerExtraInfoCome, this), t.addEventListener(SceneStatusEvent.ADD_NPC, this.onAddNPC, this), t.addEventListener(SceneStatusEvent.UPDATE_NPC, this.onNPCInfoUpdate, this)
	}, e.prototype.exitScene = function() {
		UIManager.WarPanel.removeEventListener(WarEvent.START_WAR_EVENT, this.onWarStartInScene, this), UIManager.WarPanel.removeEventListener(WarEvent.END_WAR_EVENT, this.onWarEndInScene, this), SceneStatusManager.getInstance().removeEventListener(SceneStatusEvent.STATUSCHANGE, this.onSceneStatusChange, this), HeroMainManager.getInstance().removeEventListener(HeroMainEvent.HEROAPPERANCEINFOUPDATE, this.onMySelfApperanceInfoUpdate, this), UIManager.getInst(MainUI).mainBottom.clearHungFunction(), this.closeSceneMainUI(scene_view_utils.CLOSEMAINTYPE.TAP_GUAJI);
		var t = SceneStatusManager.getInstance();
		t.removeEventListener(SceneStatusEvent.ADD_PLAYER, this.onAddPlayer, this), t.removeEventListener(SceneStatusEvent.PLAYER_EXTRA_INFO, this.onPlayerExtraInfoCome, this), t.removeEventListener(SceneStatusEvent.ADD_NPC, this.onAddNPC, this), t.removeEventListener(SceneStatusEvent.UPDATE_NPC, this.onNPCInfoUpdate, this);
		for (var e = 0, n = this.closeUICls; e < n.length; e++) {
			var i = n[e];
			i && UIManager.close(i)
		}
	}, e.prototype.setSceneStatus = function(t) {
		this.sceneStatus = t
	}, e.prototype.selfMoveToNPC = function(t, e, n) {
		var i = this.ctx.getNpc(t);
		i && this.selfMoveTo(i.x, i.y, e, n)
	}, e.prototype.selfMoveTo = function(t, e, n, i) {
		var s = SceneStatusManager.getInstance().selfAvatar;
		if (s) {
			if (s.hasComponent("FollowleaderComponent")) return utils.MessageBox("#cFFDE27队伍中不可寻路"), scene_view_utils.MOVE2NPCRESULTCODE.INFOLLOW;
			var a = this.ctx.getMovePath(t, e, s.x, s.y);
			return a.length > 0 ? (s.walkAlongPath(a, MapGroup.PLAYER_MOVE_SPEED, n, i), scene_view_utils.MOVE2NPCRESULTCODE.OK) : (utils.MessageBox("#cFFDE27该位置当前无法到达"), scene_view_utils.MOVE2NPCRESULTCODE.NOPATH)
		}
	}, e
}(utils.SingletonClass);
__reflect(SceneViewMgrBase.prototype, "SceneViewMgrBase");
var SceneViewMgrDoNothing = function(t) {
	function e() {
		return null !== t && t.apply(this, arguments) || this
	}
	return __extends(e, t), e.prototype.init = function() {}, e.prototype.touchGuaji = function() {}, e.prototype.reqSceneMainUI = function() {}, e.prototype.closeSceneMainUI = function() {}, e
}(SceneViewMgrBase);
__reflect(SceneViewMgrDoNothing.prototype, "SceneViewMgrDoNothing");
var GlobalValue, ColorScheme;
! function(o) {
	var n, _, e, i = null;
	o.setConfig = function(o) {
		i = GlobalFunc.xahObjToMap(o)
	}, o.getCofig = function(o, n) {
		return i && i.get(o) ? i.get(o) : n
	}, o.RESCacheSizeOther = 209715200, o.RESCacheSizeIOS = 83886080, o.Black = color.Black, o.White = color.White, o.White0x = color.White0x, o.Grey = color.Grey, o.DarkBlue = color.Blue, o.DarkBlue0x = color.Blue0x, o.LightBlue = color.LightBlue, o.DarkGreen = color.Green, o.DarkGreen0x = color.Green0x, o.LightGreen = color.LightGreen, o.Red = color.Red, o.LightRed = color.LightRed, o.Yellow = color.Yellow, o.LightOrange = color.LightOrange, o.qualityDarkColors = [null, color.White, "#c75fD8f", "#c5cb8ff", "#cfe85ff", "#cff7d1e", "#cff314d", "#cffde27", "#cedddff"], o.qualityLightColors = [null, color.White, "#c088634", "#c077ad4", "#cbb46d0", "#cd7620c", "#cdd1d3a", "#cf6ff00", "#cdabeff"], o.qualityLightColors0x = [null, 7761565, 558644, 490196, 12273360, 14115340, 14490938, 16187136, 14335743], o.RarityLightColors = [color.White, color.PropLightGreen, color.PropLightBlue, color.PropLightPurple, color.PropLightOrange, color.PropLightRed, color.PropLightYellow, color.PropLightPlatium], o.RarityDarkColors = [color.White, color.PropGreen, color.PropBlue, color.PropPurple, color.PropOrange, color.PropRed, color.PropYellow, color.PropPlatium], o.Warm_Brown = color.Warm_Brown, o.Warm_LightBrown = color.Warm_LightBrown, o.Warm_Green = color.Warm_Green, o.Warm_LightGreen = color.Warm_LightGreen, o.StrokePx = 2, o.NameStrokeBlue = 1850477, o.NameStrokeRed = 7083538, o.NameStrokeGreen = 2442027, o.NameStrokeGrey = 4670275, o.ShadowPx = 2, o.NameShadowColor = 1843737, o.NameBlue = 8113919, o.NameRed = 16726072, o.NameGreen = 7732623, o.NameWhite = 16777215, o.Font = "Microsoft YaHei", o.ZhongWenNumber = ["零", "一", "二", "三", "四", "五", "六", "七", "八", "九", "十", "十一", "十二", "十三", "十四", "十五", "十六", "十七", "十八", "十九", "二十", "二十一", "二十二", "二十三", "二十四", "二十五"], o.EquipPartNameMale = ["", "戒指", "耳饰", "头盔", "武器", "腰带", "佩饰", "手镯", "饰物", "铠甲", "靴子", "法宝"], o.EquipPartNameFemale = ["", "戒指", "耳饰", "头饰", "武器", "腰带", "佩饰", "手镯", "饰物", "女衣", "靴子", "法宝"], o.EquipPartIcon = ["", "img_role_ring_bg_png", "img_role_earrings_bg_png", "img_role_hat_bg_png", "img_role_weapons_bg_png", "img_role_belt_bg_png", "img_role_acc_bg_png", "img_role_bracelet_bg_png", "img_role_necklace_bg_png", "img_role_clothes_bg_png", "img_role_shoes_bg_png"], o.ItemQualityColor = [16777215, 16777215, 7732623, 6076671, 16086525, 16640117, 16738151], o.RankIcon = ["", "icon_tone_png", "icon_ttwo_png", "icon_tthree_png"], o.JinyiPartIcon = ["", "frame_jinyi_zuoqi_png", "frame_jinyi_fazhen_png", "frame_jinyi_wuqi_png", "frame_jinyi_jinyi_png"], o.MagicTreasureDeaultIcon = "bg_fabao_fabaokuangkong_png", o.CurActivity = null, o.logLevel = 1, o.guajiMap = null, o.Auto = 1, o.unAuto = 0, o.officialWebsiteUrl = "https://xyqh5.163.com", o.LoginChannel = 2, o.InnerTest = !1, o.InnerBranch = "unknown", o.topPannelZConfig = {
		AchievementGotShowUI: 99,
		LuckyBigRewardShowUI: 100,
		MainBottomTipsUI: 150,
		DrawAnim: 300,
		DrawAnimAsi: 305,
		HeroGradeUpUI: 400,
		VictoryDefeatUI: 500,
		GamePlayOpenUI: 501,
		ZhaoXianGeResultUI: 502,
		ActivationUI: 503,
		UIWhenShare: 504,
		MallAward: 600,
		ItemTipsUI: 601,
		DressItemTipsUI: 601,
		EquipTipsUI: 602,
		CardTipsUI: 603,
		MagicTreasureTipsUI: 604,
		RenameBoxUI: 654,
		ConfirmBoxUI: 655,
		DropTipUI: 656,
		DropReconnectingUI: 657,
		NumberInputUI: 700,
		BulletScreen: 9e3,
		LevelUp: 9999,
		MessageItem: 1e4,
		FightPowerItem: 10001,
		JadeAnimi: 10002,
		LaunchingPosterUI: 10003,
		MainUiInputWidget: 10098,
		ChatExt: 200,
		ChatExtUI: 201,
		ChatEmotesUI: 202,
		VoiceRecordingUI: 203,
		JubaoUI: 204,
		SettingsAutoVoiceUI: 210,
		ChatDisplayUI: 211
	}, o.PrgDurationDefault = 100, o.PrgDurationToZero = 250, o.AutoTime = 200, o.AutoFailProtNumber = 289, (e = o.AutoState || (o.AutoState = {}))[e.AutoBuying = 1] = "AutoBuying", e[e.Stoping = 2] = "Stoping", o.BtnAutoUpReferNum = 50, o.YingLiangObjID = 1e4, o.JingyuObjID = 10001, o.XianyuObjID = 10002, o.ExpObjID = 10007, (_ = o.AwardState || (o.AwardState = {}))[_.CANNOT_GET = 1] = "CANNOT_GET", _[_.CAN_GET = 2] = "CAN_GET", _[_.GOT = 3] = "GOT", (n = o.Property || (o.Property = {}))[n.POS = 0] = "POS", n[n.NAME = 1] = "NAME", n[n.SOURCE = 2] = "SOURCE", n[n.RARITY = 3] = "RARITY", n[n.DESC = 4] = "DESC", o.DesignW = 720, o.DesignH = 1280, o.PropertyNum = 24, o.CommonProperty = {
		1: [1, "气血", "icon_sx_shengming_png", 0, ""],
		2: [2, "防御", "icon_sx_fangyu_png", 0, ""],
		3: [3, "法防", "icon_sx_fafang_png", 0, ""],
		4: [4, "伤害", "icon_sx_shanghai_png", 0, ""],
		5: [5, "法伤", "icon_sx_fagong_png", 0, ""],
		6: [6, "速度", "icon_sx_sudu_png", 0, ""],
		7: [7, "命中", "icon_sx_mingzhong_png", 1, ""],
		8: [8, "必杀", "icon_sx_bisha_png", 2, "提升物理暴击概率"],
		9: [9, "法爆", "icon_sx_fabao_png", 2, "提升法术暴击概率"],
		10: [10, "穿刺", "icon_sx_chuanci_png", 0, "无视对方防御、法防，造成额外伤害"],
		11: [11, "闪避", "icon_sx_shanbi_png", 1, ""],
		12: [12, "抗必", "icon_sx_kangbi_png", 2, "降低受到物理暴击的概率"],
		13: [13, "抗爆", "icon_sx_kangbao_png", 2, "降低受到法术暴击的概率"],
		14: [14, "格挡", "icon_sx_gedang_png", 0, "抵挡穿刺效果"],
		15: [15, "流沙", "icon_sx_liusha_png", 0, "有一定概率使对方进入“流沙”状态，处于该状态，降低5点速度，持续2回合，可叠加。"],
		16: [16, "冰冻", "icon_sx_bingdong_png", 0, "有一定概率使对方进入“冰冻”状态，使目标眩晕，下回合无法行动，持续2回合，可叠加。"],
		17: [17, "风暴", "icon_sx_fengbao_png", 0, "有一定概率使对方进入“风暴”状态，处于该状态的目标受到攻击时，必定触发暴击，持续2回合，可叠加。"],
		18: [18, "怒雷", "icon_sx_nulei_png", 0, "有一定概率使对方进入“怒雷”状态，处于该状态，降低1%攻击能力，持续2回合，可叠加。"],
		19: [19, "心火", "icon_sx_xinhuo_png", 0, "有一定概率使对方进入“心火”状态，攻击处于该状态单位，附加1%吸血效果，持续2回合，可叠加。"],
		20: [20, "幸运", "icon_sx_xingyun_png", 0, "降低进入流沙、心火、冰冻、怒雷、风暴状态的概率。"],
		21: [21, "重击", "icon_sx_zhongji_png", 0, "有一定概率重击，伤害提升20%，并使目标下次攻击造成的伤害降低50%"],
		22: [22, "化解", "icon_sx_huajie_png", 0, "降低敌人的重击触发概率。"],
		23: [23, "会心", "icon_sx_huixin_png", 0, "有一定概率会心攻击，造成的伤害提升100%"],
		24: [24, "神明", "icon_sx_shenming_png", 0, "降低敌人的会心触发概率。"],
		0: [0, "", ""]
	}, o.devId = "", o.objectSubKindNameMapping = {
		0: "物品",
		1: "宝箱",
		2: "选择宝箱",
		3: "房屋",
		4: "伙伴"
	}, o.characterLevelLimit = 500, o.rpFixA_x = 7, o.rpFixA_y = 7, o.cntAvatar_scale = 1.25, o.delayAttrFx = 50, o.userAgentDict = {
		IE: 0,
		Chrome: 1,
		FireFox: 2,
		Safari: 3,
		Opera: 4,
		Other: 5
	}, o.LoginProts = [1, 2, 3, 22, 34, 167, 168, 270, 272, 298, 16068, 16071, 16005, 16104, 16106, 325, 11008], o.clientVersion = function() {
		return egret.runEgretOptionsIns.config.version || "0.1.0"
	};
	var r = "",
		c = "",
		a = "",
		g = "",
		l = "";
	o.setAppInfo = function(o, n, _, e, i) {
		r = o, c = n, a = _, g = e || "", l = void 0 === i ? "unknow" : 1 === i ? "allow" : "reject"
	}, o.getAppInfo = function() {
		return {
			device_model: r,
			os_name: c,
			os_ver: a,
			oaid: g,
			phone_st: l
		}
	}, o.appSdkLoginWaitTimeIfNeed = {
		uc_platform: 2e3
	}, o.gameVersion = 0, o.runningMaintain = !1, o.appChannel = "", o.appLoginChannel = "", o.versionCheckOk = !1, o.openDelay = -1, o.TextureFormatPNG = 0, o.TextureFormatDDS = 1, o.TextureFormatKTX = 2, o.TextureFormatPVR = 3, o.TextureFormatPKM = 4, o.TextureFormatASTC = 5, o.compressedTextureFormatSupport = "", o.compressedTextureFormat = o.TextureFormatPNG, o.ResMappingExt = ["res", "res_dds", "res_ktx", "res_pvr", "res_pkm", "res_astc"], o.gameJsLoaded = !1, o.delayJsLoaded = !1, o.resourceLoaded = !1, o.unisdkLoaded = !1, o.resourceConfigLoaded = !1, o.AppMinBuildConfig = {
		iOS: {
			default: 100002,
			share: 100002,
			bindGeustTips: 100006,
			powerSave: 100010
		},
		Android: {
			default: 10002,
			share_101: 10002,
			share_102: 10002,
			share_103: 10002,
			share_104: 10002,
			share_105: 10003,
			share_106: 10003,
			share_100: 10003,
			dynamicPermissions: 10004,
			powerSave: 10006,
			goodscart: 10006
		},
		Android_branch: {
			default: 10005,
			powerSave: 10006,
			goodscart: 10006,
			share_103: 999999999,
			share_104: 999999999
		}
	}, o.defualtAdPackageName = "com.netease.xyh5", o.AppVersionInfo = {}, o.isEmulator = !1, o.UIBGRectAlpha = .7, o.isInCN = !0, o.RankRes = ["", "icon_rank_one_png", "icon_rank_two_png", "icon_rank_three_png"], o.noticeTestIdx = -1, o.monitorWeaponId = 30017
}(GlobalValue || (GlobalValue = {})),
function(o) {
	o[o.Light = 0] = "Light", o[o.Dark = 1] = "Dark", o[o.Festival = 2] = "Festival"
}(ColorScheme || (ColorScheme = {}));
var AndroidPermissions = {
	READ_PHONE_STATE: "android.permission.READ_PHONE_STATE",
	WRITE_EXTERNAL_STORAGE: "android.permission.WRITE_EXTERNAL_STORAGE"
};
var CallLater = function() {
	function t(t, i, s, h) {
		this.timer = setTimeout((function() {
			i.apply(h, s)
		}), t)
	}
	return t.prototype.cancel = function() {
		clearTimeout(this.timer)
	}, t
}();
__reflect(CallLater.prototype, "CallLater");
var Countdown = function() {
	function t(t, i, s, h) {
		this.label = t, this.$callback = i, this.$args = s, this.$thisObject = h, this.$passTime = 0
	}
	return Object.defineProperty(t.prototype, "passTime", {
		get: function() {
			return this.$passTime
		},
		enumerable: !0,
		configurable: !0
	}), t.prototype.start = function(t, i) {
		void 0 === i && (i = "hh:mm:ss"), this.$leftTime = t, this.$format = i, this.label.text = GlobalFunc.timeFormatByDay(t, this.$format), this.$timer && this.$timer.stop(), t <= 0 ? this.label.visible = !1 : (this.$timer = new CallManyTimes(this.$leftTime, 1e3, this.countdown, [], this), this.$timer.start())
	}, t.prototype.stop = function() {
		this.$timer && this.$timer.stop(), this.$passTime = 0
	}, t.prototype.countdown = function() {
		if (this.$timer) {
			if (this.$leftTime <= 1) return this.$callback && this.$callback.apply(this.$thisObject, this.$args), void this.stop();
			this.$leftTime--, this.$passTime++, this.label.text = GlobalFunc.timeFormatByDay(this.$leftTime, this.$format)
		}
	}, t
}();
__reflect(Countdown.prototype, "Countdown");
var CallManyTimes = function() {
	function t(t, i, s, h, e) {
		this.maxCount = t, this.interval = i, this.func = s, this.args = h, this.thisObject = e, this.$cur = new FixedTimer(i, t), this.count = this.maxCount, this.$status = "stop"
	}
	return Object.defineProperty(t.prototype, "status", {
		get: function() {
			return this.$status
		},
		enumerable: !0,
		configurable: !0
	}), t.prototype.countDown = function(t) {
		if (!(this.count <= 0)) {
			this.count = this.count - 1;
			var i = [];
			this.args && this.args.forEach((function(t) {
				i.push(t)
			}));
			var s = Date.now() - this.$startTime,
				h = utils.getRestCount(this.maxCount, s, this.interval);
			i.push(h), i.push(s), this.func && this.func.apply(this.thisObject, i), h <= 0 && (this.count = 0)
		}
	}, t.prototype.start = function() {
		this.$cur.addEventListener(egret.TimerEvent.TIMER, this.countDown, this), this.$startTime = Date.now(), this.$cur.start(), this.$status = "start"
	}, t.prototype.reset = function() {
		this.count = this.maxCount, this.$cur.reset(), this.$status = "stop"
	}, t.prototype.stop = function() {
		this.$cur.removeEventListener(egret.TimerEvent.TIMER, this.countDown, this), this.$cur.stop(), this.$status = "stop"
	}, t.prototype.cancel = function() {
		this.$cur && this.$cur.stop(), this.$status = "stop"
	}, t.prototype.restart = function() {
		this.reset(), this.start()
	}, t
}();
__reflect(CallManyTimes.prototype, "CallManyTimes");
var FixedTimmerEvent = function(t) {
	function i(i, s) {
		return t.call(this, i, !1, !1, s) || this
	}
	return __extends(i, t), i.TIMER = "TIMER", i.TIMER_COMPLETE = "TIMER_COMPLETE", i
}(egret.Event);
__reflect(FixedTimmerEvent.prototype, "FixedTimmerEvent");
var FixedTimer = function(t) {
	function i(i, s) {
		void 0 === s && (s = 0);
		var h = t.call(this) || this;
		return h._delay = 0, h._currentCount = 0, h._running = !1, h.lastTimeStamp = 0, h.delay = i, h.repeatCount = 0 | +s, h
	}
	return __extends(i, t), Object.defineProperty(i.prototype, "delay", {
		get: function() {
			return this._delay
		},
		set: function(t) {
			t < 1 && (t = 1), this._delay != t && (this._delay = t)
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "currentCount", {
		get: function() {
			return this._currentCount
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "running", {
		get: function() {
			return this._running
		},
		enumerable: !0,
		configurable: !0
	}), i.prototype.reset = function() {
		this.stop(), this._currentCount = 0
	}, i.prototype.start = function() {
		this._running || (this.lastTimeStamp = egret.getTimer(), egret.ticker.$startTick(this.$update, this), this._running = !0)
	}, i.prototype.stop = function() {
		this._running && (egret.stopTick(this.$update, this), this._running = !1)
	}, i.prototype.$update = function(t) {
		if (!(t - this.lastTimeStamp < this._delay)) {
			this.lastTimeStamp += this._delay, this._currentCount++;
			var i = this.repeatCount > 0 && this._currentCount >= this.repeatCount;
			return egret.TimerEvent.dispatchTimerEvent(this, egret.TimerEvent.TIMER), i && (this.stop(), egret.TimerEvent.dispatchTimerEvent(this, egret.TimerEvent.TIMER_COMPLETE)), !1
		}
	}, i
}(egret.EventDispatcher);
__reflect(FixedTimer.prototype, "FixedTimer");
var AutoUpgradeTimer = function(t) {
	function i(i, s, h, e, n, r) {
		void 0 === n && (n = ""), void 0 === r && (r = GlobalValue.AutoTime);
		var u = t.call(this, r, 0) || this;
		return u.$isAuto = !1, u.$base = i, u.$protMark = String(n), u.$c2sFunc = s, u.$onFunc = h, u.$offFunc = e, u.addEventListener(egret.TimerEvent.TIMER, u.onAutoUp, u), u
	}
	return __extends(i, t), i.prototype.onTouchAutoBtn = function() {
		this.setAuto(!this.$isAuto)
	}, i.prototype.close = function() {
		this.setAuto(!1), this.reset()
	}, i.prototype.onAutoUp = function() {
		this.$base && this.$c2sFunc && this.$c2sFunc.apply(this.$base)
	}, i.prototype.onFail = function(t) {
		var i = "";
		t.data[0] && (i = String(t.data[0].type)), "" !== this.$protMark && this.$protMark !== i || this.setAuto(!1)
	}, i.prototype.stopAutoUp = function() {
		this.setAuto(!1)
	}, i.prototype.setAuto = function(t) {
		this.$isAuto = t, t ? (this.start(), this.$onFunc && this.$base && this.$onFunc.apply(this.$base), this.onAutoUp(), ProtDispatcher.getInstance().sv(GlobalValue.AutoFailProtNumber, this.onFail, this)) : (this.reset(), this.$offFunc && this.$base && this.$offFunc.apply(this.$base), ProtDispatcher.getInstance().uv(GlobalValue.AutoFailProtNumber, this.onFail, this))
	}, i
}(FixedTimer);
__reflect(AutoUpgradeTimer.prototype, "AutoUpgradeTimer");
var LoginEvent = function(e) {
	function t(t, n) {
		return e.call(this, t, !1, !1, n) || this
	}
	return __extends(t, e), t.ServerListUpdate = "ServerListUpdate", t.LOGINSUCCESS = "LoginSuccess", t.ReconnectResult = "ReconnectSuccess", t.SDKUserInfoUpdate = "SDKUserInfoUpdate", t.SDKUserCenterNotification = "SDKUserCenterNotification", t.GameReset = "GameReset", t
}(egret.Event);
__reflect(LoginEvent.prototype, "LoginEvent");
var LoginState = function() {
	function e() {}
	return e.WAITING_SERVERLIST = "WaitingServerList", e.WAITING_GATECONNECT = "WaitingGateConnect", e.WAITING_SDKLOGIN = "WaitingSDKLogin", e.WAITING_LOGINAUTHEN = "WaitingLoginAuthen", e.GAMING = "Gaming", e
}();
__reflect(LoginState.prototype, "LoginState");
var LoginTransitionEvent = function(e) {
	function t(t, n) {
		return e.call(this, t, !1, !1, n) || this
	}
	return __extends(t, e), t.GET_SERVER_LIST = "GetServerList", t.GATE_CONNECTION = "GateConnection", t.SDK_LOGIN = "SDKLogin", t.SERVER_CONNECTION = "ServerConnection", t.GAME_RESET = "GameReset", t.SDK_LOGOUT = "SDKLogout", t.RE_SDK_LOGIN = "ReSDKLogin", t
}(egret.Event);
__reflect(LoginTransitionEvent.prototype, "LoginTransitionEvent");
var TimeOutHelper = function(e) {
	function t() {
		return null !== e && e.apply(this, arguments) || this
	}
	return __extends(t, e), t.getInst = function() {
		return this._instance || (this._instance = new t), this._instance
	}, Object.defineProperty(t.prototype, "waitingEvent", {
		get: function() {
			return this.$expectedProt
		},
		enumerable: !0,
		configurable: !0
	}), t.prototype.entrustEvent = function(e, n, i) {
		var r = this;
		this.$timer && this.$timer.cancel(), (i = i || t.TimeOutMSecond) > 0 && (this.$expectedProt = n, this.$timer = new CallLater(i, (function() {
			r.$expectedProt = 0, LoginManager.getInstance().lsm.dispatchEvent(e), utils.MessageBox("#cFFDE27请求超时"), egret.log("协议" + n + "请求超时！")
		}), null, null))
	}, t.prototype.cancelEntrust = function(e, t) {
		void 0 === t && (t = !1), (e === this.$expectedProt || t) && (this.$timer && (this.$timer.cancel(), this.$timer = null), this.$expectedProt = 0)
	}, t.TimeOutMSecond = 1e4, t
}(egret.EventDispatcher);
__reflect(TimeOutHelper.prototype, "TimeOutHelper");
var LoginManager = function(e) {
	function t() {
		var t = null !== e && e.apply(this, arguments) || this;
		return t.$serverInfo = null, t.$playerInfo = null, t.$retryInterval = 2e3, t.$retryTotalChances = 15, t.$retryTimeoutSeconds = 18e4, t.isServerKick = !1, t
	}
	return __extends(t, e), Object.defineProperty(t.prototype, "serverList", {
		get: function() {
			return this.$serverList
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "serverInfo", {
		get: function() {
			return this.$serverInfo
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "playerInfo", {
		get: function() {
			return this.$playerInfo
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "loginState", {
		get: function() {
			return this.$lsm && this.$lsm.currState ? this.$lsm.currState.name : null
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "sauthJson", {
		get: function() {
			return this.$sauthJson
		},
		set: function(e) {
			this.$sauthJson = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "sdkLoginJson", {
		get: function() {
			return this.$sdkLoginJson
		},
		set: function(e) {
			this.$sdkLoginJson = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "userInfo", {
		get: function() {
			return this.$userInfo
		},
		set: function(e) {
			this.$userInfo = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "lsm", {
		get: function() {
			return this.$lsm
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(t.prototype, "autoSDKLogin", {
		get: function() {
			return this.$autoSDKLogin
		},
		set: function(e) {
			this.$autoSDKLogin = e
		},
		enumerable: !0,
		configurable: !0
	}), t.prototype.retryTimerPause = function() {
		this.$retryTimer && this.$retryTimer.stop()
	}, t.prototype.retryTimerResume = function() {
		this.$retryTimer && this.$retryTimer.start()
	}, t.getInstance = function() {
		return t.$instance || (t.$instance = new t), t.$instance
	}, t.prototype.initLoginUI = function() {
		return 0 === GlobalValue.LoginChannel ? LoginUIGroup.open(LoginInnerUI) : LoginUIGroup.open(ServerUI)
	}, t.prototype.WaitingServerlistEnter = function(e) {
		LoginUIGroup.open(LoginBackGroundUI), 0 === GlobalValue.LoginChannel ? (LoginUIGroup.open(LoginInnerUI).catch((function() {})), utils.isMiniGame() && JSNativeBridge.getInstance().call("loginUILoad")) : LoginUIGroup.open(ServerUI).then((function(e) {
			e.changeForm(!1)
		})), this.$lsm.doAction(), HubbleHelper_.collectTrans("waiting_serverlist")
	}, t.prototype.WaitingServerlistAction = function(e) {
		var t = this;
		this.$requestTimes = 0;
		var n = function() {
			utils.openDropTips("服务器列表获取失败")
		};
		! function() {
			t.$requestTimes += 1;
			var e = new egret.HttpRequest;
			e.responseType = egret.HttpResponseType.TEXT, e.open(egret.runEgretOptionsIns.config.serverlist + "?v=" + Math.random(), egret.HttpMethod.GET), e.send(), e.addEventListener(egret.Event.COMPLETE, (function() {
				var i;
				try {
					i = JSON.parse(e.response)
				} catch (e) {
					egret.log(e)
				}
				if (i && "serverlists" in i) {
					if (t.serverListUpdate(i), GlobalValue.runningMaintain = i.running_maintain || !1, GlobalValue.gameVersion = i.version || 0, t.isServerlistMatch(i.running_maintain, i.version)) {
						var r = new LoginTransitionEvent(LoginTransitionEvent.GET_SERVER_LIST, {
							result: !0,
							data: i
						});
						t.$lsm.dispatchEvent(r)
					}
				} else n()
			}), t), e.addEventListener(egret.IOErrorEvent.IO_ERROR, (function() {
				n()
			}), t)
		}()
	}, t.prototype.WaitingGateConnectenter = function(e) {
		this.$requestTimes = 0, this.isServerKick = !1, this.$lsm.doAction(), HubbleHelper_.collectTrans("waiting_gate")
	}, t.prototype.WaitingGateConnectAction = function(e) {
		var t = this;
		this.$requestTimes += 1;
		var n = function(e) {
				if (!0 === e.data) {
					if (t.$requestTimes > 3) return void utils.showMaintainDropTips();
					egret.log("#R连接不上网关！重试中！"), WebSocketManger.removeListener(WebSocketEvent.OPEN, i, t), egret.setTimeout((function() {
						t.$lsm.doAction()
					}), t, 5e3)
				}
			},
			i = function(e) {
				egret.log("#cFFDE27已连接网关！"), WebSocketManger.removeListener(WebSocketEvent.CLOSE, n, t), WebSocketManger.removeListener(WebSocketEvent.ERROR, n, t);
				var i = new LoginTransitionEvent(LoginTransitionEvent.GATE_CONNECTION, {
					result: !0
				});
				t.$lsm.dispatchEvent(i)
			};
		WebSocketManger.addOnce(WebSocketEvent.OPEN, i, this), WebSocketManger.addOnce(WebSocketEvent.CLOSE, n, this), WebSocketManger.addOnce(WebSocketEvent.ERROR, n, this), WebSocketManger.getInstance().reConnectSocket(egret.runEgretOptionsIns.config.gate.ip, egret.runEgretOptionsIns.config.gate.port)
	}, t.prototype.WaitingSDKLoginEnter = function(e) {
		var n = this;
		if (this.isSdkLoginIng = !1, utils.isMiniGame()) {
			if (0 === GlobalValue.LoginChannel ? (egret.localStorage.setItem("accept_protocol", "true"), LoginUIGroup.open(LoginInnerUI).catch((function() {})), LoginUIGroup.close(ServerUI)) : LoginUIGroup.open(ServerUI).then((function(e) {
					e.changeForm(!1)
				})), "ServerNoticeUI" in window && LoginUIGroup.close(ServerNoticeUI), 0 !== GlobalValue.LoginChannel && !this.sdkLoginFailed && (!utils.isInAPP() || this.$autoSDKLogin))
				if (GlobalValue.appSdkLoginAllowTime) {
					var i = (new Date).getTime(),
						r = GlobalValue.appChannel && GlobalValue.appChannel in GlobalValue.appSdkLoginWaitTimeIfNeed ? GlobalValue.appSdkLoginWaitTimeIfNeed[GlobalValue.appChannel] : 0;
					r = r -= i > GlobalValue.appSdkLoginAllowTime ? i - GlobalValue.appSdkLoginAllowTime : 0, console.log("auto ntlogin: callLater, delay =", r), utils.callLater(r, (function() {
						console.log("do auto sdk login"), n.$lsm.doAction(n.$urs)
					}))
				} else console.log("do auto sdk login"), this.$lsm.doAction(this.$urs)
		} else utils.isInAPP() ? (LoginUIGroup.open(ServerUI).then((function(e) {
			egret.log("isFirstLogin:" + n.isFirstLogin), e.changeForm(n.isFirstLogin)
		})), !this.isFirstLogin && this.$autoSDKLogin && this.$lsm.doAction()) : (channel_logic_netease_web.setLoginType(!1), channel_logic_netease_web.getLocalAccount().then((function(e) {
			e.accounts && e.accounts.length ? LoginUIGroup.open(ServerUI).then((function(e) {
				e.changeForm(!1), t.getInstance().sdkLoginFailed || t.getInstance().lsm.doAction()
			})) : LoginUIGroup.open(ServerUI).then((function(e) {
				e.changeForm(!0), HubbleHelper_.collectTrans("guest_loginui_shown", !1)
			}))
		})));
		this.sdkLoginFailed = !1, this.$autoSDKLogin = !0, HubbleHelper_.collectTrans("sdk_login")
	}, t.prototype.WaitingSDKLoginAction = function(e) {
		var t = this;
		this.isSdkLoginIng = !0;
		var n = session_helper_.getSession_();
		if (n) return this.isStartingTokenLogin = !0, void(0 === GlobalValue.LoginChannel ? login_net.pe(["", n]) : login_net.Me("", n));
		if (this.isStartingTokenLogin = !1, HubbleHelper_.collectTrans("start_sdk_login", !1), 0 === GlobalValue.LoginChannel) {
			var i = egret.localStorage.getItem("RecentAccountList"),
				r = i ? JSON.parse(i) : [];
			for (r.indexOf(e) < 0 && r.push(e); r.length > 5;) r.shift();
			egret.localStorage.setItem("RecentAccountList", JSON.stringify(r)), login_net.pe([e, ""]), this.$urs = e
		} else 1 === GlobalValue.LoginChannel ? JSNativeBridge.getInstance().call("loginRequest", [e]) : 2 === GlobalValue.LoginChannel && SdkMgr.getInst().ntLogin().then((function() {
			if (HubbleHelper_.collectTrans("ntLogin_then", !1), !egret.lifecycle.isActivate)
				for (var e = 0, n = egret.lifecycle.contexts; e < n.length; e++) n[e].resume();
			var i = SdkMgr.getInst().getProp(SdkMgr.ConstProp.APP_CHANNEL);
			if ("netease" == i) {
				if (!SdkMgr.getInst().isLogin()) return
			} else if ("360h5" == i && "0" == SdkMgr.getInst().getProp(SdkMgr.ConstProp.UID)) return;
			var r = SdkMgr.getInst().getProp(SdkMgr.ConstProp.SAUTH_JSON);
			if (r) {
				"netease" === GlobalValue.appLoginChannel && (r.platform = "web", SdkMgr.getInst().setPropStr(SdkMgr.ConstProp.PLATFORM, "web"), SdkMgr.getInst().setPropStr(SdkMgr.ConstProp.PAY_CHANNEL, "netease")), HubbleHelper_.collectTrans("get_sdk_sauth", !1), ClientLogHelper_.getInst().sendLog("Identification", {
					account_id: ClientLogHelper_.getInst().getAccountId()
				});
				var o = function() {
						r.is_auth_guest = utils.isAuthGuest(), t.$sauthJson = JSON.stringify(r), login_net.Me(t.$sauthJson), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SDK_LOGIN, {
							result: !1
						}), 50187)
					},
					s = egret.localStorage.getItem("accept_protocol");
				s && "true" === s ? o() : t.showWebCompact(!1).then((function(e) {
					e.code !== SdkMgr.PROTOCOL_RESULT.REJECT ? (egret.localStorage.setItem("accept_protocol", "true"), o()) : utils.tryLogout()
				}))
			}
		}))
	}, t.prototype.WaitingSDKLoginLeave = function(e) {
		this.isSdkLoginIng = !1
	}, t.prototype.WaitingLoginAuthenEnter = function(e) {
		var n = this;
		HubbleHelper_.collectTrans("waiting_auth"), this.$hasReConnectedGameServer = !1, 0 == GlobalValue.LoginChannel && LoginUIGroup.close(LoginInnerUI), LoginUIGroup.open(LoginBackGroundUI), this.startServerListRefresh();
		var i = "web";
		if (1 === GlobalValue.LoginChannel) try {
			i = JSON.parse(t.getInstance().sauthJson).platform
		} catch (e) {
			egret.log(e)
		} else 2 === GlobalValue.LoginChannel && (i = SdkMgr.getInst().getProp(SdkMgr.ConstProp.PLATFORM));
		if (this.platform = i, 0 !== this.$recentServerLst.length) LoginUIGroup.open(ServerUI).then((function(e) {
			if (e.grpNoLogin.visible = !1, egret.localStorage.getItem("LastQueueServerId")) n.setChoosenServer(Number(egret.localStorage.getItem("LastQueueServerId")));
			else if (n.$recentServerLst.length > 0) {
				var t = void 0;
				if (1 === GlobalValue.LoginChannel) {
					for (var i = 0, r = n.$recentServerLst; i < r.length; i++)
						if ((a = r[i]).hostid in n.$serverList) {
							t = a;
							break
						}
				} else
					for (var o = 0, s = n.$recentServerLst; o < s.length; o++) {
						var a;
						if ((a = s[o]).hostid in n.$serverList) {
							t = a;
							break
						}
					}
				var u = egret.localStorage.getItem("SwitchClentServerId");
				u && parseInt(u) in n.$serverList ? (egret.localStorage.removeItem("SwitchClentServerId"), n.setChoosenServer(parseInt(u))) : t && n.setChoosenServer(Number(t.hostid), !1, !0)
			}
			utils.getJsonFromUrlByVersion_$(egret.runEgretOptionsIns.config.announcement, (function(e) {
				! function(e) {
					if (e.announcement && NoticeUI.checkHasNewAnnouncement(e.announcement).toString() !== egret.localStorage.getItem("announcement")) {
						var t = LoginUIGroup.getInst(ServerUI);
						t && t.visible && (t.Notice.point.visible = !0)
					}
				}(e)
			}), n)
		}));
		else {
			var r = this.findServerInfobyHostid(this.findMostRecentRecommendServer()),
				o = !!r;
			r = r || this.findServerInfobyHostid(this.findNewestServer()), LoginUIGroup.close(ServerUI);
			var s = function(e) {
				HubbleHelper_.collectTrans("norole_ui_shown", !1), e.setServer(r ? JSON.parse(JSON.stringify(r)) : null, o), e.setServerData(n.$serverList)
			};
			LoginUIGroup.open("NewRoleUI", s).then(s)
		}
	}, t.prototype.WaitingLoginAuthenAction = function(e) {
		var t = this;
		if (e && !TimeOutHelper.getInst().waitingEvent) {
			var n = e.gate_ids,
				i = WebSocketManger.getInstance();
			if (this.currServer && this.currServer.hostid == e.hostid && this.$hasReConnectedGameServer) return this.isStartingTokenLogin = !0, 0 === GlobalValue.LoginChannel ? login_net.pe(["", session_helper_.getSession_()]) : login_net.Me("", session_helper_.getSession_()), void TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
				result: !1
			}), 50187);
			this.currServer = e;
			var r = Math.floor(Math.random() * n.length);
			if (this.$gateList && n[r] in this.$gateList) {
				var o = this.$gateList[n[r]];
				this.$serverInfo = e;
				var s = !0;
				if (o.ip == i.host && o.port == i.port && (s = !1), s) {
					var a = function(e) {
						!0 === e.data && (utils.MessageBox("#R连接不上该服！！！"), t.$hasReConnectedGameServer = !1)
					};
					WebSocketManger.addOnce(WebSocketEvent.OPEN, (function() {
						egret.log("onReConnected"), WebSocketManger.removeListener(WebSocketEvent.CLOSE, a, t), WebSocketManger.removeListener(WebSocketEvent.ERROR, a, t), t.$hasReConnectedGameServer = !0, t.isStartingTokenLogin = !0, 0 === GlobalValue.LoginChannel ? login_net.pe(["", session_helper_.getSession_()]) : login_net.Me("", session_helper_.getSession_()), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
							result: !1
						}), 50187)
					}), this), i.reConnectSocket(o.ip, o.port), WebSocketManger.addListener(WebSocketEvent.CLOSE, a, this), WebSocketManger.addListener(WebSocketEvent.ERROR, a, this)
				} else this.InnerLoginAuthenAction(e);
				return
			}
		}
	}, t.prototype.InnerLoginAuthenAction = function(e) {
		e.uid ? (this.$currPlayInfo = e, session_helper_.getSession_() ? (this.isStartingTokenLogin = !0, login_net.he([this.$currPlayInfo.uid, "", 0, session_helper_.getSession_()]), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
			result: !1
		}), 50004)) : this.showLoginError()) : e.isNew ? this.newRoleRequest(e) : e && (login_net.ee([Number(e.hostid), 0]), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
			result: !1
		}), 50002))
	}, t.prototype.WaitingLoginAuthenLeave = function(e) {
		this.$serverListRefreshTimer && this.$serverListRefreshTimer.stop()
	}, t.prototype.GamingEnter = function(e) {
		HubbleHelper_.collectTrans("game_enter"), HeroMainManager.getInstance(), World.getInstance().initMonitorEventListener(), UIManager.open(ChatExtUI).then((function(e) {
			UIManager.close(e.clazz)
		})), UIManager.open(ChatExtBtnUI), LoginUIGroup.open(MainUI).then((function() {
			LoginUIGroup.destroy(GameLoadingUI), LoginUIGroup.destroyAll()
		})), RedPointTreeManager.getInstance().startTimmer(), ProtDispatcher.getInstance().gv(), login_net.Ce(utils.isAuthGuest()), eui.getTheme("resource/eui/Break_tips.exml", (function() {}));
		var t = new LoginEvent(LoginEvent.LOGINSUCCESS);
		this.dispatchEvent(t), utils.sendWeiDuanExtraInfo(), UIReturnMgr.getInstance().reset(), BatteryInfo.enableBatterSave() && BatteryInfo.BatterySaveMgr.getInstance().start()
	}, t.prototype.GameingLeave = function(e) {
		console.log("GameingLeave"), this.$userInfo = null, WebSocketManger.getInstance().removeEventListener(WebSocketEvent.OPEN, this.trySessionLogin, this), this.$retryTimer && (this.$retryTimer = null), "HeroMainManager" in window && HeroMainManager.resetInstance(), "World" in window && World.getInstance().clearWorld(), "WarUI" in window && WarUI.reset(), "SceneStatusManager" in window && SceneStatusManager.getInstance().reset(), "SoundManager" in window && SoundManager.getInstance().onGameReset(), "RedPointTreeManager" in window && RedPointTreeManager.getInstance().stopTimmer(), ProtDispatcher.getInstance().Nv(), utils.clearMessageBox();
		try {
			LoginUIGroup.destroyAll(), UIManager.destroyAllLayers()
		} catch (e) {
			egret.log(e)
		}
		var t = new LoginEvent(LoginEvent.GameReset);
		this.dispatchEvent(t), console.log("refreshGame")
	}, t.prototype.initLSM = function() {
		this.$lsm = new SM.StateMachine, this.$lsm.addStates([{
			name: LoginState.WAITING_SERVERLIST,
			enter: [this.WaitingServerlistEnter, this],
			action: [this.WaitingServerlistAction, this]
		}, {
			name: LoginState.WAITING_GATECONNECT,
			enter: [this.WaitingGateConnectenter, this],
			action: [this.WaitingGateConnectAction, this]
		}, {
			name: LoginState.WAITING_SDKLOGIN,
			enter: [this.WaitingSDKLoginEnter, this],
			action: [this.WaitingSDKLoginAction, this],
			leave: [this.WaitingSDKLoginLeave, this]
		}, {
			name: LoginState.WAITING_LOGINAUTHEN,
			enter: [this.WaitingLoginAuthenEnter, this],
			action: [this.WaitingLoginAuthenAction, this],
			leave: [this.WaitingLoginAuthenLeave, this]
		}, {
			name: LoginState.GAMING,
			enter: [this.GamingEnter, this],
			leave: [this.GameingLeave, this]
		}]), this.$lsm.regEvents([
			[LoginTransitionEvent.GET_SERVER_LIST, LoginState.WAITING_SERVERLIST, LoginState.WAITING_GATECONNECT, LoginState.WAITING_SERVERLIST],
			[LoginTransitionEvent.GATE_CONNECTION, LoginState.WAITING_GATECONNECT, LoginState.WAITING_SDKLOGIN, LoginState.WAITING_SERVERLIST],
			[LoginTransitionEvent.SDK_LOGIN, LoginState.WAITING_SDKLOGIN, LoginState.WAITING_LOGINAUTHEN, LoginState.WAITING_SDKLOGIN],
			[LoginTransitionEvent.SERVER_CONNECTION, LoginState.WAITING_LOGINAUTHEN, LoginState.GAMING, LoginState.WAITING_LOGINAUTHEN],
			[LoginTransitionEvent.GAME_RESET, LoginState.GAMING, LoginState.WAITING_SERVERLIST, LoginState.GAMING],
			[LoginTransitionEvent.SDK_LOGOUT, LoginState.WAITING_LOGINAUTHEN, LoginState.WAITING_SERVERLIST, LoginState.WAITING_LOGINAUTHEN],
			[LoginTransitionEvent.RE_SDK_LOGIN, LoginState.WAITING_LOGINAUTHEN, LoginState.WAITING_SDKLOGIN, LoginState.WAITING_SDKLOGIN]
		])
	}, t.prototype.startServerListRefresh = function() {
		var e = this;
		this.$serverListRefreshTimer || (this.$serverListRefreshTimer = new FixedTimer(6e4), this.$serverListRefreshTimer.addEventListener(egret.TimerEvent.TIMER, (function() {
			egret.log("server list refresh req");
			var t = new egret.HttpRequest;
			t.responseType = egret.HttpResponseType.TEXT, t.open(egret.runEgretOptionsIns.config.serverlist + "?v=" + Math.random(), egret.HttpMethod.GET), t.send(), t.addEventListener(egret.Event.COMPLETE, (function() {
				var n;
				try {
					n = JSON.parse(t.response)
				} catch (e) {
					egret.log(e)
				}
				n && "serverlists" in n && (e.serverListUpdate(n), GlobalValue.runningMaintain = n.running_maintain || !1, GlobalValue.gameVersion = n.version || 0, e.isServerlistMatch(n.running_maintain, n.version))
			}), e)
		}), this)), this.$serverListRefreshTimer.start()
	}, t.prototype.serverListUpdate = function(e) {
		this.$serverList = e.serverlists, this.$gateList = e.gatelists, this.regionList = e.regions, this.dispatchEvent(new LoginEvent(LoginEvent.ServerListUpdate, e))
	}, t.prototype.needReconnect = function() {
		if (this.isServerKick) return !1;
		if (!("DropTipUI" in window)) return !0;
		var e = LoginUIGroup.getInst(DropTipUI);
		return !(e && e.visible)
	}, t.prototype.retryConnect = function() {
		this.$retryNeed ? utils.callLater(this.$retryInterval, (function() {
			var e = WebSocketManger.getInstance();
			e.socketConnected || e.reConnectSocket()
		})) : (WebSocketManger.getInstance().removeEventListener(WebSocketEvent.OPEN, this.trySessionLogin, this), this.loginState === LoginState.GAMING && utils.openDropTips("断线重连失败"), LoginUIGroup.close(DropReconnectingUI))
	}, t.prototype.trySessionLogin = function() {
		this.$retryTimer && (this.$retryTimer.stop(), this.$retryTimer = null), this.$hasReConnectedGameServer = !0;
		var e = (new Date).getTime() - WebSocketManger.getInstance().lastProtTime > this.$retryTimeoutSeconds,
			n = session_helper_.getSession_();
		return n && this.$playerInfo && !e ? (login_net.De(this.$playerInfo.uid, n), this.once(LoginEvent.ReconnectResult, (function(e) {
			LoginUIGroup.close(DropReconnectingUI), e.data ? (utils.MessageBox("重连成功！"), session_helper_.gameSessionStart_(), "WarUI" in window && WarUI.reset()) : utils.openDropTips("连接失败，需要重新登录游戏！")
		}), this), !0) : !(!n || !this.$playerInfo || (t.getInstance().trySilentRoleLogin(), 0))
	}, t.prototype.init = function() {
		this.$autoSDKLogin = !0, this.$lsm || this.initLSM(), this.$lsm.reset(LoginState.WAITING_SERVERLIST)
	}, t.prototype.onRolesUpdate = function(e, t) {
		if (egret.log("onRolesUpdate, data: ", e), e) {
			for (var n = [], i = 0; i < e.length; ++i) n.push({
				name: e[i].name,
				uid: e[i].uid,
				level: e[i].lv_lpc,
				icon: e[i].icon
			});
			1 == t || (n.length > 0 ? (this.$currPlayInfo = n[0], session_helper_.getSession_() ? (this.isStartingTokenLogin = !0, login_net.he([this.$currPlayInfo.uid, "", 0, session_helper_.getSession_()]), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
				result: !1
			}), 50004)) : this.showLoginError()) : this.newRoleRequest(this.$serverInfo))
		}
	}, t.prototype.reqNoCertiLogin = function() {
		this.$currPlayInfo && (session_helper_.getSession_() ? (this.isStartingTokenLogin = !0, login_net.he([this.$currPlayInfo.uid, "", 1, session_helper_.getSession_()]), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
			result: !1
		}), 50004)) : this.showLoginError())
	}, t.prototype.onRoleLoginResult = function(e, t, n, i, r) {
		return void 0 === r && (r = []), __awaiter(this, void 0, void 0, (function() {
			var i, o, s;
			return __generator(this, (function(a) {
				switch (a.label) {
					case 0:
						return e ? (session_helper_.checkTimerRunning_() || session_helper_.gameSessionStart_(), ProtDispatcher.getInstance().Pv(), this.$playerInfo = this.$currPlayInfo, egret.log(JSON.stringify(this.$playerInfo)), LoginUIGroup.close(ServerUI), LoginUIGroup.close(LoginQueueUI), LoginUIGroup.close(NewRoleUI), egret.localStorage.removeItem("LastQueueServerId"), HubbleHelper_.collectTrans("start_gameload"), this.$loadingStart = (new Date).getTime(), i = function(e) {
							e.setData(r, n)
						}, LoginUIGroup.open(LoginBackGroundUI).then((function(e) {
							UIManager.AdaptedPanel.addChildAt(e, 3)
						})), LoginUIGroup.open("GameLoadingUI", i).then(i), 1 === GlobalValue.LoginChannel && this.$sdkLoginJson ? (JSNativeBridge.getInstance().call("setLoginToken", [this.$sdkLoginJson, String(this.$playerInfo.uid), this.$serverInfo.hostid]), [3, 3]) : [3, 1]) : [3, 4];
					case 1:
						return 2 === GlobalValue.LoginChannel && this.$sdkLoginJson ? (o = egret.Base64Util.decode_utf8(this.$sdkLoginJson), egret.log(o), SdkMgr.getInst().setProp(SdkMgr.ConstProp.UNISDK_LOGIN_JSON, o), "360h5" === SdkMgr.getInst().getProp(SdkMgr.ConstProp.APP_CHANNEL) && SdkMgr.getInst().setPropStr(SdkMgr.ConstProp.DEVICE_ID, "0"), SdkMgr.getInst().setPropStr(SdkMgr.ConstProp.USERINFO_USERNAME, this.$playerInfo.name), SdkMgr.getInst().setProp(SdkMgr.ConstProp.USERINFO_UID, String(this.$playerInfo.uid)), SdkMgr.getInst().setPropInt(SdkMgr.ConstProp.USERINFO_HOSTID, this.$serverInfo.hostid), [4, SdkMgr.getInst().ntGameLoginSuccess()]) : [3, 3];
					case 2:
						a.sent(), "360h5" === GlobalValue.appLoginChannel && (login_net.newRoleFlag && channel_logic_360h5_web.reportCreatRole(), channel_logic_360h5_web.reportLogin()), a.label = 3;
					case 3:
						return [3, 5];
					case 4:
						e || "" !== t ? (this.isStartingTokenLogin && session_helper_.clearToken_(), LoginUIGroup.close(LoginQueueUI), t.length > 0 && utils.MessageBox(t), s = new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
							sceneid: n,
							result: !1
						}), this.$lsm.dispatchEvent(s)) : (LoginUIGroup.close(ServerUI), login_net.le()), a.label = 5;
					case 5:
						return [2]
				}
			}))
		}))
	}, t.prototype.newRoleRequest = function(e) {
		var t = LoginUIGroup.getInst(NewRoleUI),
			n = t ? t.currRoleInfo : null,
			i = t ? t.currNickName : null;
		if (egret.log("newRoleRequest", n, i), e && n && i) {
			if (e.hostid, this.sauthJson) try {
				JSON.parse(this.sauthJson)
			} catch (e) {
				egret.log(e)
			}
			login_net.ve([Number(e.hostid), Number(n.icon), i, Number(n.gender), Number(n.race), this.platform])
		}
	}, t.prototype.gameStart = function() {
		var e = this;
		egret.log("gameStart");
		var t = Math.ceil(((new Date).getTime() - this.$loadingStart) / 1e3);
		ClientLogHelper_.getInst().send(), login_net.ge(), this.once(LoginEvent.SDKUserInfoUpdate, (function() {
			1 === GlobalValue.LoginChannel ? (e.$userInfo.load_time_long = t, native_net.JSSendUserInfo("login", e.$userInfo)) : 2 === GlobalValue.LoginChannel && ClientLogHelper_.getInst().sendLog("Load", {
				account_id: ClientLogHelper_.getInst().getAccountId(),
				old_accountid: "",
				load_time_long: t
			})
		}), this);
		var n = new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
			result: !0
		});
		this.$lsm.dispatchEvent(n)
	}, t.prototype.playLoginBgm = function() {
		SoundManager.getInstance().playMusic("resource/assets/sound/" + LoginMusic)
	}, t.prototype.showServerChoose = function(e) {
		var t = this;
		void 0 === e && (e = ServerUI), LoginUIGroup.open(ServerChooseUI).then((function(n) {
			n.setServerData(t.$recentServerLst, t.$serverList), n.backUI = e
		}))
	}, t.prototype.findServerInfobyHostid = function(e) {
		return this.$serverList && e in this.$serverList ? (this.$serverList[e].hostid = e, this.$serverList[e]) : null
	}, t.prototype.setChoosenServer = function(e, t, n) {
		void 0 === t && (t = !1), void 0 === n && (n = !1);
		var i = this.findServerInfobyHostid(e);
		if (i) {
			this.currServer = i;
			var r = LoginUIGroup.getInst(ServerUI);
			r && r.setServer(JSON.parse(JSON.stringify(i)), t, n)
		}
	}, t.prototype.setRecentServer = function(e) {
		console.log("setRecentServer:", e), this.$recentServerLst = new Array;
		for (var t = 0, n = e.length; t < n; ++t) this.$recentServerLst.push(e[t])
	}, t.prototype.getRecentServer = function() {
		return this.$recentServerLst
	}, t.prototype.showWebCompact = function(e) {
		var t = document.querySelector(".egret-player canvas").getBoundingClientRect();
		return SdkMgr.getInst().ntShowCompactView(e, {
			width: t.width - 40,
			height: t.height - 100
		})
	}, t.prototype.stopRetry = function() {
		this.$retryNeed = !1
	}, t.prototype.tryReconnect = function() {
		var e = this;
		if (this.needReconnect()) {
			var n = t.getInstance().loginState;
			n === LoginState.GAMING ? (this.$retryTimer || (this.$retryNeed = !0, session_helper_.gameSessionStop_(), WebSocketManger.getInstance().once(WebSocketEvent.OPEN, this.trySessionLogin, this), this.$retryTimer = new egret.Timer(this.$retryInterval, this.$retryTotalChances), this.$retryTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE, (function() {
				e.$retryNeed = !1
			}), this), this.$retryTimer.start(), LoginUIGroup.open(DropReconnectingUI).then((function(t) {
				t.setTimer(e.$retryInterval * e.$retryTotalChances / 1e3)
			}))), this.retryConnect()) : n !== LoginState.WAITING_SERVERLIST && n !== LoginState.WAITING_GATECONNECT && ("360h5" === GlobalValue.appLoginChannel && utils.openDropTips("网络中断，请刷新游戏~"), utils.refreshClient(!0))
		}
	}, t.prototype.isServerlistMatch = function(e, t) {
		return e ? (utils.showMaintainDropTips(), !1) : !(!GlobalValue.InnerTest && t && egret.runEgretOptionsIns.config.version !== t && (utils.MessageBox(GlobalValue.Yellow + "目前不是最新客户端版本，暂时无法登录，请稍后再试！"), 1))
	}, t.prototype.trySilentRoleLogin = function() {
		if (this.GameingLeave(null), this.serverInfo) {
			this.isStartingTokenLogin = !!session_helper_.getSession_();
			try {
				LoginUIGroup.open(LoginBackGroundUI)
			} catch (e) {
				egret.log(e)
			}
			this.$lsm.reset(LoginState.WAITING_LOGINAUTHEN, !1), this.WaitingLoginAuthenAction(this.serverInfo)
		}
	}, t.prototype.showLoginError = function(e) {
		void 0 === e && (e = "登录认证失败。");
		var t = utils.isInAPP();
		utils.openDropTips(t ? e + " 点击确认重新登录。" : e + " 请刷新游戏重新登录。", t)
	}, t.prototype.findMostRecentRecommendServer = function() {
		for (var e = null, t = null, n = 0, i = Object.keys(this.serverList); n < i.length; n++) {
			var r = i[n];
			this.serverList[r].recommend && (e ? t && this.serverList[r].opentime && this.serverList[r].opentime > t && (e = r, t = this.serverList[r].opentime) : (e = r, t = this.serverList[r].opentime))
		}
		return e
	}, t.prototype.findNewestServer = function() {
		for (var e = null, t = null, n = 0, i = Object.keys(this.serverList); n < i.length; n++) {
			var r = i[n];
			e ? t && this.serverList[r].opentime && this.serverList[r].opentime > t && (e = r, t = this.serverList[r].opentime) : (e = r, t = this.serverList[r].opentime)
		}
		return e
	}, t.$instance = null, t
}(egret.EventDispatcher);
__reflect(LoginManager.prototype, "LoginManager");
var GlobalFunc;

function numToCN(n) {
	var t = ["零", "一", "二", "三", "四", "五", "六", "七", "八", "九", "十"],
		r = ["", "十", "百", "千", "万", "亿", "十", "百", "千"];
	if (t[n]) return t[n];
	if (n > 10 && n < 20) {
		var e = (i = n.toString()).substring(1, 2);
		return r[1] + t[e]
	}
	if (100 === n) return "一百";
	if (n > 10) {
		for (var u = "", i = n.toString(), a = 0; a < i.length; a++) {
			e = i.substring(a, a + 1);
			var o = i.length - a - 1;
			if ("0" === e && 0 === o) break;
			u += t[e] + r[o]
		}
		return u
	}
	return "零"
}

function SwallowError() {
	return function(n, t, r) {
		if (GlobalValue.InnerTest) return r;
		var e = r.value;
		return r.value = function() {
			for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
			try {
				e.apply(this, n)
			} catch (n) {
				egret.error("swallow errors " + t)
			}
		}, r
	}
}! function(n) {
	function t(n, t, r) {
		void 0 === t && (t = 4), void 0 === r && (r = "0");
		for (var e = n ? n.toString() : "0", u = "", i = 0; i < t; i++) u += r;
		return u.length > e.length ? u.substr(0, u.length - e.length) + e : e
	}
	n.clamp = function(n, t, r) {
		var e = n < t ? t : n;
		return e > r ? r : e
	}, n.overlayr = t, n.distance = function(n, t) {
		var r = n.x - t.x,
			e = n.y - t.y;
		return Math.sqrt(r * r + e * e)
	}, n.calcDirection = function(n, t) {
		var r = t.x - n.x,
			e = t.y - n.y,
			u = 180 * Math.atan2(e, r) / Math.PI;
		return u > 0 ? u > 90 ? 1 : 0 : u > -90 ? 3 : 2
	}, n.xahObjToMap = function(n) {
		var t = new dataStructure.Map;
		return Object.keys(n).forEach((function(r) {
			t.set(r, n[r])
		})), t
	}, n.s = function(n) {
		return 1e3 * n
	};
	var r = function() {
		function n(n) {
			this.$maxSize = n, this.$list = new Array
		}
		return n.prototype.add = function(n) {
			this.$list.length === this.$maxSize && this.$list.shift(), this.$list.push(n)
		}, Object.defineProperty(n.prototype, "list", {
			get: function() {
				return this.$list
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(n.prototype, "size", {
			get: function() {
				return this.$maxSize
			},
			set: function(n) {
				this.$maxSize = n
			},
			enumerable: !0,
			configurable: !0
		}), n
	}();

	function e(n) {
		for (var t = 0, r = 0; r < n.length; r++) n.charCodeAt(r) > 127 || 94 === n.charCodeAt(r) ? t += 2 : t++;
		return t
	}

	function u(n) {
		return egret.runEgretOptionsIns.config.cdn + n
	}

	function i(n, t, r) {
		for (var e = 0, u = Object.keys(r); e < u.length; e++) {
			var i = u[e];
			new RegExp("(" + i + ")").test(n) && (n = t ? n.replace(RegExp.$1, 1 === RegExp.$1.length ? r[i] : ("00" + r[i]).substr(("" + r[i]).length)) : n.replace(RegExp.$1, r[i]))
		}
		return n
	}

	function a(n, t, r) {
		n && (n.completed ? t.apply(n, r) : n.once(egret.Event.COMPLETE, (function() {
			t.apply(n, r)
		}), this))
	}
	n.StaticList = r, __reflect(r.prototype, "GlobalFunc.StaticList"), n.strLen = e, n.realSubstring = function(n, t) {
		if (e(n) <= t) return n;
		for (var r = Math.floor(t / 2); r < n.length; r++)
			if (e(n.substr(0, r)) >= t) return n.substr(0, r);
		return n
	}, n.stringEndWith = function(n, t) {
		return n.slice(-t.length) === t
	}, n.v = function(n) {
		var t = n instanceof BaseWidget ? n.baseInst : n;
		t.modal = !0, t.addEventListener(egret.TouchEvent.TOUCH_TAP_OUTSIDE, (function(t) {
			n.visible = !1
		}), t)
	}, n.m = function(n) {
		var t = 0,
			r = 0;
		return Object.keys(n).forEach((function(e) {
			t = Math.max(n[e].w, t), r = Math.max(n[e].h, r)
		})), {
			width: t,
			height: r
		}
	}, n.p = function(n) {
		n && n.parent && (n instanceof egret.DisplayObject ? n.parent.removeChild(n) : n instanceof BaseWidget && n.parent.removeChild(n.baseInst))
	}, n.fightFormat = function(n) {
		var t;
		try {
			t = Number(n)
		} catch (n) {
			return ""
		}
		return t < Math.pow(10, 6) ? String(t) : t < Math.pow(10, 8) ? (t = (t / Math.pow(10, 4)).toFixed(1), String(t) + "万") : (t = (t / Math.pow(10, 8)).toFixed(2), String(t) + "亿")
	}, n.expFormat = function(n) {
		return n > 1e8 ? (n /= 1e8).toFixed(2) + "亿" : n > 1e5 ? (n /= 1e4).toFixed(2) + "万" : String(n)
	}, n.numberFormat = function(n) {
		return n >= 1e10 ? (n = Math.floor(n / 1e8)).toFixed() + "亿" : n >= 1e8 ? (n = Math.floor(n / 1e7)) / 10 + "亿" : n >= 1e6 ? (n = Math.floor(n / 1e4)).toFixed() + "万" : n >= 1e4 ? (n = Math.floor(n / 1e3)) / 10 + "万" : String(n)
	}, n.numFormatItemGrid = function(n) {
		return n >= 1e10 ? (n = Math.floor(n / 1e8)).toFixed() + "亿" : n >= 1e8 ? (n = Math.floor(n / 1e7)) / 10 + "亿" : n >= 1e6 ? (n = Math.floor(n / 1e4)).toFixed() + "万" : n >= 1e4 ? (n = Math.floor(n / 100)) / 100 + "万" : String(n)
	}, n.powerFormat6 = function(n) {
		return n >= 1e8 ? (n /= 1e8).toFixed(1) + "亿" : n >= 1e6 ? (n /= 1e4).toFixed() + "万" : String(n)
	}, n.powerFormat8 = function(n) {
		return n >= 1e9 ? (n /= 1e8).toFixed(1) + "亿" : n >= 1e8 ? (n /= 1e4).toFixed(1) + "万" : String(n)
	}, n.consumeStr = function(n, t) {
		return (n >= t ? "#c75fd8f" : "#cdd1d3a") + n + "/" + t
	}, n.itemIconSrc = function(n) {
		var r = tableReadHelper.getItemInfo(n);
		return r ? "resource/assets/item/" + r.icon + ".png" : "resource/assets/item/" + t(n, 4) + ".png"
	}, n.itemSmallIconSrc = function(n) {
		var r = tableReadHelper.getItemInfo(n);
		return r ? "resource/assets/icon/" + r.icon + ".png" : "resource/assets/icon/" + t(n, 4) + ".png"
	}, n.getUrlParam = function(n, t) {
		try {
			var r = new RegExp("(^|&)" + t + "=([^&]*)(&|$)"),
				e = n.split("?")[1].match(r);
			return null != e ? e[2] : null
		} catch (n) {
			return null
		}
	}, n.R = function() {
		return new egret.ColorMatrixFilter([.33, .33, .33, 0, 0, .33, .33, .33, 0, 0, .33, .33, .33, 0, 0, 0, 0, 0, 1, 0])
	}, n.N = function() {
		return new egret.ColorMatrixFilter([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0])
	}, n.j = function(n, t, r) {
		void 0 === r && (r = null);
		var e = document.getElementsByTagName("head")[0],
			u = null;
		null == document.getElementById(n) ? ((u = document.createElement("script")).setAttribute("type", "text/javascript"), u.setAttribute("src", t), u.setAttribute("id", n), null != r && (u.onload = u.onreadystatechange = function() {
			if (u.ready) return !1;
			u.readyState && "loaded" != u.readyState && "complete" != u.readyState || (u.ready = !0, r())
		}), e.appendChild(u)) : null != r && r()
	}, n.O = u, n.B = function(n, t, r, e) {
		return RES.getResByUrl(u(n), t, r, e)
	}, n.F = function(n) {
		return RES.destroyRes(u(n))
	}, n.translatePoint = function(n, t) {
		n.x = n.x + t.x, n.y = n.y + t.y
	}, n.getMinSecByTime = function(n) {
		return {
			min: Math.floor(n / 60),
			sec: n % 60
		}
	}, n.timeFormatByMin = function(n, t, r) {
		return void 0 === t && (t = "mm分ss秒"), void 0 === r && (r = !0), i(t, r, {
			"m+": Math.floor(n / 60),
			"s+": n % 60
		})
	}, n.timeFormat = function(n, t, r) {
		void 0 === t && (t = "hh时mm分ss秒"), void 0 === r && (r = !0);
		var e = Math.floor(n / 3600),
			u = Math.floor(n / 60) % 60,
			a = n % 60;
		return NaN === e || NaN === u || NaN === a ? (egret.log("error timeFormat", n), "") : i(t, r, {
			"h+": e,
			"m+": u,
			"s+": a
		})
	}, n.timeFormatByDay = function(n, t, r) {
		void 0 === t && (t = "dd天hh时mm分"), void 0 === r && (r = !0);
		var e = Math.floor(n / 86400),
			u = Math.floor(n / 3600) % 24,
			a = Math.floor(n / 60) % 60,
			o = n % 60;
		return NaN === u || NaN === a || NaN === o ? (egret.log("error timeFormatByDay", n), "") : i(t, r, {
			"d+": e,
			"h+": u,
			"m+": a,
			"s+": o
		})
	}, n.dateFormat = function(n, t) {
		var r = {
			"M+": n.getMonth() + 1,
			"d+": n.getDate(),
			"h+": n.getHours(),
			"m+": n.getMinutes(),
			"s+": n.getSeconds(),
			"q+": Math.floor((n.getMonth() + 3) / 3),
			S: n.getMilliseconds()
		};
		/(y+)/.test(t) && (t = t.replace(RegExp.$1, (n.getFullYear() + "").substr(4 - RegExp.$1.length)));
		for (var e = 0, u = Object.keys(r); e < u.length; e++) {
			var i = u[e];
			new RegExp("(" + i + ")").test(t) && (t = t.replace(RegExp.$1, 1 === RegExp.$1.length ? r[i] : ("00" + r[i]).substr(("" + r[i]).length)))
		}
		return t
	}, n.getCurrentTimeZone = function(n) {
		var r = n.getTimezoneOffset() / -60;
		return (r > 0 ? "+" : "-") + t(r, 2) + "00"
	}, n.G = function(n, t) {
		var r = tableReadHelper.getItemInfo(n.id),
			e = tableReadHelper.getItemInfo(t.id);
		return r.quality === e.quality ? n.id < t.id ? 1 : -1 : r.quality < e.quality ? 1 : -1
	}, n.random = function(n, t) {
		return n + Math.random() * (t - n)
	}, n.W = function n(t) {
		if (t.$children)
			for (var r = 0, e = t.$children; r < e.length; r++) n(e[r]);
		t.clearEventListener()
	}, n.safeInvokeFunc = function(n, t, r) {
		n && (n instanceof eui.Component ? a(n, t, r) : n.inited ? t.apply(n, r) : n instanceof BaseWidget ? n.once(BaseWidgetEvent.ONCOMPLETE, (function() {
			t.apply(n, r)
		}), n) : n instanceof TweenGroupPanel ? n.baseInst.once(eui.UIEvent.COMPLETE, (function() {
			t.apply(n, r)
		}), n) : n instanceof ArmatureDisplayPanel && n.baseInst.once(BaseWidgetEvent.ONCOMPLETE, (function() {
			t.apply(n, r)
		}), n))
	}, n.safeInvokeComFun = a, n.isInteger = function(n) {
		return Math.floor(n) === n
	}, n.BezierCurve = function(n, t, r, e) {
		var u = {
			x: 0,
			y: 0
		};
		return u.x = (1 - e) * (1 - e) * n.x + 2 * (1 - e) * e * t.x + e * e * r.x, u.y = (1 - e) * (1 - e) * n.y + 2 * (1 - e) * e * t.y + e * e * r.y, u
	}, n.list2Dict = function(n, t, r) {
		for (var e = {}, u = 0, i = n; u < i.length; u++) {
			var a = i[u];
			e[a[t]] = a[r]
		}
		return e
	}, n.sign = function(n) {
		return n >= 0 ? 1 : -1
	}, n.max = function(n, t) {
		return n > t ? n : t
	}, n.min = function(n, t) {
		return n < t ? n : t
	}, n.packList = function(n, t) {
		for (var r = [], e = [], u = 0, i = n.length; u < i; u++) e.push(n[u]), e.length === t && (r.push(e), e = []);
		return e.length > 0 && r.push(e), r
	}, n.getTrace = function(n) {
		var t;
		void 0 === n && (n = 5), egret.log("!!getTrace");
		var r = "";
		if (!arguments || !arguments.callee) return r;
		t = arguments.callee.caller;
		for (var e = 0; t && e < n && (t = t.caller) && t.toString;) r += t.toString() + " \n \n", ++e;
		return egret.log(r), r
	}, n.emptyObject = function(n) {
		return !n || 0 == Object.keys(n).length
	}
}(GlobalFunc || (GlobalFunc = {}));
var login_net, misc_net;
! function(n) {
	function e() {
		ProtDispatcher.getInstance().fv(56128)
	}

	function i(n) {
		ProtDispatcher.getInstance().fv(56133, [n])
	}
	n.newRoleFlag = !1, n.ne = function(e) {
		TimeOutHelper.getInst().cancelEntrust(50187), LoginManager.getInstance().setRecentServer(e.data[0]);
		var i = LoginManager.getInstance().lsm;
		if (e.data[1]) {
			if (e.data[2] && (session_helper_.onSessionUpdate_(e.data[2]), session_helper_.gameSessionStop_(), session_helper_.gameSessionStart_()), i.currState.name === LoginState.WAITING_LOGINAUTHEN) return void(LoginManager.getInstance().serverInfo && (n.ee([Number(LoginManager.getInstance().serverInfo.hostid), 0]), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
				result: !1
			}), 50002)));
			var t = new LoginTransitionEvent(LoginTransitionEvent.SDK_LOGIN, {
				result: !0
			});
			i.dispatchEvent(t)
		} else {
			if (LoginManager.getInstance().isStartingTokenLogin) return session_helper_.clearToken_(), void LoginManager.getInstance().showLoginError();
			i.currState.name === LoginState.WAITING_LOGINAUTHEN ? (utils.MessageBox("#cFFDE27服务器认证失败"), t = new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
				result: !1
			}), i.dispatchEvent(t)) : (utils.MessageBox("#cFFDE27登录失败"), utils.tryLogout())
		}
	}, n.ie = function(n) {
		TimeOutHelper.getInst().cancelEntrust(50002), LoginManager.getInstance().onRolesUpdate(n.data[0], n.data[2])
	}, n.te = function(n) {
		TimeOutHelper.getInst().cancelEntrust(50004), LoginManager.getInstance().onRoleLoginResult(n.data[0], n.data[1], n.data[2], n.data[3], n.data[4])
	}, n.oe = function(e) {
		TimeOutHelper.getInst().cancelEntrust(50003), e.data[0] ? (this.newRoleFlag = !0, utils.MessageBox("#cFFDE27创建角色成功!登录中"), UIManager.close(NewRoleUI), n.ee([Number(LoginManager.getInstance().serverInfo.hostid), 0]), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SERVER_CONNECTION, {
			result: !1
		}), 50004)) : utils.MessageBox("#cFFDE27" + e.data[1])
	}, n.re = function(n) {
		LoginManager.getInstance().sdkLoginJson = n.data[0], egret.log("recv sdkLoginJson from server and set to "), egret.log(LoginManager.getInstance().sdkLoginJson)
	}, n.ae = function(n) {
		utils.MessageBox("#R" + n.data[0])
	}, n.ue = function(n) {
		var e = UIManager.getInst(NewRoleUI);
		e && e.updateRandName(n.data[0])
	}, n.ce = function(n) {
		ProtDispatcher.getInstance().fv(50368, [n])
	}, n.se = function(n) {
		LoginManager.getInstance().userInfo = n.data[0];
		var e = new LoginEvent(LoginEvent.SDKUserInfoUpdate);
		LoginManager.getInstance().dispatchEvent(e)
	}, n.ge = function() {
		ProtDispatcher.getInstance().fv(50324)
	}, n.fe = function() {
		ProtDispatcher.getInstance().fv(56132)
	}, n.le = function() {
		ProtDispatcher.getInstance().fv(56081)
	}, n.Le = function(n) {
		if ("LoginQueueUI" in window) {
			var e = LoginUIGroup.getInst(LoginQueueUI);
			e && e.visible || (LoginUIGroup.open(LoginQueueUI), e = LoginUIGroup.getInst(LoginQueueUI)), e.setData(n.data[0], n.data[1])
		} else LoginUIGroup.open("LoginQueueUI", (function(e) {
			e.setData(n.data[0], n.data[1])
		}))
	}, n.pe = function(n) {
		ProtDispatcher.getInstance().fv(50034, n)
	}, n.he = function(n) {
		ProtDispatcher.getInstance().fv(50004, n)
	}, n.ve = function(n) {
		ProtDispatcher.getInstance().fv(50003, n)
	}, n.ee = function(n) {
		ProtDispatcher.getInstance().fv(50002, n)
	}, n.Ie = function(n, e) {
		ProtDispatcher.getInstance().fv(56121, [n, e])
	}, n.Ue = function(n) {
		var e = LoginUIGroup.getInst(ServerChooseUI);
		e && e.visible && e.updateServerRoleInfo(n.data[0]);
		var i = UIManager.getInst(NewRoleUI);
		i && i.visible && i.updateServerRoleInfo(n.data[0])
	}, n.Me = function(n, e) {
		ProtDispatcher.getInstance().fv(50187, [n, e || ""])
	}, n._e = function(n) {
		var e;
		try {
			e = JSON.stringify(n)
		} catch (n) {
			egret.log(n)
		}
		e && ProtDispatcher.getInstance().fv(52197, [e])
	}, n.De = function(n, e) {
		ProtDispatcher.getInstance().fv(50322, [Number(n), e])
	}, n.Pe = function(n) {
		if (n.data[1] && session_helper_.onSessionUpdate_(n.data[1]), n.data[0]) {
			if (n.data[2]) {
				var e = new LoginEvent(LoginEvent.ReconnectResult, n.data[0]);
				LoginManager.getInstance().dispatchEvent(e)
			}
		} else session_helper_.clearToken_(), e = new LoginEvent(LoginEvent.ReconnectResult, n.data[0]), LoginManager.getInstance().dispatchEvent(e)
	}, n.me = function(n) {
		var e;
		try {
			e = JSON.stringify(n)
		} catch (n) {
			egret.log(n)
		}
		e && ProtDispatcher.getInstance().fv(56074, [e])
	}, n.Ee = function(n) {
		ProtDispatcher.getInstance().fv(56122, [n])
	}, n.Te = function(n) {
		n.data[0] ? (LoginUIGroup.close(ServerUI), LoginUIGroup.open(NewRoleUI)) : utils.refreshClient()
	}, n.we = function(n) {
		ProtDispatcher.getInstance().fv(56123, [n])
	}, n.Ne = function(n) {
		if (n.data[0]) {
			var e = LoginUIGroup.getInst(ServerChooseUI);
			e && e.visible && e.updateServerState(n.data[0]);
			var i = UIManager.getInst(NewRoleUI);
			i && i.visible && i.updateServerState(n.data[0])
		}
	}, n.de = function(n) {
		ProtDispatcher.getInstance().fv(50396, [n])
	}, n.Oe = function(n) {
		n.data[0] && session_helper_.onSessionUpdate_(n.data[0].length > 0 ? n.data[0] : null)
	}, n.Se = function(n) {
		session_helper_.clearToken_()
	}, n.Fe = function(n) {
		HeroMainManager.getInstance().hasGuestBindReward = !!n.data[0]
	}, n.Ge = function(n) {
		var t = utils.isAuthGuest(),
			o = t ? "前往绑定" : "领取";
		utils.ConfirmBoxReward(t ? n.data[1] : n.data[2], (function() {
			t ? utils.isInAPP() ? utils.tryGuestBind() : "netease" === GlobalValue.appLoginChannel && channel_logic_netease_web.showCharBind().then((function(n) {
				n.sauth && i(JSON.stringify(n.sauth))
			})) : e()
		}), null, n.data[0], o, n.data[3])
	}, n.Re = function() {
		ProtDispatcher.getInstance().fv(56127)
	}, n.He = e, n.Ce = function(n) {
		ProtDispatcher.getInstance().fv(50410, [n ? 1 : 0])
	}, n.be = i, n.ye = function(n) {
		n.data[0] ? (session_helper_.clearToken_(), utils.tryLogout()) : (SdkMgr.getInst().ntExtendFunc({
			methodId: "guestForceLogin"
		}).then((function(n) {
			console.log(n)
		})), utils.YMessageBox(n.data[1]))
	}
}(login_net || (login_net = {})),
function(n) {
	n.Qe = function(n) {
		n[0] == CertificationRealNameUI.ShowTimeOut && LoginManager.getInstance().loginState == LoginState.GAMING && (LoginManager.getInstance().isServerKick = !0), UIManager.open(CertificationRealNameUI).then((function(e) {
			TimeOutHelper.getInst().cancelEntrust(0, !0), e.setData(n)
		}))
	}, n.Je = function(n) {
		ProtDispatcher.getInstance().fv(56120, [n])
	}, n.ke = function(n, e, i, t, o) {
		ProtDispatcher.getInstance().fv(56083, [session_helper_.getSession_(), n, e, i, t, o])
	}, n.Ae = function() {
		ProtDispatcher.getInstance().fv(56084)
	}, n.Ve = function(n) {
		UIManager.open(RealNameAwardUI).then((function(e) {
			e.setData(n[0])
		}))
	}, n.je = function(n) {
		"pay" === n[0] ? UIManager.open(ChildMorePayLimit).then((function(e) {
			e.setData(n[1])
		})) : "tired" === n[0] ? UIManager.open(ChildTiredLimit).then((function(e) {
			e.setData(n[1])
		})) : "tooLate" === n[0] && UIManager.open(ChildNoMorePlayTipsUI).then((function(e) {
			e.setData(n[1])
		}))
	}, n.qe = function() {
		ProtDispatcher.getInstance().fv(50412)
	}
}(misc_net || (misc_net = {}));
var Main = function(e) {
	function n() {
		var n = e.call(this) || this;
		return n.addEventListener(egret.Event.ADDED_TO_STAGE, n.onAddToStage, n), n
	}
	return __extends(n, e), n.getInst = function() {
		return this.$instance
	}, n.prototype.onAddToStage = function(e) {
		var r = this;
		if (HubbleHelper_.onScriptStart(), ClientLogHelper_.getInst().init(), !utils.isInAPP() && "SdkMgr" in window) {
			ClientLogHelper_.getInst().setActivateLog_();
			var t = void 0;
			try {
				t = window.SdkMgr.getInst().getUdid()
			} catch (e) {
				console.log(e)
			}
			var o = utils.getWindowUrlParam("project_id"),
				i = o ? {
					project_id: o
				} : {};
			t && (i.udid = t), ClientLogHelper_.getInst().sendLog("Activation", i)
		}
		window.onerror = function(e, n, r, t, o) {
			var i = n + "_" + r + "_" + t,
				a = e + " \n" + n + ", " + r + ", " + t + " \n" + (o && o.stack ? o.stack : "stack is null");
			DumpHelper_.em(e, a, i)
		}, window.handle_error = function(e, n) {
			var r = e + "_" + n;
			DumpHelper_.em(e, n, r)
		};
		for (var a = 0, l = egret.lifecycle.contexts; a < l.length; a++) {
			var g = l[a];
			if (g.isWebLifeCycleHandler) {
				GlobalValue.WebLifeCycleHandlerContext = g;
				break
			}
		}
		egret.lifecycle.addLifecycleListener((function(e) {
			e.onUpdate = function() {}
		})), egret.lifecycle.onPause = function() {
			if (utils.isInAPP() && (egret.ticker.pause(), LoginManager.getInstance().retryTimerPause(), "UIManager" in window)) {
				var e = UIManager.getInst(DropReconnectingUI);
				e && e.stopTimer()
			}
			"SoundManager" in window && !window.XyqAudioSound && (SoundManager.getInstance().volume = 0)
		}, egret.lifecycle.onResume = function() {
			if (utils.isInAPP() && (egret.ticker.resume(), LoginManager.getInstance().retryTimerResume(), "UIManager" in window)) {
				var e = UIManager.getInst(DropReconnectingUI);
				e && e.resumeTimer()
			}
			"SoundManager" in window && !window.XyqAudioSound && (SoundManager.getInstance().volume = game_setting.MusicVolume / 100)
		}, n.$instance = this, this.initTextureFormat(), RES.setMaxLoadingThread(16), utils.initSearchParams();
		var u = [egret.RuntimeType.VIVOGAME, egret.RuntimeType.QGAME, egret.RuntimeType.QQGAME, egret.RuntimeType.BILIGAME, egret.RuntimeType.TTGAME, egret.RuntimeType.BAIDUGAME];
		utils.isMiniGame() && -1 === u.indexOf(egret.Capabilities.runtimeType) && (GlobalValue.LoginChannel = 0), 2 === GlobalValue.LoginChannel && (GlobalValue.appChannel = SdkMgr.getInst().getProp("APP_CHANNEL"), GlobalValue.appLoginChannel = SdkMgr.getInst().getProp(SdkMgr.ConstProp.LOGIN_CHANNEL));
		var d = this.stage;
		d.displayHeight / d.displayWidth > GlobalValue.DesignH / GlobalValue.DesignW ? d.scaleMode = egret.StageScaleMode.FIXED_WIDTH : utils.isWeb() ? d.scaleMode = egret.StageScaleMode.SHOW_ALL : d.scaleMode = egret.StageScaleMode.FIXED_HEIGHT, native_net.getAppVersion(), this.CheckInnerNet(), native_net.setCompactUrl(!1), this.runGame();
		var s = "";
		try {
			s = window.navigator.userAgent
		} catch (e) {}
		console.log("!!!runGAME", s, utils.isInAPP()), this.adaptUnisdk();
		var c = function() {
			misc_net.qe(), utils.callLater(6e4, c, [], r)
		};
		c()
	}, n.prototype.adaptUnisdk = function() {
		if ("windesktop" === utils.getClientOsType_$()) {
			var e = document.getElementById("netease-login");
			e || ((e = document.createElement("style")).id = "netease-login", document.getElementsByTagName("body").item(0).appendChild(e)), e.innerHTML = ".mpurs__dialog__background{background: transparent;}.mpurs__dialog__background.show-close{background: transparent;}.mpurs__dialog__background.show-close .mpurs__dialog__close-btn{background-color:#fb4f4f;right:0 !important;}"
		}
	}, n.prototype.CheckInnerNet = function() {
		try {
			var e = utils.isMiniGame() ? egret.runEgretOptionsIns.config.cdn : location.href;
			egret.log("url: ", e);
			for (var n = 0, r = ["gate03.g102-in.game.163.com/client_release", "g1.nie.netease.com:8182/client_release/", "g102[A-Za-z]*.game.163.com", "((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))"]; n < r.length; n++) {
				var t = r[n],
					o = e.search(t);
				if (o > -1) return GlobalValue.InnerTest = !0, void(GlobalValue.InnerBranch = e.substr(o))
			}
		} catch (e) {}
	}, n.prototype.checkNotUseTextrueWhitelist = function() {
		if (utils.isInAPP() && "iOS" === egret.Capabilities.os && window && window.navigator && window.navigator.userAgent)
			for (var e = window.navigator.userAgent, n = 0, r = [/iPhone5,[0-9]/g, /iPad3,[0-9]/g]; n < r.length; n++) {
				var t = r[n];
				if (e.search(t) > -1) return !0
			}
		return !1
	}, n.prototype.initTextureFormat = function() {
		if ("canvas" !== egret.Capabilities.renderMode) {
			var e = egret.localStorage.getItem("UseCompressedTexture");
			if (!(e && "false" === e || this.checkNotUseTextrueWhitelist())) {
				egret.runEgretOptionsIns.config.fmts = egret.runEgretOptionsIns.config.fmts || ["dds", "pvr", "pkm"], egret.Capabilities.isMobile ? ("iOS" === egret.Capabilities.os && egret.Capabilities.supportedCompressedTexture.pvrtc && -1 !== egret.runEgretOptionsIns.config.fmts.indexOf("pvr") && (GlobalValue.compressedTextureFormat = GlobalValue.TextureFormatPVR), "Android" === egret.Capabilities.os && egret.Capabilities.supportedCompressedTexture.etc1 && -1 !== egret.runEgretOptionsIns.config.fmts.indexOf("pkm") && (GlobalValue.compressedTextureFormat = GlobalValue.TextureFormatPKM)) : egret.Capabilities.supportedCompressedTexture.s3tc && -1 !== egret.runEgretOptionsIns.config.fmts.indexOf("dds") && (GlobalValue.compressedTextureFormat = GlobalValue.TextureFormatDDS);
				var n = "";
				n += egret.Capabilities.supportedCompressedTexture.etc1 ? "etc1," : "", n += egret.Capabilities.supportedCompressedTexture.etc2 ? "etc2," : "", n += egret.Capabilities.supportedCompressedTexture.pvrtc ? "pvrtc," : "", n += egret.Capabilities.supportedCompressedTexture.s3tc ? "s3tc," : "", n += egret.Capabilities.supportedCompressedTexture.astc ? "astc" : "", GlobalValue.compressedTextureFormatSupport = n
			}
		}
	}, n.prototype.runGame = function() {
		var e = this;
		new Promise((function(n, r) {
			if (window.versionConfig && window.versionConfigLoaded) n();
			else if (window.versionConfig) {
				var t = function() {
					window.versionConfig && window.versionConfigLoaded && (egret.Ticker.getInstance().unregister(t, e), n())
				};
				egret.Ticker.getInstance().register(t, e)
			} else n()
		})).then((function() {
			(new Date).getTime(), e.loadResource().then((function() {
				(new Date).getTime(), e.onResourceLoaded()
			}))
		})), "JFGAS3Url" in egret.runEgretOptionsIns.config && (egret.log("setJFGAS3Url_$ from config: " + egret.runEgretOptionsIns.config.JFGAS3Url), utils.setJFGAS3Url_$(egret.runEgretOptionsIns.config.JFGAS3Url)), utils.isInAPP() ? (JSNativeBridge.getInstance().init(), GlobalValue.LoginChannel = 1) : 2 === GlobalValue.LoginChannel ? (window.channelApiLoaded || utils.isMiniGame()) && tryInitWebSDK() : onWebSdkInited(), "JFGAS3Url" in egret.runEgretOptionsIns.config && utils.isInAPP() && (egret.log("setJFGAS3Url_$ from config: " + egret.runEgretOptionsIns.config.JFGAS3Url), utils.setJFGAS3Url_$(egret.runEgretOptionsIns.config.JFGAS3Url)), WebSocketManger.initInstance(), utils.getAppInfo()
	}, n.prototype.loadResource = function() {
		return new Promise((function(e, n) {
			try {
				var r = void 0,
					t = egret.runEgretOptionsIns.config.cdn,
					o = 0 === GlobalValue.LoginChannel ? "default.res.json" : "login.res.json";
				t.length > 0 ? (o = "resversion" in egret.runEgretOptionsIns.config ? o.replace(".json", "." + egret.runEgretOptionsIns.config.resversion + ".json") : o + "?v=" + Math.random(), r = RES.loadConfig(o, egret.runEgretOptionsIns.config.cdn + "resource/")) : r = RES.loadConfig("resource/" + o + "?v=" + Math.random(), "resource/"), r.then((function() {
					(utils.isMiniGame(), RES.loadGroup("preload", 0)).then((function() {
						e()
					}), n), egret.registerImplementation("eui.IAssetAdapter", new AssetAdapter), egret.registerImplementation("eui.IThemeAdapter", new ThemeAdapter)
				}), n)
			} catch (e) {
				console.error(e)
			}
		}))
	}, n.prototype.onResourceLoaded = function() {
		this.addChild(LoginUIGroup.getInstance()), LoginUIGroup.getInstance().onResize(), LoginUIGroup.getInstance().stage.addEventListener(egret.Event.RESIZE, LoginUIGroup.getInstance().onResize, LoginUIGroup.getInstance()), "loadLazyScript" in window || onDelayJsLoaded(), HubbleHelper_.collectTrans("start_login"), LoginManager.getInstance().initLoginUI().then((function() {
			utils.isInAPP() || utils.isMiniGame() ? (JSNativeBridge.getInstance().call("switchToEgret"), JSNativeBridge.getInstance().call("loginUILoad")) : "SdkMgr" in window && ClientLogHelper_.getInst().sendLog("LoginUI"), HubbleHelper_.collectTrans("loginui_shown", !1), "removeLaunch" in window && window.removeLaunch(), LoginUIGroup.open(LoginBackGroundUI), LoginManager.getInstance().initLoginUI(), (utils.isInAPP() || GlobalValue.unisdkLoaded) && LoginManager.getInstance().init(), "loadLazyScript" in window ? window.loadLazyScript("delay", onDelayJsLoaded) : GlobalValue.delayJsLoaded || onDelayJsLoaded()
		})), GlobalValue.resourceLoaded = !0
	}, n
}(egret.DisplayObjectContainer);

function onDelayJsLoaded() {
	HubbleHelper_.collectTrans("delayjs_loaded", !1);
	var e = "resversion" in egret.runEgretOptionsIns.config ? "resource/default.thm." + egret.runEgretOptionsIns.config.resversion + ".json" : "resource/default.thm.json?v=" + Math.random();
	new eui.Theme(e, Main.getInst().stage), UIManager.init(Main.getInst()), h5screenAdapter.needRefreshWhenEnterGame() ? utils.getAppInfo() : h5screenAdapter.adaptMainStage(Main.getInst().stage), LoginManager.getInstance().loginState !== LoginState.GAMING && LoginManager.getInstance().playLoginBgm();
	var n = RES.getVersionController();
	n && n.isNeedFullConfigLoad ? n.loadFullConfig().then((function() {
		GlobalValue.resourceConfigLoaded = !0
	})).catch((function() {
		console.log("resource config load error")
	})) : GlobalValue.resourceConfigLoaded = !0, GlobalValue.delayJsLoaded = !0, utils.messageBoxSwitchDelay(), eui.getTheme("resource/eui/Break.exml", (function() {})), eui.getTheme("resource/eui_skins/ButtonSkin.exml", (function() {})), !GlobalValue.gameJsLoaded && "loadLazyScript" in window ? window.loadLazyScript("game", onGameJsLoaded) : onGameJsLoaded()
}

function onGameJsLoaded() {
	HubbleHelper_.collectTrans("gamejs_loaded", !1), game_setting.loadSettingDataLocal(), ProtDispatcher.getInstance().initGameProt(), utils.StartQATest && utils.StartQATest(), FPSPingCalHelper_.getInst().init(), utils.isInAPP() || WebVoicePlayer.getInst(), GlobalValue.gameJsLoaded = !0
}

function tryInitWebSDK() {
	utils.isInAPP() || (HubbleHelper_.collectTrans("sdk_init", !1), webSDKInit().then(onWebSdkInited))
}

function webSDKInit() {
	var e = SdkMgr.getInst();
	return e.setPropStr(SdkMgr.ConstProp.GAME_VERSION, GlobalValue.clientVersion()), "netease" === SdkMgr.getInst().getProp(SdkMgr.ConstProp.APP_CHANNEL) && (e.setPropStr(SdkMgr.ConstProp.MPAY_CSS_DOMAIN, "https://mpay-web.g.mkey.163.com"), e.setPropStr(SdkMgr.ConstProp.MPAY_IFRAME_DOMAIN, "https://mpay-web.g.mkey.163.com"), e.setPropStr(SdkMgr.ConstProp.PLATFORM, "web")), "oppo_miniapp" === SdkMgr.getInst().getProp(SdkMgr.ConstProp.APP_CHANNEL) && window.OPPO && (e.setPropStr(SdkMgr.ConstProp.GAME_VERSION, "1.0.0"), e.setPropStr(SdkMgr.ConstProp.PAY_CB_URL, "https://mgbcb.matrix.netease.com/g102/cb/notify/oppo_miniapp/web/v2"), e.setPropStr(SdkMgr.ConstProp.GAME_NAME, "梦幻西游网页版"), e.setExtPropStr("OPPO_H5_APPKEY", "635kw1gsQhWkkGoKcsg0oOO48"), e.setExtPropStr("OPPO_H5_PACKAGENAME", "com.netease.mhxywybh5.nearme.gamecenter")), e.setPropStr(SdkMgr.ConstProp.APPID, egret.runEgretOptionsIns.config.appid), e.setPropStr(SdkMgr.ConstProp.JF_GAMEID, "g102"), "huawei_h5" === SdkMgr.getInst().getProp(SdkMgr.ConstProp.APP_CHANNEL) && (e.setPropStr(SdkMgr.ConstProp.COUNTRY_CODE, "CN"), e.setPropStr(SdkMgr.ConstProp.MERCHANT_ID, "890086000102062631"), e.setPropStr(SdkMgr.ConstProp.MERCHANT_NAME, "广州网易计算机系统有限公司"), e.setPropStr(SdkMgr.ConstProp.RSA_PUBLIC, "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAv2MBKijuJc11GjySlLcK7P7gBSqvV58tgPdn1supkEY4FHHcTmKTUDo/zymTPFOyhkxM927BGXQ66NJ1Luv+ID8v+hyDmKYWpK1JaqwWeyeh0zDu1vjc/0yo+sFgw/h2DZ7R6xaQlHFJW1him8kBJoBvRtu3GkadZJswJ3ifX8KjCL9gNqB5q2OwrBcRsFtt3UiWGoxgytMwEq7hT89ZJJJUpEKWkxKnBtKhmsyPQ7eBBRH3wt9KDtfC7MMbW3rdAPcPIwwWqhPsucRDOy/bXxhNH+wdwLyror3RLASxuMCeNrP5wM5Aj1CI1HWjveojvXArOKvPUm7UrlG/lyF2zQIDAQAB")), "JFGAS3Url" in egret.runEgretOptionsIns.config || e.setPropStr(SdkMgr.ConstProp.UNISDK_JF_GAS3_URL, "https://mgbsdk.matrix.netease.com"), e.setPropStr(SdkMgr.ConstProp.JF_LOG_KEY, "5H-6KIZn7Mmx0t6n-eLfy_lYzmLmbqN_"), "qutoutiaogame" === e.getProp(SdkMgr.ConstProp.APP_CHANNEL) && (e.setPropStr(SdkMgr.ConstProp.PAY_CB_URL, "https://mgbcb.matrix.netease.com/g102/cb/notify/qutoutiaogame/web/defaults"), "PayCbUrl" in egret.runEgretOptionsIns.config && e.setPropStr(SdkMgr.ConstProp.PAY_CB_URL, egret.runEgretOptionsIns.config.PayCbUrl)), H5ShareSdk.getInstance().initChannel(["weibo", "wechat"], {}).then((function(e) {
		egret.log("分享参数初始化" + (e ? "成功" : "失败"))
	})), e.ntInit()
}

function onWebSdkInited() {
	GlobalValue.unisdkLoaded = !0, GlobalValue.resourceLoaded && LoginManager.getInstance().init()
}
__reflect(Main.prototype, "Main");
var AndroidInputElement = function() {
	function e() {
		this.$style = new Object, this.$style.color = 16777215, this.$style.left = 0, this.$style.top = 0, this.$style.width = 0, this.$style.height = 0, this.$value = ""
	}
	return Object.defineProperty(e.prototype, "screenWidth", {
		set: function(e) {
			this.$screenWidth = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "screenHeight", {
		set: function(e) {
			this.$screenHeight = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "multiline", {
		set: function(e) {
			this.$multiline = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "type", {
		get: function() {
			return this.$type
		},
		set: function(e) {
			this.$type = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "maxlength", {
		get: function() {
			return this.$maxlength
		},
		set: function(e) {
			this.$maxlength = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "oninput", {
		set: function(e) {
			this.$oninput = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "onblur", {
		set: function(e) {
			this.$onblur = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "onkeydone", {
		set: function(e) {
			this.$onkeydone = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "onkeysend", {
		set: function(e) {
			this.$onkeysend = e
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "style", {
		get: function() {
			return this.$style
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "value", {
		get: function() {
			return this.$value
		},
		set: function(e) {
			this.$value = e
		},
		enumerable: !0,
		configurable: !0
	}), e.getInstance = function() {
		return e.instance || (e.instance = new e), e.instance
	}, e.prototype.blur = function() {
		JSNativeBridge.getInstance().call("closeKeyboard")
	}, e.prototype.focus = function() {
		var e = h5screenAdapter.getUpSafeDis();
		JSNativeBridge.getInstance().call("openKeyboard", [this.$value, this.$type, 0, e, 0, 0, 45, this.$style.color, this.$multiline, this.$maxlength])
	}, e.prototype.input = function(e) {
		this.$value = e, this.$oninput && this.$oninput()
	}, e.prototype.onKeyDone = function() {
		this.$onkeydone && this.$onkeydone()
	}, e.prototype.onKeySend = function() {
		this.$onkeysend && this.$onkeysend()
	}, e.instance = null, e
}();
__reflect(AndroidInputElement.prototype, "AndroidInputElement");
var DebugPlatform = function() {
	function n() {}
	return n.prototype.getUserInfo = function() {
		return __awaiter(this, void 0, void 0, (function() {
			return __generator(this, (function(n) {
				return [2, {
					nickName: "username"
				}]
			}))
		}))
	}, n.prototype.login = function() {
		return __awaiter(this, void 0, void 0, (function() {
			return __generator(this, (function(n) {
				return [2]
			}))
		}))
	}, n.prototype.deviceInfo = function() {
		return __awaiter(this, void 0, void 0, (function() {
			return __generator(this, (function(n) {
				return [2]
			}))
		}))
	}, n
}();
__reflect(DebugPlatform.prototype, "DebugPlatform", ["Platform"]), window.platform || (window.platform = new DebugPlatform);
var AssetAdapter = function() {
	function t() {}
	return t.prototype.getAsset = function(t, e, s) {
		function n(n) {
			e.call(s, n, t)
		}
		if (RES.hasRes(t)) {
			var r = RES.getRes(t);
			r ? n(r) : RES.getResAsync(t, n, this)
		} else GlobalFunc.B(t, n, this, RES.ResourceItem.TYPE_IMAGE)
	}, t
}();
__reflect(AssetAdapter.prototype, "AssetAdapter", ["eui.IAssetAdapter"]);
var BatteryInfo;
! function(t) {
	var n, i;
	! function(t) {
		t[t.unknow = 0] = "unknow", t[t.discharging = 1] = "discharging", t[t.plugin = 2] = "plugin", t[t.pluginFull = 3] = "pluginFull"
	}(n = t.BatteryState || (t.BatteryState = {})),
	function(t) {
		t[t.unknow = 0] = "unknow", t[t.wifi = 1] = "wifi", t[t.wwan = 2] = "wwan"
	}(i = t.NetworkState || (t.NetworkState = {})), t.InfoWidgetH = 30, t.batteryLevel = 80, t.batteryState = n.discharging, t.networkState = i.wwan, t.mainHeadShowBatteryInfo = function() {
		var n = utils.isInAPP() && "iOS" === egret.Capabilities.os;
		return h5screenAdapter.halfExtraDesign - h5screenAdapter.upAdaptDis >= t.InfoWidgetH && n
	}, t.getBatterInfoY = function() {
		var n = h5screenAdapter.halfExtraDesign - h5screenAdapter.upAdaptDis;
		return .5 * (n - t.InfoWidgetH) - n
	}, t.updateBatterLevel = function(n) {
		t.batteryLevel = Math.min(Math.max(n, 0), 100), EventBus.dispatchEvent(new CommonEvent(CommonEvent.BATTERINFOCHANGE))
	}, t.updateBatterState = function(i) {
		t.batteryState = i, EventBus.dispatchEvent(new CommonEvent(CommonEvent.BATTERINFOCHANGE)), r() && (t.batteryState === n.plugin ? o.getInstance().enablePowerSaving("plugin", !1) : o.getInstance().enablePowerSaving("plugin", !0))
	}, t.updateNetWorkState = function(n) {
		t.networkState = n, EventBus.dispatchEvent(new CommonEvent(CommonEvent.BATTERINFOCHANGE))
	}, t.savePeriod = 3e5;
	var e, s, u = -1;

	function r() {
		return !GlobalValue.isEmulator && !!utils.isInAPP() && utils.checkAppVersion("powerSave", !1)
	}
	t.darkBrightness = .05, t.limitUIFrameRate = 5, t.limitGuajiFrameRate = 8,
		function(t) {
			t[t.none = -1] = "none", t[t.auto = 0] = "auto", t[t.forbid = 1] = "forbid"
		}(e || (e = {})),
		function(t) {
			t[t.normal = 0] = "normal", t[t.saving = 1] = "saving"
		}(s || (s = {})), t.enableBatterSave = r;
	var o = function(i) {
		function o() {
			var t = i.call(this) || this;
			return t.$tipsID = -1, t.$policy = new HideInFirstPanelOpen, utils.isIosApp() && native_net.getBrightnessInfo().then((function(t) {
				(!(u = t.systemBrightness) || u <= .1) && (u = .5)
			})), LoginManager.getInstance().addEventListener(LoginEvent.GameReset, t.destroy, t), t.$isRunning = !1, utils.isIosApp() && (t.$watcher = new FixedTimer(2e3, 0), t.$watcher.addEventListener(egret.TimerEvent.TIMER, t.onWatchOnce, t)), t
		}
		return __extends(o, i), o.prototype.cancelSaveTimer = function() {
			-1 !== this.$saveTimer && clearTimeout(this.$saveTimer), this.$saveTimer = -1
		}, o.prototype.onOperation = function() {
			this.cancelSaveTimer(), this.$state === s.saving && this.onExitPowerSavingMode(), this.$saveTimer = utils.callLater(t.savePeriod, this.onEnterPowerSavingMode, [], this)
		}, o.prototype.monitorOperation = function() {
			var t = this;
			r() && (this.onOperation(), UIManager.AdaptedPanel.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onOperation, this), UIManager.stage.addEventListener(egret.Event.DEACTIVATE, (function() {
				t.cancelSaveTimer(), utils.isIosApp() && t.$state === s.saving && t.onExitPowerSavingMode(!1)
			}), this), UIManager.stage.addEventListener(egret.Event.ACTIVATE, (function() {
				t.$saveWay === e.auto && t.$state === s.normal && t.onOperation(), utils.isIosApp() && utils.callLater(0, (function() {
					t.onExitPowerSavingMode(!1)
				}))
			}), this))
		}, o.prototype.unMonitorOperation = function() {
			this.cancelSaveTimer(), UIManager.AdaptedPanel.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onOperation, this)
		}, o.prototype.onWatchOnce = function() {
			this.$state !== s.saving && this.onExitPowerSavingMode(!1)
		}, Object.defineProperty(o.prototype, "saveWay", {
			get: function() {
				return this.$saveWay
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(o.prototype, "state", {
			get: function() {
				return this.$state
			},
			enumerable: !0,
			configurable: !0
		}), o.prototype.start = function() {
			this.$isRunning = !0, this.$saveWay = e.none, this.$state = s.normal, this.$saveTimer = -1, this.$disableKeys = new dataStructure.Map, this.setPowerSavingWay(e.auto), t.batteryState === n.plugin && this.enablePowerSaving("plugin", !1), this.enablePowerSaving("setting", game_setting.SavePowerEnable), utils.isIosApp() && this.$watcher && this.$watcher.start()
		}, o.prototype.destroy = function() {
			this.unMonitorOperation(), this.$saveWay = e.none, this.$state === s.saving && this.onExitPowerSavingMode(), this.$isRunning = !1, utils.isIosApp() && this.$watcher && this.$watcher.stop()
		}, o.prototype.setPowerSavingWay = function(t) {
			this.$saveWay !== t && (this.$saveWay = t, this.$saveWay === e.forbid ? (this.$state === s.saving && this.onExitPowerSavingMode(), this.unMonitorOperation()) : this.$saveWay === e.auto && this.monitorOperation())
		}, o.prototype.enablePowerSaving = function(t, n) {
			if (void 0 === t && (t = ""), void 0 === n && (n = !0), this.$isRunning) {
				n ? this.$disableKeys.has(t) && this.$disableKeys.delete(t) : this.$disableKeys.set(t, !0);
				var i = this.$disableKeys.size > 0;
				this.setPowerSavingWay(i ? e.forbid : e.auto)
			}
		}, o.prototype.onEnterPowerSavingMode = function() {
			utils.YMessageBox("进入省电模式"), this.$saveTimer = -1, this.$state = s.saving, native_net.setWindowBrightness(t.darkBrightness), this.$tipsID = utils.OpenGlobalTipsUI("省电模式中……")
		}, o.prototype.onExitPowerSavingMode = function(t) {
			void 0 === t && (t = !0), t && utils.YMessageBox("退出省电模式"), this.$state = s.normal, native_net.setWindowBrightness(u), utils.CloseGlobalTipsUI(this.$tipsID)
		}, __decorate([SwallowError()], o.prototype, "start", null), __decorate([SwallowError()], o.prototype, "destroy", null), o
	}(utils.SingletonClass);
	t.BatterySaveMgr = o, __reflect(o.prototype, "BatteryInfo.BatterySaveMgr")
}(BatteryInfo || (BatteryInfo = {}));
var LinkListNode = function() {
	function t(t) {
		this.key = null, this.next = null, this.pre = null, this.key = t
	}
	return t.prototype.clearNode = function() {
		this.key = this.pre = this.next = null
	}, t
}();
__reflect(LinkListNode.prototype, "LinkListNode");
var List = function() {
	function t() {
		this.head = null, this.tail = null, this.size = 0
	}
	return t.prototype.isEmpty = function() {
		return !(this.size > 0)
	}, t.prototype.insertHead = function(t) {
		null == this.head && (this.head = this.tail = t), t.next = this.head, t.pre = null, this.head.pre = t, this.head = t, this.size++
	}, t.prototype.insertTail = function(t) {
		null == this.tail && (this.tail = this.head = t), t.pre = this.tail, t.next = null, this.tail.next = t, this.tail = t, this.size++
	}, t.prototype.popHead = function() {
		if (this.isEmpty()) return null;
		var t = this.head;
		return this.head === this.tail ? this.head = this.tail = null : (this.head = this.head.next, this.head.pre = null), this.size--, t
	}, t.prototype.popTail = function() {
		if (this.isEmpty()) return null;
		var t = this.tail;
		return this.tail === this.head ? this.head = this.tail = null : (this.tail = this.tail.pre, this.tail.next = null), this.size--, t
	}, t.prototype.popNode = function(t) {
		if (t === this.head) this.popHead();
		else if (t === this.tail) this.popTail();
		else {
			var i = t.pre,
				s = t.next;
			if (null === i || null === s) return !1;
			i.next = s, s.pre = i, t.next = t.pre = null
		}
		return !0
	}, t
}();
__reflect(List.prototype, "List");
var RESCacheLRU = function() {
	function t(t) {
		this.maxNodes = 1e4, this.cache = null, this.cacheBuffer = null, this.lruMap = null, this.maxSize = t, this.size = 0, this.initMap(), this.sheetMap = {}, this.imageMap = {}, this.sheetCleanTimer = new FixedTimer(5e3), this.sheetCleanTimer.addEventListener(egret.TimerEvent.TIMER, this.update, this), this.sheetCleanTimer.start()
	}
	return t.prototype.getMaxSize = function() {
		return this.maxSize
	}, t.prototype.getSize = function() {
		return this.size
	}, t.prototype.setMaxSize = function(t) {
		this.maxSize = t
	}, t.prototype.sheetCleanTicker = function() {
		LoginManager.getInstance().loginState === LoginState.GAMING && this.size > this.maxSize && this.checkSheetResource()
	}, t.prototype.update = function(i) {
		if (this.size > this.maxSize) {
			for (var s = RES.host, n = [], h = 0, e = Object.keys(this.imageMap); h < e.length; h++) {
				var r = e[h];
				if (l = s.get(this.imageMap[r].resource)) 0 == l.referenceCount && -1 == t.whiteList.indexOf(this.imageMap[r].resource.name) && n.push({
					key: r,
					atime: l.releaseTimeStamp
				});
				else {
					var u = this.imageMap[r];
					this.size -= u.size, delete this.imageMap[r]
				}
			}
			if (n.length > 0) {
				n.sort((function(t, i) {
					return t.atime - i.atime
				}));
				for (var o = 0; this.size > this.maxSize && o < n.length;) {
					u = this.imageMap[n[o].key];
					var l = s.get(u.resource); - 1 !== n[o].key.indexOf("assets/magic/") ? RES.destroyRes(u.resource.name) : l.$dispose(), this.size -= u.size, delete this.imageMap[n[o].key], o++
				}
			}
		}
		return egret.textAtlasRenderer && egret.textAtlasRenderer.gc(), !1
	}, t.prototype.initMap = function() {
		this.lruMap = new dataStructure.Map, this.cache = new List, this.cacheBuffer = new List
	}, t.prototype.moveToNew = function(t) {
		this.cache.popNode(t), this.cache.insertTail(t)
	}, t.prototype.pop = function() {
		if (this.cache.size > 0) {
			var t = this.cache.popHead();
			if (!t) return !1;
			var i = this.lruMap.get(t.key);
			if (i) return t.key && t.key.replace(".png", ".json").replace(egret.runEgretOptionsIns.config.cdn + "resource/", "") in this.sheetMap ? (this.cacheBuffer.insertTail(t), !0) : RES.destroyRes(t.key, !1) ? (this.size -= i[0], this.lruMap.delete(t.key), !0) : (this.cacheBuffer.insertTail(t), !0);
			egret.log("resource has removed, perhaps is sheet resource")
		}
		return !1
	}, t.prototype.free = function(t) {
		void 0 === t && (t = 100);
		for (var i = t; i-- > 0 && this.pop(););
		return this.cache.isEmpty() && (this.cache = this.cacheBuffer, this.cacheBuffer = new List), !0
	}, t.prototype.add = function(t, i) {
		var s = this.lruMap.get(t);
		if (s) s[0] = i, this.moveToNew(s[1]);
		else {
			var n = new LinkListNode(t);
			this.cache.insertTail(n), this.lruMap.set(t, [i, n]), this.size += i
		}
	}, t.prototype.moveToOld = function(t) {
		this.cache.popNode(t), this.cache.insertHead(t)
	}, t.prototype.clear = function() {
		this.lruMap.forEach((function(t, i) {
			t[1].clearNode(), RES.destroyRes(i)
		})), this.size = 0, this.lruMap.clear(), this.cache = new List, this.cacheBuffer = new List
	}, t.prototype.addSheetResource = function(t, i) {
		t.url in this.sheetMap || (this.sheetMap[t.url] = {
			resource: t,
			image: i
		})
	}, t.prototype.addImageResource = function(t, i) {
		t.url in this.imageMap || (this.imageMap[t.url] = {
			resource: t,
			size: i
		}, this.size += i)
	}, t.prototype.printSheetMap = function() {}, t.prototype.printImageMap = function() {
		for (var t = RES.host, i = 0, s = Object.keys(this.imageMap); i < s.length; i++) {
			var n = s[i],
				h = t.get(this.imageMap[n].resource);
			console.log(n, h.referenceCount, this.imageMap[n].size)
		}
	}, t.prototype.checkSheetResource = function() {
		for (var i = 0, s = Object.keys(this.sheetMap); i < s.length; i++) {
			var n = s[i],
				h = this.sheetMap[n].name.split("_json")[0];
			if (!(h && h in t.remainSheets)) {
				var e = RES.host.get(this.sheetMap[n]);
				if (e && e.$texture && (e.$texture.bitmapData && e.$texture.bitmapData.referenceCount <= 1 || !e.$texture.bitmapData)) {
					RES.destroyRes(this.sheetMap[n].name), delete this.sheetMap[n];
					var r = egret.runEgretOptionsIns.config.cdn + "resource/" + n.replace(".json", ".png"),
						u = this.lruMap.get(r);
					u && (this.size -= u[0], this.lruMap.delete(r))
				}
			}
		}
	}, t.remainSheets = {
		defaut: 1,
		common_uicontrol0: 1,
		common_uicontrol1: 1,
		common_uicontrol2: 1
	}, t.whiteList = ["bg_tips_png", "image_zhuanquan_png"], t
}();

function isExceptCachePath(t) {
	return t.indexOf("assets/eui/font/") > -1
}
__reflect(RESCacheLRU.prototype, "RESCacheLRU");
var RESCacheMgr = new RESCacheLRU("iOS" === egret.Capabilities.os ? GlobalValue.RESCacheSizeIOS : GlobalValue.RESCacheSizeOther);
var ClientLogHelper_ = function() {
	function i() {}
	return Object.defineProperty(i.prototype, "info", {
		get: function() {
			return this.$info
		},
		enumerable: !0,
		configurable: !0
	}), i.getInst = function() {
		return this._inst || (this._inst = new i), this._inst
	}, i.prototype.sendLog = function(i, n) {
		!utils.isInAPP() && window.SdkMgr && this.setWebSdkLogTemp_();
		var t = JSON.parse(JSON.stringify(this.$info));
		if (t.project = "g102", t.source = "netease_p1", t.type = i, n)
			for (var r = 0, e = Object.keys(n); r < e.length; r++) {
				var s = e[r];
				t[s] = n[s]
			}
		SdkMgr.getInst().DRPF(t)
	}, i.prototype.init = function() {
		this.$info = {}
	}, i.prototype.setWebSdkLogTemp_ = function() {
		if (utils.isPCWeiDuan()) {
			var i = utils.getQueryStringParameters();
			i && i.cps && (this.$info.app_channel = i.cps)
		}
		this.$info.udid || (this.$info.udid = SdkMgr.getInst().getProp(SdkMgr.ConstProp.UDID)), this.$info.unisdk_deviceid || (this.$info.unisdk_deviceid = SdkMgr.getInst().getProp(SdkMgr.ConstProp.DEVICE_ID))
	}, i.prototype.getAccountId = function() {
		var i = "",
			n = SdkMgr.getInst().getProp(SdkMgr.ConstProp.UID);
		return n && (i = n + "@" + SdkMgr.getInst().getProp(SdkMgr.ConstProp.PLATFORM) + "." + SdkMgr.getInst().getProp(SdkMgr.ConstProp.APP_CHANNEL) + ".win.163.com"), i
	}, i.prototype.setQualityLog_ = function() {}, i.prototype.setActivateLog_ = function() {
		this.$info.os_name = this.getOSName(), this.$info.os_ver = this.getOSVersion(), this.$info.device_model = window.navigator.userAgent, this.$info.device_width = window.innerWidth > 0 ? window.innerWidth : screen.width, this.$info.device_height = window.innerHeight > 0 ? window.innerHeight : screen.height
	}, i.prototype.isAndroid = function() {
		var i = window.navigator.userAgent;
		return -1 < i.indexOf("Android") || -1 < i.indexOf("Adr")
	}, i.prototype.getAndroidVersion = function() {
		var i = window.navigator.userAgent.match(/(Android|Adr) (\d+(?:\.\d+)+);/);
		return i ? i[2] : "unknown"
	}, i.prototype.isIOS = function() {
		return !!window.navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)
	}, i.prototype.getIOSVersion = function() {
		var i = window.navigator.userAgent.match(/OS ((\d+_?){2,3})\s/);
		return i ? i[1].replace(/_/g, ".") : "unknown"
	}, i.prototype.getOSName = function() {
		return this.isAndroid() ? "android" : this.isIOS() ? "ios" : "pc"
	}, i.prototype.getOSVersion = function() {
		return this.isAndroid() ? this.getAndroidVersion() : this.isIOS() ? this.getIOSVersion() : "unknown"
	}, i.prototype.send = function() {
		return __awaiter(this, void 0, void 0, (function() {
			return __generator(this, (function(i) {
				return 2 === GlobalValue.LoginChannel && this.setActivateLog_(), this.setQualityLog_(), this.$info.oaid = GlobalValue.getAppInfo().oaid, this.$info.user_agent = navigator.userAgent, this.$info.in_app = utils.isInAPP(), this.$info.app_ver = GlobalValue.clientVersion(), login_net.me(this.$info), [2]
			}))
		}))
	}, i.QualityLevelName = {
		0: "Custom",
		1: "Low",
		2: "Medium",
		3: "High"
	}, i
}();
__reflect(ClientLogHelper_.prototype, "ClientLogHelper_");
var FPSPingCalHelper_ = function() {
	function i() {}
	return i.getInst = function() {
		return this._inst || (this._inst = new i), this._inst
	}, i.prototype.setValue = function() {
		if (UIManager && UIManager.stage && UIManager.stage.frameRate) {
			var i = egret.getTimer();
			i - this.$lastLogTime < 61e3 || (this.$lastLogTime = i, this.pushFPSValue_(UIManager.stage.frameRate), PingCalHelper_.getInst().getPing() && this.pushPingValue_(PingCalHelper_.getInst().getPing()), PingCalHelper_.getInst().reset(), LoginManager.getInstance().loginState === LoginState.GAMING && (ClientLogHelper_.getInst().info.ping = this.getPing(), ClientLogHelper_.getInst().info.fps = this.getFPS(), ClientLogHelper_.getInst().send()))
		}
	}, i.prototype.init = function() {
		PingCalHelper_.getInst().init(), this.$fps = new Array, this.$ping = new Array, this.$timer = new FixedTimer(61e3, 0), this.$timer.addEventListener(egret.TimerEvent.TIMER, this.setValue, this), this.$timer.start(), this.$lastLogTime = 0
	}, i.prototype.pushFPSValue_ = function(i) {
		this.$fps.push(i) > 5 && this.$fps.shift()
	}, i.prototype.pushPingValue_ = function(i) {
		this.$ping.push(i) > 5 && this.$ping.shift()
	}, i.prototype.getFPS = function() {
		return this.$fps
	}, i.prototype.getPing = function() {
		return this.$ping
	}, i
}();
__reflect(FPSPingCalHelper_.prototype, "FPSPingCalHelper_");
var PingCalHelper_ = function() {
	function i() {}
	return i.getInst = function() {
		return this._inst || (this._inst = new i), this._inst
	}, i.prototype.init = function() {
		this.reset()
	}, i.prototype.setPing = function(i) {
		this.$ping = (this.$ping * this.$count + i) / (this.$count + 1)
	}, i.prototype.getPing = function() {
		return this.$ping
	}, i.prototype.reset = function() {
		this.$count = 0, this.$ping = 0
	}, i
}();
__reflect(PingCalHelper_.prototype, "PingCalHelper_");
var CommonEvent = function(n) {
	function t(t, e) {
		return n.call(this, t, !1, !1, e) || this
	}
	return __extends(t, n), t.CHARGEDONE = "ChargeDone", t.PAYSTART = "PayStart", t.PAYSUCCESS = "PaySuccess", t.PAYFAIL = "PayFail", t.TIMER = "Timer", t.SHOPBUYDONE = "ShopBuyDone", t.SCREENHWSETTED = "ScreenHWSetted", t.CHECKHIDEPOLICY = "CheckHidePolicy", t.ACTIVATIONUICLOSE = "ActivationUiClose", t.BIGLUCKYGET = "BigLuckyGet", t.SHOPPINGMALLOPEN = "ShoppingMall", t.SHARERETURN = "ShareReturn", t.ARTIFACTLUCKYCLOSE = "ArtifactLuckyClose", t.BATTERINFOCHANGE = "BatterInfoChange", t.ADPERMISSIONRESULT = "AdPermissionResult", t.CROSSAUTOVOICE = "CrossAutoVoice", t.LACKXIANYUGOTO = "LackXianyuGoto", t.MAINBOTTOMTAP = "MainBottomTap", t
}(egret.Event);
__reflect(CommonEvent.prototype, "CommonEvent");
var CommonEventManager = function(n) {
	function t() {
		var t = n.call(this) || this;
		return t.addEventListener(CommonEvent.PAYSUCCESS, t.playUpdateXianyuAni, t), t.addEventListener(CommonEvent.PAYSUCCESS, t.payStatusChange, t), t.addEventListener(CommonEvent.PAYFAIL, t.payStatusChange, t), t.addEventListener(CommonEvent.PAYSTART, t.payStatusChange, t), t
	}
	return __extends(t, n), t.getInstance = function() {
		return this.$inst || (this.$inst = new t), this.$inst
	}, Object.defineProperty(t.prototype, "payStatus", {
		get: function() {
			return this.$payStatus
		},
		enumerable: !0,
		configurable: !0
	}), t.prototype.setPayProcessPlayXianyu = function() {
		this.$payStatus && (this.$payProcessPlayXianyu = !0)
	}, t.prototype.payStatusChange = function(n) {
		this.$payStatus = n.data, this.$payStatus || (this.$payProcessPlayXianyu = !1)
	}, t.prototype.playUpdateXianyuAni = function() {
		if (this.$payProcessPlayXianyu) {
			this.$payProcessPlayXianyu = !1;
			var n = UIManager.createTweenGroupPanel(UIManager.TopPanel, "resource/eui/xianyuhuiji_anim.exml");
			n.z = GlobalValue.topPannelZConfig.JadeAnimi, n.play(1, (function() {
				n.visible = !1, utils.updateMoneyShow("immortalJade")
			}))
		}
	}, t
}(egret.EventDispatcher);
__reflect(CommonEventManager.prototype, "CommonEventManager");
var EventBus = CommonEventManager.getInstance();
var DumpHelper_;
! function(e) {
	var n = {};

	function r(e) {
		return !(e in n || (n[e] = !0, 0))
	}
	e.testLogSend = r, e.em = function(e, n, a, t) {
		if (r(a)) {
			if (!window.FormData) return egret.warn("DumpHelper: FormData is undefined"), void(utils.isInAPP() && native_net.postJsScriptError(n));
			var i = new FormData;
			t && i.append("transid", t.toString()), "HeroMainManager" in window && HeroMainManager.getInstance().userId && (i.append("uid", HeroMainManager.getInstance().userId.toString()), i.append("username", HeroMainManager.getInstance().nickname)), i.append("info", location.href), i.append("os_type", utils.getClientOsType_$()), i.append("client_v", "" + GlobalValue.clientVersion()), i.append("crash_time", (new Date).getTime().toString()), LoginManager.getInstance().serverInfo && i.append("server_name", LoginManager.getInstance().serverInfo.servername), i.append("error_type", "JAVASCRIPT_ERROR"), n && i.append("file", new Blob([n], {
				type: "application/octet-stream"
			}), "error.script");
			var o = new XMLHttpRequest;
			o.open("POST", "https://hs8v60st.webgame.crashhunter.nie.netease.com/upload", !0), o.send(i), o.onreadystatechange = function() {
				4 === o.readyState && 200 === o.status && egret.log("!!dump send success")
			}
		}
	}
}(DumpHelper_ || (DumpHelper_ = {}));
var GuideStep = function() {
	function i(i) {
		this.$guide = i, this.$gid = 0, this.$step = 0, this.$finishCondition = -1, this.$retryCnt = 0, this.$specFinishCondition = []
	}
	return Object.defineProperty(i.prototype, "traceObj", {
		get: function() {
			return this.$traceObj
		},
		set: function(i) {
			this.$traceObj = i
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "finishCondition", {
		get: function() {
			return this.$finishCondition
		},
		set: function(i) {
			this.$finishCondition = i
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "specFinishCondition", {
		get: function() {
			return this.$specFinishCondition
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "gid", {
		get: function() {
			return this.$gid
		},
		set: function(i) {
			this.$gid = i
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "step", {
		get: function() {
			return this.$step
		},
		set: function(i) {
			this.$step = i
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "uiObj", {
		get: function() {
			return this.$uiObj
		},
		set: function(i) {
			this.$uiObj = i
		},
		enumerable: !0,
		configurable: !0
	}), i.prototype.start = function() {
		egret.log("Start guide!! GID" + this.$gid + ", STEP" + this.$step + ", retryCnt" + this.$retryCnt), !GuideEngine.getInst().startGuideStep(this) && this.$retryCnt < 10 ? (utils.callLater(500, this.start, null, this), this.$retryCnt += 1) : this.$retryCnt = 0
	}, i.prototype.stop = function() {
		return egret.log("Stop guide!! GID" + this.$gid + ", STEP" + this.$step), GuideEngine.getInst().stopGuideStep(this)
	}, i
}();
__reflect(GuideStep.prototype, "GuideStep");
var Guide = function() {
	function i() {
		this.$steps = new Array, this.$idx = 0, this.$gid = 0
	}
	return Object.defineProperty(i.prototype, "gid", {
		get: function() {
			return this.$gid
		},
		set: function(i) {
			this.$gid = i
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(i.prototype, "steps", {
		get: function() {
			return this.$steps
		},
		enumerable: !0,
		configurable: !0
	}), i.prototype.pushStep = function(i) {
		this.$steps.push(i)
	}, i.prototype.start = function() {
		this.$idx = 0, this.$steps[this.$idx].start()
	}, i.prototype.gotoStep = function(i) {
		this.$steps[this.$idx].stop(), i < this.$steps.length ? (this.$idx = i, this.startStep()) : GuideEngine.getInst().onGuideFinish(this.$gid)
	}, i.prototype.nextStep = function() {
		this.$steps[this.$idx].stop(), this.$idx < this.$steps.length - 1 ? (this.$idx += 1, this.startStep()) : GuideEngine.getInst().onGuideFinish(this.$gid)
	}, i.prototype.startStep = function() {
		this.$steps[this.$idx].start()
	}, i.prototype.stop = function() {
		this.$steps[this.$idx].stop(), this.$idx = 0
	}, i.prototype.getCurrStep = function() {
		return this.$steps[this.$idx]
	}, i
}();
__reflect(Guide.prototype, "Guide");
var GuideFinger = function() {
	function i() {}
	return i.getMcData = function() {
		var i = this;
		MCDataCaches.getMCData("resource/assets/animate/HandClick.json", (function(t) {
			var e = new egret.Texture;
			e._setBitmapData(t.mcTexture.bitmapData), i.$texture = e, i.$mcData = t
		}), this)
	}, i.checkMcData = function() {
		return !!this.$mcData
	}, i.getFingerObj = function() {
		if (this.$mcData) {
			var i = new egret.MovieClip;
			return i.movieClipData = egret.MovieClipDataFactory.getInstance().generateMovieClipData(this.$mcData.mcData, this.$texture), i.gotoAndPlay(i.movieClipData.labels[0].name, -1), i.name = "GuideFinger", i
		}
		return null
	}, i
}();
__reflect(GuideFinger.prototype, "GuideFinger");
var MoveFinger = function() {
	function i() {}
	return i.getInst = function() {
		return this.$img || (this.$img = new eui.Image("resource/assets/eui/common/img_shouzhi.png"), this.$img.visible = !1, UIManager.TopPanel.addChild(this.$img)), this.$img
	}, i
}();
__reflect(MoveFinger.prototype, "MoveFinger");
var GuideEvent = function(i) {
	function t(t, e) {
		return i.call(this, t, !1, !1, e) || this
	}
	return __extends(t, i), t.CONDITION_FINISH = "ConditionFinish", t
}(egret.Event);
__reflect(GuideEvent.prototype, "GuideEvent");
var GuideEngine = function(i) {
	function t() {
		var t = i.call(this) || this;
		return t.$traceObjs = {}, t.addEventListener(GuideEvent.CONDITION_FINISH, t.onGuideAction, t), t
	}
	return __extends(t, i), Object.defineProperty(t.prototype, "guide", {
		get: function() {
			return this.$curGuide
		},
		enumerable: !0,
		configurable: !0
	}), t.getInst = function() {
		return this.$instance || (this.$instance = new t), this.$instance
	}, t.prototype.registUITraceObject = function(i, t, e) {
		this.$traceObjs[i] = {
			parent: t,
			trace: e
		}, e.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTraceObj, this)
	}, t.prototype.unregistUITraceObject = function(i) {
		for (var t in this.$traceObjs)
			if (this.$traceObjs[t].parent == i) {
				delete this.$traceObjs[t];
				break
			}
	}, t.prototype.createGuide = function(i) {
		for (var t = [], e = 0, n = Object.keys(guide.info); e < n.length; e++) {
			var r = n[e];
			r.split("|")[0] === String(i) && t.push(r)
		}
		if (0 === t.length) return egret.log("ERROR: Guide data not found, GID:" + i), null;
		t.sort((function(i, t) {
			return Number(i.split("|")[1]) - Number(t.split("|")[1])
		}));
		var u = new Guide;
		u.gid = i;
		for (var s = 1, h = t.length; s <= h; s++) {
			var o = new GuideStep(u);
			o.gid = i, o.step = s, u.pushStep(o)
		}
		return egret.log("guide len: " + u.steps.length), u
	}, t.prototype.startGuide = function(i) {
		var t = this.createGuide(i);
		t && (this.setCurrGuide(t), this.$curGuide.start())
	}, t.prototype.setCurrGuide = function(i) {
		this.$curGuide && this.stopGuide(this.$curGuide.gid), this.$curGuide = i
	}, t.prototype.onTouchTraceObj = function(i) {
		if (this.$curGuide) {
			var t = this.$curGuide.getCurrStep();
			t.traceObj !== i.target && t.traceObj !== i.target.parent || (0 === t.finishCondition ? this.$curGuide.nextStep() : 1 === t.finishCondition && this.$curGuide.getCurrStep().stop())
		}
	}, t.prototype.createGuideAnimation = function(i, e, n, r, u, s, h) {
		if (this.$curGuide && this.$curGuide.getCurrStep() === i) {
			i.uiObj && i.uiObj.parent && (i.uiObj.parent.removeChild(i.uiObj), i.uiObj = null);
			for (var o = {}, c = 0, f = n.split("|"); c < f.length; c++) {
				var g = f[c].split(":");
				2 === g.length && (o[g[0]] = g[1])
			}
			if ("手指" === e)
				if (GuideFinger.checkMcData()) {
					var a = GuideFinger.getFingerObj(),
						d = egret.is(u, "egret.DisplayObjectContainer") ? u : u.parent ? u.parent : r.baseInst,
						l = u.localToGlobal(u.width * h.x, u.height * h.y),
						b = d.globalToLocal(l.x, l.y);
					a.x = b.x, a.y = b.y, i.uiObj = a;
					var v = MoveFinger.getInst();
					o.move = "0", egret.Tween.removeTweens(v), i.step > 1 && "1" === o.move ? (v.visible = !0, egret.Tween.get(v).to({
						x: l.x,
						y: l.y
					}, 400).call((function(i, e, n) {
						n.visible = !1;
						var r = t.getInst().$curGuide;
						r && i === r.getCurrStep() && d.addChild(i.uiObj)
					}), this, [i, r, v])) : (v.visible = !1, v.x = l.x, v.y = l.y, d.addChild(i.uiObj))
				} else egret.log("ERROR! 手指动画未加载！等0.5s"), egret.setTimeout(this.createGuideAnimation, this, 500, i, e, n, r, u, s, h);
			i.uiObj && (i.uiObj.visible = !0)
		}
	}, t.prototype.startGuideStep = function(i) {
		for (var t, e = guide.info[i.gid + "|" + i.step], n = e[guide.TRACE], r = e[guide.TRACE_ARG], u = e[guide.OFFSET].split(","), s = 0, h = e[guide.FINISH_CONDITION].split("|"); s < h.length; s++) {
			var o = h[s];
			if ("0" === o || "1" === o) i.finishCondition = Number(o);
			else if (o in guide_condition) egret.log(guide_condition[o]), -1 === i.specFinishCondition.indexOf(guide_condition[o]) && i.specFinishCondition.push(guide_condition[o]);
			else if ("-1" !== o) return egret.log("ERROR! GUIDE完成条件" + o + "没有注册！"), !1
		}
		if (!(n in guide_register.info)) return egret.log("ERROR! GUIDE追踪对象" + n + "没有注册函数!"), !1;
		if (!((t = guide_register.info[n][guide_register.REGISTER]) in guide_register_function)) return egret.log("ERROR! 追踪对象对应注册函数" + t + "不存在"), !1;
		if (!guide_register_function[t](n, r)) return !1;
		var c = this.$traceObjs[n];
		return c ? (this.createGuideAnimation(i, e[guide.ANIMATION], e[guide.ANIMATION_ARG], c.parent, c.trace, r, new egret.Point(Number(u[0]), Number(u[1]))), i.traceObj = c.trace, !0) : (egret.log("ERORR! traceObjs不存在！"), !1)
	}, t.prototype.stopGuideStep = function(i) {
		i.uiObj && (null !== i.uiObj.parent && i.uiObj.parent.removeChild(i.uiObj), i.uiObj = null), i.traceObj && (i.traceObj.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTraceObj, this), i.traceObj = null)
	}, t.prototype.stopGuide = function(i) {
		this.$curGuide && this.$curGuide.gid === i && (this.$curGuide.stop(), this.$curGuide = null)
	}, t.prototype.gotoStep = function(i, t) {
		this.$curGuide && i === this.$curGuide.gid && this.$curGuide.gotoStep(t)
	}, t.prototype.nextStep = function() {
		this.$curGuide && this.$curGuide.nextStep()
	}, t.prototype.onGuideFinish = function(i) {
		egret.log("Guide finish!! GID:" + i), this.$curGuide && this.stopGuide(this.$curGuide.gid)
	}, t.prototype.onGuideAction = function(i) {
		egret.log("on guide action KEY:" + i.data), this.$curGuide && this.$curGuide.getCurrStep().specFinishCondition.indexOf(i.data) > -1 && this.$curGuide.nextStep()
	}, t
}(egret.EventDispatcher);
__reflect(GuideEngine.prototype, "GuideEngine");
var HubbleHelper_;
! function(e) {
	var r = [],
		a = !1,
		n = 0,
		t = 0,
		o = "",
		i = null,
		l = 0,
		c = 0,
		u = !1;

	function f() {
		a = !0;
		var r = GlobalValue.InnerTest ? 50 : 300;
		utils.callLater(1e3 * r, (function() {
			e.ev()
		}), [], this)
	}

	function s() {
		a = !0;
		var r = GlobalValue.InnerTest ? 10 : 60;
		utils.callLater(1e3 * r, (function() {
			e.rv()
		}), [], this)
	}

	function v() {
		var e, r = {};
		GlobalValue.InnerTest ? (r.scope = "test", r.branch = GlobalValue.InnerBranch) : r.scope = "release";
		try {
			e = utils.isInAPP() ? GlobalValue.devId : SdkMgr.getInst().getProp(SdkMgr.ConstProp.DEVICE_ID)
		} catch (r) {
			e = ""
		}
		var a = GlobalValue.getAppInfo();
		r.runtime_type = egret.Capabilities.runtimeType, utils.isInAPP() ? r.runtime_type += "_app" : utils.isPCWeiDuan() && (r.runtime_type += "_pc"), r.platform = utils.getClientOsType_$(), r.agent = Object.keys(GlobalValue.userAgentDict)[utils.getUserAgent_$()], r.client_v = GlobalValue.clientVersion(), r.device_model = a.device_model, r.os_version = a.os_ver, r.phone_st_permession = a.phone_st, r.channel = GlobalValue.appChannel, r.login_channel = GlobalValue.LoginChannel, r.device_id = e, r.texture_format = GlobalValue.compressedTextureFormat, r.compressed_texture = GlobalValue.compressedTextureFormatSupport;
		var n = GlobalValue.AppVersionInfo;
		n || (n = {}), r.appVersion = n.version ? n.version : "", r.appBuild = n.build ? n.build : "", r.bundle_id = n.packageName ? n.packageName : "";
		try {
			var t;
			(t = utils.isInAPP() ? window.sdkUdid ? window.sdkUdid : JSON.parse(LoginManager.getInstance().sauthJson).udid : window.SdkMgr.getInst().getUdid()) && (r.udid = t)
		} catch (e) {}
		return r
	}

	function h() {
		var e = {};
		e.map_id = GlobalValue.guajiMap, e.in_war = WarUI.warState, e.war_speed = game_setting.WarSpeedRatio;
		try {
			HeroMainManager.getInstance().userId && (e.user_id = HeroMainManager.getInstance().userId.toString(), e.user_name = HeroMainManager.getInstance().nickname, e.level = HeroMainManager.getInstance().level, e.shape = HeroMainManager.getInstance().shape, e.horse = HeroMainManager.getInstance().horse, e.weapon = HeroMainManager.getInstance().weapon)
		} catch (e) {}
		try {
			var r = UIManager.getTag(UIManager.getCurrentUI().clazz);
			e.cur_ui = r.toString()
		} catch (e) {}
		return e
	}

	function d() {
		var e = 0;
		return performance && performance.memory && performance.memory.usedJSHeapSize && (e = performance.memory.usedJSHeapSize), e += RESCacheMgr.getSize(), Math.floor(e)
	}

	function b(e) {
		if (a && !(r.length <= 0)) {
			var n = r[r.length - 1];
			for (var t in e) n[t] = e[t]
		}
	}

	function g(e) {
		var r = new XMLHttpRequest;
		r.open("POST", "https://sigma-performance-g102.proxima.nie.netease.com", !0), r.send(JSON.stringify(e)), r.onreadystatechange = function() {
			4 === r.readyState && 200 === r.status ? egret.log("!!hubble send success") : 4 === r.readyState && egret.log("!!hubble send failed", r.status)
		}
	}
	e.av = function() {
		return a
	}, e.nv = function() {
		a = !1, r.length = 0
	}, e.tv = f, e.ov = s, e.onScriptStart = function() {
		n = Date.now(), o = "script_loaded", t = window.performance && window.performance.timing ? performance.timing.navigationStart : n
	}, e.rv = function() {
		if (a) {
			var e = egret.sys.getPerformace(),
				n = v(),
				o = h();
			for (var i in o) n[i] = o[i];
			n.tag = "perf", e ? (n.draw_call = e.drawcall || 0, n.fps = e.fps || 0) : (n.draw_call = 0, n.fps = 0), utils.isInAPP() ? (JSNativeBridge.getInstance().call("getMemoryInfo"), JSNativeBridge.getInstance().call("getBatteryInfo"), JSNativeBridge.getInstance().call("getNetflowInfo")) : n.mem_usage = d(), n.rescache_size = RESCacheMgr.getSize();
			try {
				var l = new Date;
				n.time = GlobalFunc.dateFormat(l, "yyyy-MM-dd hh:mm:ss ") + GlobalFunc.getCurrentTimeZone(l)
			} catch (e) {
				n.time = (new Date).getTime().toString()
			}
			n.elasped = ~~(Date.now() - t), r.push(n), s()
		}
	}, e.iv = b, e.lv = function(e) {
		if (i) {
			var r = Date.now() - i,
				a = ~~(1e3 * (e.netflow_dl - l) / r),
				n = ~~(1e3 * (e.netflow_ul - c) / r);
			i += r, l = e.netflow_dl, c = e.netflow_ul, e.netflow_dl_speed = a, e.netflow_ul_speed = n
		} else i = Date.now(), l = e.netflow_dl, c = e.netflow_ul;
		b(e)
	}, e.collectTrans = function(e, r, a) {
		void 0 === r && (r = !0), void 0 === a && (a = null);
		try {
			var i = v();
			if (i.tag = "trans", "start_login" == e) {
				if (window.performance && window.performance.timing) {
					var l = performance.timing;
					i.connect_cost = l.connectEnd - l.connectStart, i.scriptload_cost = ~~(n - l.navigationStart),
						function() {
							if (void 0 !== performance) {
								var e = performance.getEntriesByType("resource");
								if (void 0 === e || e.length <= 0) console.log("= Calculate Load Times: there are NO `resource` performance records");
								else
									for (var r = 0; r < e.length; r++) {
										var a = e[r].startTime > 0 ? e[r].responseEnd - e[r].startTime : 0,
											n = e[r].initiatorType + "_response";
										p.collect(n, a, !1)
									}
							} else console.log("= Calculate Load Times: performance NOT supported")
						}()
				}
				var c = p.dump();
				for (var u in c) i[u] = c[u];
				console.log("scriptload_cost:" + i.scriptload_cost)
			}
			if (a)
				for (var f = 0, s = Object.keys(a); f < s.length; f++) {
					var h = s[f];
					i[h] = a[h]
				}
			i.mem_usage = d(), i.state = e, r && (i.prestate = o), i.elasped = ~~(Date.now() - t);
			var b = new Date;
			i.time = GlobalFunc.dateFormat(b, "yyyy-MM-dd hh:mm:ss ") + GlobalFunc.getCurrentTimeZone(b), i.timezone = b.getTimezoneOffset() / -60, g(i)
		} catch (e) {
			console.warn("collectSpecial failed:" + e)
		}
		r && (o = e)
	}, e.ev = function() {
		for (var e = 0, n = r; e < n.length; e++) g(n[e]);
		r.length = 0, a && f()
	};
	var p = function() {
		function e() {}
		return e.collect = function(e, r, a) {
			e in this.m_counters ? (this.m_counters[e].total += r, a && (this.m_counters[e].count += 1)) : this.m_counters[e] = {
				total: r,
				count: 1
			}
		}, e.dump = function() {
			var e = {};
			for (var r in this.m_counters) e[r] = ~~(this.m_counters[r].total / this.m_counters[r].count);
			return this.m_counters = {}, e
		}, e.m_counters = {}, e
	}();

	function M() {
		return window.performance ? performance.now() : Date.now()
	}
	__reflect(p.prototype, "TimeCollecter");
	var m = function() {
		function e(e) {
			this.m_start_time = 0, this.m_tag = e, this.reset()
		}
		return e.prototype.collect = function() {
			var e = this.get();
			return p.collect(this.m_tag, e, !0), e
		}, e.prototype.reset = function() {
			this.m_start_time = M()
		}, e.prototype.get = function() {
			return M() - this.m_start_time
		}, e
	}();
	e.TimeStater = m, __reflect(m.prototype, "HubbleHelper_.TimeStater"), e.sendWeaponErrorInfo = function(e) {
		if (!u) {
			egret.log("!!sendWeaponErrorInfo", e);
			var r = v(),
				a = h();
			for (var n in a) r[n] = a[n];
			for (var n in e) r[n] = e[n];
			g(r), u = !0
		}
	}
}(HubbleHelper_ || (HubbleHelper_ = {}));
var JSNativeBridge = function() {
	function t() {}
	return t.getInstance = function() {
		return t.instance || (t.instance = new t), t.instance
	}, t.onRecieveNativeMsg = function(e) {
		var i = JSON.parse(e);
		if (utils.isInAPP() && "ios" === utils.getClientOsType_$() && ["updateBatteryInfo", "updateMemoryInfo", "updateNetflowInfo"].indexOf(i.func) > -1) try {
			i.args = i.args.replace(", }", "}")
		} catch (t) {
			egret.log(t)
		}
		i.callback ? t.getInstance().execJSCallback(i.callback, JSON.parse(i.args)) : t.getInstance().execJSFunction(i.func, JSON.parse(i.args))
	}, t.prototype.init = function() {
		this.$callbacks = new dataStructure.Map, this.$callbackid = 0, egret.ExternalInterface.addCallback("sendToJS", t.onRecieveNativeMsg), this.call("JSNativeBrightSetup")
	}, t.prototype.execJSCallback = function(t, e) {
		var i = this.$callbacks.get(t);
		i && (i.callbackFunc.call(i.thisObject, e), this.$callbacks.delete(t))
	}, t.prototype.execJSFunction = function(t, e) {
		e = e || [];
		var i = native_net[t];
		i && i.apply(native_net, [e])
	}, t.prototype.call = function(t, e, i, n) {
		var a = {
			func: t,
			args: e = e || [],
			callback: 0
		};
		i && (a.callback = ++this.$callbackid, this.$callbacks.set(this.$callbackid, {
			callbackFunc: i,
			thisObject: n
		})), egret.ExternalInterface.call("sendToNative", JSON.stringify(a))
	}, t.instance = null, t
}();
__reflect(JSNativeBridge.prototype, "JSNativeBridge");
var MCDataCaches;
! function(n) {
	n.getMCData = function(n, a, c) {
		var l = null,
			t = null,
			u = function() {
				l && t && void 0 !== a && a.call(c, {
					mcTexture: l,
					mcData: t,
					filename: n
				})
			};
		GlobalFunc.B(n, (function(a, c) {
			t = a, GlobalFunc.F(n), u()
		})), GlobalFunc.B(n.replace(".json", ".png"), (function(n, a) {
			var c = new egret.Texture;
			c._setBitmapData(n), l = c, u()
		}))
	}
}(MCDataCaches || (MCDataCaches = {}));
var MutiFrameExecter = function() {
	function t(t, i) {
		this.fun = t, this.thisObj = i
	}
	return t.prototype.onFrame = function() {}, t.prototype.run = function() {
		this.stop(), UIManager.stage.addEventListener(egret.Event.ENTER_FRAME, this.onFrame, this)
	}, t.prototype.stop = function() {
		UIManager.stage.removeEventListener(egret.Event.ENTER_FRAME, this.onFrame, this)
	}, t.prototype.destroy = function() {
		this.fun = null, this.thisObj = null
	}, t
}();
__reflect(MutiFrameExecter.prototype, "MutiFrameExecter");
var MutiFrameDataProc = function(t) {
	function i(i, s, h, r, n) {
		void 0 === n && (n = {});
		var e = t.call(this, i, s) || this;
		return e.dataGetter = h, e.dataWrapper = r, e.parms = n, e.useCache = !e.dataGetter, e.curIdx = 0, e.clearData(), e
	}
	return __extends(i, t), i.prototype.swapData = function() {
		this.data = this.cacheData, this.cacheData = []
	}, i.prototype.clearData = function() {
		this.data = [], this.cacheData = []
	}, i.prototype.exeFuncOnce = function() {
		var t, i = this.parms.chunkLen ? this.parms.chunkLen : 1,
			s = this.curIdx;
		if (this.useCache) {
			this.data.length < i && (this.cacheData = this.cacheData.reverse(), this.cacheData = this.cacheData.concat(this.data), this.swapData()), t = [];
			for (var h = 0, r = this.data.length; h < i && h < r; h++) t.push(this.data.pop())
		} else {
			if (!(t = this.dataGetter.apply(this.thisObj, [this.curIdx, i]))) return void this.stop();
			this.curIdx += i
		}
		this.dataWrapper && (t = this.dataWrapper.apply(this.thisObj, [t])), this.fun && this.thisObj && this.fun.apply(this.thisObj, [t, s])
	}, i.prototype.onFrame = function() {
		for (var t = this.parms.maxTime ? this.parms.maxTime : 0, i = egret.getTimer(); this.exeFuncOnce(), !(egret.getTimer() - i >= t););
	}, i.prototype.append = function(t) {
		var i;
		(i = this.cacheData).push.apply(i, t), 0 === this.data.length && this.swapData()
	}, i.prototype.stop = function() {
		t.prototype.stop.call(this), this.curIdx = 0, this.clearData()
	}, i.prototype.destroy = function() {
		this.clearData(), this.dataGetter = null, this.dataWrapper = null, t.prototype.destroy.call(this)
	}, i
}(MutiFrameExecter);
__reflect(MutiFrameDataProc.prototype, "MutiFrameDataProc");
var FixedLenMutiFrameDataProc = function(t) {
	function i(i, s, h, r, n, e) {
		void 0 === n && (n = {}), void 0 === e && (e = 200);
		var a = t.call(this, i, s, h, r, n) || this;
		return a.maxLen = e, a
	}
	return __extends(i, t), i.prototype.fixedLen = function() {
		var t = this.cacheData.length,
			i = this.data.length,
			s = i + t - this.maxLen;
		if (!(s <= 10)) {
			var h = s;
			s >= i && (this.data = [], this.swapData(), h = s - i), this.data = this.data.splice(0, h)
		}
	}, i.prototype.append = function(i) {
		t.prototype.append.call(this, i), this.fixedLen()
	}, i
}(MutiFrameDataProc);
__reflect(FixedLenMutiFrameDataProc.prototype, "FixedLenMutiFrameDataProc");
var Pool = function() {
	function n() {}
	return n.getPoolBySign = function(r) {
		return n._poolDic[r] || (n._poolDic[r] = [])
	}, n.clearBySign = function(r) {
		n._poolDic[r] && (n._poolDic[r].length = 0)
	}, n.recover = function(r, o) {
		o[n.POOLSIGN] || (o[n.POOLSIGN] = !0, n.getPoolBySign(r).push(o), o.destroy && o.destroy instanceof Function && o.destroy())
	}, n.recoverByClass = function(r) {
		if (r) {
			var o = r.__className || r.constructor._$gid;
			o && n.recover(o, r)
		}
	}, n._getClassSign = function(r) {
		var o = r.__className || r._$gid;
		return o || (r._$gid = o = n._CLSID + "", n._CLSID++), o
	}, n.createByClass = function(r) {
		return n.getItemByClass(n._getClassSign(r), r)
	}, n.getItemByClass = function(r, o) {
		if (!n._poolDic[r]) return new o;
		var t = n.getPoolBySign(r);
		if (t.length) {
			var u = t.pop();
			u[n.POOLSIGN] = !1
		} else u = new o;
		return u
	}, n.getItemByCreateFun = function(r, o, t) {
		void 0 === t && (t = null);
		var u = n.getPoolBySign(r),
			i = 0 === u.length,
			e = u.length ? u.pop() : o.call(t);
		return e[n.POOLSIGN] = !1, e[n.NEWFLAG] = i, e
	}, n.getItem = function(r) {
		var o = n.getPoolBySign(r),
			t = o.length ? o.pop() : null;
		return t && (t[n.POOLSIGN] = !1), t
	}, n._CLSID = 0, n.POOLSIGN = "__InPool", n.NEWFLAG = "__NewFlag", n._poolDic = {}, n
}();
__reflect(Pool.prototype, "Pool");
var ImageProcessor = function() {
	function r() {}
	return r.prototype.onLoadStart = function(r, e) {
		var t = new egret.HttpRequest;
		t.responseType = "arraybuffer";
		var n = RES.getVirtualUrl(e.root + e.url);
		return t.open(n), t.send(), new Promise((function(r, o) {
			t.addEventListener(egret.Event.COMPLETE, (function() {
				var n;
				if (decrypt_helper.needDecrypt_(e.url)) {
					var a = e.url.split("assets/")[1];
					n = decrypt_helper.decryptRaw_(t.response, decrypt_helper.calDecryptKey_(a))
				} else n = t.response;
				img_parser.decodeImage(n, e, r, o)
			}), this), t.addEventListener(egret.IOErrorEvent.IO_ERROR, (function() {
				var r = new RES.ResourceManagerError(1001, e.url);
				HubbleHelper_.collectTrans("resource_load_error", !1, {
					path: n,
					short_path: e.url
				}), o(r)
			}), this)
		}))
	}, r.prototype.onRemoveStart = function(r, e) {
		return r.get(e).$dispose(), Promise.resolve()
	}, r
}();
__reflect(ImageProcessor.prototype, "ImageProcessor");
var BinaryProcessor = function() {
	function r() {}
	return r.prototype.onLoadStart = function(r, e) {
		var t = new egret.HttpRequest;
		return t.responseType = egret.HttpResponseType.ARRAY_BUFFER, t.open(RES.getVirtualUrl(e.root + e.url), "get"), t.send(), decrypt_helper.promisify_(t, e, "bin")
	}, r.prototype.onRemoveStart = function(r, e) {
		return Promise.resolve()
	}, r
}();
__reflect(BinaryProcessor.prototype, "BinaryProcessor");
var TextProcessor = function() {
	function r() {}
	return r.prototype.onLoadStart = function(r, e) {
		var t = new egret.HttpRequest;
		return t.responseType = egret.HttpResponseType.ARRAY_BUFFER, t.open(RES.getVirtualUrl(e.root + e.url), "get"), t.send(), decrypt_helper.promisify_(t, e, "text")
	}, r.prototype.onRemoveStart = function(r, e) {
		return Promise.resolve()
	}, r
}();
__reflect(TextProcessor.prototype, "TextProcessor");
var img_parser, decrypt_helper, SheetProcessor = function() {
	function r() {}
	return r.prototype.onLoadStart = function(r, e) {
		return r.load(e, "json").then((function(t) {
			var n = r.resourceConfig.getResource(RES.nameSelector(t.file));
			if (!n) {
				var o = RES.getRelativePath(e.url, t.file);
				n = {
					name: e.root + o,
					url: o,
					type: "image",
					root: e.root
				}, r.resourceConfig.addResourceData(n)
			}
			return r.load(n).then((function(e) {
				if (!e) return null;
				var o = t.frames;
				(u = new egret.Texture)._setBitmapData(e);
				var a = new egret.SpriteSheet(u);
				for (var s in o) {
					var c = o[s],
						u = a.createTexture(s, c.x, c.y, c.w, c.h, c.offX, c.offY, c.sourceW, c.sourceH);
					if (c.scale9grid) {
						var i = c.scale9grid.split(",");
						u.scale9Grid = new egret.Rectangle(parseInt(i[0]), parseInt(i[1]), parseInt(i[2]), parseInt(i[3]))
					}
				}
				return r.save(n, e), a
			}), (function(e) {
				throw r.remove(n), e
			}))
		}))
	}, r.prototype.getData = function(r, e, t, n) {
		var o = r.get(e);
		if (o) {
			var a = o.getTexture(n);
			return a && a.bitmapData ? a : null
		}
		return null
	}, r.prototype.onRemoveStart = function(r, e) {
		r.get(e).dispose()
	}, r
}();
__reflect(SheetProcessor.prototype, "SheetProcessor"), egret.reloadBitmapData = function(r, e) {
		if ("" != r.url) {
			var t = r.url,
				n = r.url.indexOf("resource/"); - 1 === n ? t = "resource/" + r.url : n > 0 && (t = r.url.substr(n));
			var o = RES.host,
				a = GlobalFunc.O(t),
				s = o.resourceConfig.getResource(a);
			s || (s = {
				name: a,
				url: a,
				type: "image",
				root: "",
				extra: 1
			}, o.resourceConfig.addResourceData(s), s = o.resourceConfig.getResource(a));
			var c = new egret.HttpRequest;
			c.responseType = "arraybuffer";
			var u = RES.getVirtualUrl(s.root + s.url);
			c.open(u), c.send();
			var i = function(t) {
					r.validWithBitmapData(t, e)
				},
				f = function() {};
			c.addEventListener(egret.Event.COMPLETE, (function() {
				var r;
				if (decrypt_helper.needDecrypt_(s.url)) {
					var e = s.url.split("assets/")[1];
					r = decrypt_helper.decryptRaw_(c.response, decrypt_helper.calDecryptKey_(e))
				} else r = c.response;
				img_parser.decodeImage(r, s, i, f)
			}), this), c.addEventListener(egret.IOErrorEvent.IO_ERROR, (function() {
				new RES.ResourceManagerError(1001, s.url), HubbleHelper_.collectTrans("resource_load_error", !1, {
					path: u,
					short_path: s.url
				})
			}), this)
		}
	},
	function(r) {
		r.imgData2Texture = function(r) {
			return egret.BitmapData.createFromArrayBuffer(r.data, r.width, r.height)
		}, r.calBitmapSize = function(r, e, t) {
			var n = t || r.width * r.height * 4;
			RESCacheMgr.addImageResource(e, n)
		}, r.decodeImage = function(e, t, n, o) {
			"byteLength" in e && e.byteLength < 8 && o("image bufData too short");
			var a = utils.getCompressedTextureSizeAndInternalFormat(e);
			if (a) {
				var s = egret.BitmapData.createFromCompressedTexture2D(a.data, a.textureWidth, a.textureHeight, a.width, a.height, a.format);
				return a.alpha ? (s.etcAlphaMask = egret.BitmapData.createFromCompressedTexture2D(a.alpha, a.textureWidth, a.textureHeight, a.width, a.height, a.format), r.calBitmapSize(s, t, 2 * a.data.length)) : (GlobalValue.compressedTextureFormat === GlobalValue.TextureFormatPVR ? utils.nextPowerOf2(a.width) < utils.nextPowerOf2(a.height) ? s.horizontalAlphaMask = !0 : s.verticalAlphaMask = !0 : GlobalValue.compressedTextureFormat === GlobalValue.TextureFormatPKM && (4 * Math.max(1, Math.floor((a.width + 3) / 4)) < 4 * Math.max(1, Math.floor((a.height + 3) / 4)) ? s.horizontalAlphaMask = !0 : s.verticalAlphaMask = !0), r.calBitmapSize(s, t, a.data.length)), s.url = t.url, void n(s)
			}
			egret.BitmapData.create("arraybuffer", e, (function(e) {
				r.calBitmapSize(e, t), e.url = t.url, n(e)
			}))
		}
	}(img_parser || (img_parser = {})),
	function(r) {
		function e(r) {
			return -1 !== r.indexOf("assets/") && -1 === r.indexOf(".mp3")
		}

		function t(r) {
			for (var e = egret.Base64Util.encode(function(r) {
					for (var e = new ArrayBuffer(r.length), t = new Uint8Array(e), n = 0, o = r.length; n < o; n++) t[n] = r.charCodeAt(n);
					return e
				}(r)), t = [], n = 0, o = e.length; n < o; n++) t.push(e.charCodeAt(n));
			return t
		}

		function n(r, e) {
			for (var t = new Uint8Array(r), n = t.length < 256 ? t.length : 256, o = e.length, a = 0; a < n; ++a) t[a] = t[a] ^ e[a % o];
			return t.buffer
		}

		function o(r) {
			var e, t, n, o, a, s;
			for (e = "", n = r.length, t = 0; t < n;) switch ((o = r[t++]) >> 4) {
				case 0:
				case 1:
				case 2:
				case 3:
				case 4:
				case 5:
				case 6:
				case 7:
					e += String.fromCharCode(o);
					break;
				case 12:
				case 13:
					a = r[t++], e += String.fromCharCode((31 & o) << 6 | 63 & a);
					break;
				case 14:
					a = r[t++], s = r[t++], e += String.fromCharCode((15 & o) << 12 | (63 & a) << 6 | (63 & s) << 0)
			}
			return 65279 === e.charCodeAt(0) && (e = e.substr(1)), e
		}
		r.needDecrypt_ = e, r.calDecryptKey_ = t, r.promisify_ = function(r, a, s) {
			var c = this;
			return new Promise((function(u, i) {
				r.addEventListener(egret.Event.COMPLETE, (function() {
					var c, f = r.data ? r.data : r.response;
					(c = e(a.url) ? n(f, t(a.url.split("assets/")[1])) : f) ? "bin" === s ? u(c) : "text" === s && u(o(new Uint8Array(c))): i(new RES.ResourceManagerError(1001, a.url))
				}), c), r.addEventListener(egret.IOErrorEvent.IO_ERROR, (function() {
					var r = new RES.ResourceManagerError(1001, a.url);
					HubbleHelper_.collectTrans("resource_load_error", !1, {
						path: RES.getVirtualUrl(a.root + a.url),
						short_path: a.url
					}), i(r)
				}), c)
			}))
		}, r.decryptData_ = function(r, e) {
			return "bin" === e ? this.decryptRaw(r) : "text" === e ? this.decryptStr(r) : (egret.error("decrypt data error, no such data type decrypt func. type: " + typeof r), null)
		}, r.decryptRaw_ = n, r.decryptStr_ = function(r, e) {
			var t = n(r, e);
			return o(new Uint8Array(t))
		}, r.Utf8ArrayToStr = o
	}(decrypt_helper || (decrypt_helper = {}));
var iprocessor = new ImageProcessor,
	bprocessor = new BinaryProcessor,
	tprocessor = new TextProcessor,
	sprocessor = new SheetProcessor;
RES.processor.map("image", iprocessor), RES.processor.map("bin", bprocessor), RES.processor.map("text", tprocessor), RES.processor.map("sheet", sprocessor);
var prot_$;
! function(r) {
	r.cv = function(r, t, e) {
		for (var o = 0, a = Object.keys(ProtDispatcher.protSendThresholdConfig); o < a.length; o++) {
			var i = a[o];
			if (ProtDispatcher.protSendThresholdConfig[i].indexOf(r) > -1) {
				var n = parseInt(i),
					c = (new Date).valueOf();
				if (void 0 === ProtDispatcher.protSendInfoList[r]) ProtDispatcher.protSendInfoList[r] = c;
				else {
					if (c - ProtDispatcher.protSendInfoList[r] < n) return void egret.log("prot " + r + " send too frequently");
					ProtDispatcher.protSendInfoList[r] = c
				}
			}
		}
		var p = {};
		p[6] = t, p[7] = r, void 0 !== e && (p[0] = e), GlobalValue.InnerTest && egret.log("send to server--\x3e", p), WebSocketManger.getInstance().sendData(p)
	}, r.pv = function(r) {
		ProtDispatcher.getInstance().hv(r[7], r[6])
	}
}(prot_$ || (prot_$ = {}));
var ProtEvent = function(t) {
	function o(o, r) {
		return t.call(this, o, !1, !1, r) || this
	}
	return __extends(o, t), o.SIGN = "ProtEvent", o
}(egret.Event);
__reflect(ProtEvent.prototype, "ProtEvent");
var ProtDispatcher = function(t) {
	function o() {
		var r = t.call(this) || this;
		return o.protSendInfoList = {}, r
	}
	return __extends(o, t), o.getInstance = function() {
		return o.inst || (o.inst = new o, o.inst.init()), o.inst
	}, o.prototype.initGameProt = function() {
		var t = ["289", "77", "115"],
			o = [global.war_net, global.chat_net, global.mainiterface_net, global.view_net, global.misc_net];
		for (var r in egret.log("!!initGameProt", o), proto.ProtS2C)
			if (proto.ProtS2C[r][0] && proto.ProtS2C[r][1]) {
				var i = global[proto.ProtS2C[r][0]];
				if (i) {
					if (o.indexOf(i) > -1 && -1 === t.indexOf(r)) continue;
					var n = i[proto.ProtS2C[r][1]];
					n && this.sv(+r, n, i)
				}
			}
	}, o.prototype.init = function() {
		this.$protols = [], this.$cacheProte = !1, this.initGameProt()
	}, o.prototype.dispatchProtInner = function(t, o) {
		try {
			var r = "Prot_S2C_" + t;
			if (this.hasEventListener(r)) try {
				var i = new ProtEvent("Prot_S2C_" + t, o);
				this.dispatchEvent(i)
			} catch (t) {
				console.error(t)
			} else {
				if (289 === t) return void egret.log("编号" + t + "协议是listener方式");
				var n = proto.ProtS2C[t];
				if (!n) return egret.log("没有找到协议 NO." + t), void DumpHelper_.em("NoProtNo", "NoProtNo", "NoProtNo" + t, t);
				var e = global[n[0]];
				if (!e) return egret.log("协议没有mod NO." + t), void DumpHelper_.em("NoProtMod", "NoProtMod", "NoProtMod" + t, t);
				var s = e[n[1]];
				if (!(s && s instanceof Function)) return egret.log("协议没有func NO." + t), void DumpHelper_.em("NoProtFunc", "NoProtFunc", "NoProtFunc" + t, t);
				egret.log("prot do action directly"), s.call(e, o)
			}
		} catch (t) {
			console.error(t)
		}
	}, o.prototype.sv = function(t, o, r) {
		var i = "Prot_S2C_" + t;
		this.addEventListener(i, o, r)
	}, o.prototype.uv = function(t, o, r) {
		var i = "Prot_S2C_" + t;
		this.removeEventListener(i, o, r)
	}, o.prototype.hv = function(t, o) {
		16005 !== t ? this.$cacheProte ? this.$protols.push([t, o]) : (LoginManager.getInstance().loginState === LoginState.GAMING || -1 !== GlobalValue.LoginProts.indexOf(t)) && this.dispatchProtInner(t, o) : this.dispatchProtInner(t, o)
	}, o.prototype.fv = function(t, o) {
		prot_$.cv(t, o || [])
	}, o.prototype.vv = function(t, o) {
		prot_$.cv(t, o || [], 4)
	}, o.prototype.Pv = function() {
		this.$cacheProte = !0, this.$orgnized = !1
	}, o.prototype._v = function() {
		for (var t = [32, 33, 16061, 11157], o = new dataStructure.Map, r = this.$protols.length - 1; r >= 0; r--) {
			var i = this.$protols[r]; - 1 === t.indexOf(i[0]) || o.get(i[0]) || o.set(i[0], r)
		}
		for (var n = [], e = (r = 0, this.$protols.length); r < e; r++) i = this.$protols[r], -1 !== t.indexOf(i[0]) && o.get(i[0]) !== r || n.push(i);
		this.$protols = n, this.$orgnized = !0
	}, o.prototype.gv = function(t) {
		var o = this;
		void 0 === t && (t = !0);
		var r = [5, 32, 33, 17009, 18033, 11088],
			i = [243];
		if (!this.$orgnized && t && this._v(), t) {
			for (var n = 0, e = function(t) {
					var e = s.$protols[t];
					if (-1 !== i.indexOf(e[0]) ? utils.callLater(1600, (function() {
							o.dispatchProtInner(e[0], e[1])
						})) : s.dispatchProtInner(e[0], e[1]), n += 1, -1 === r.indexOf(e[0]) && n >= 6) return "break"
				}, s = this, a = 0; a < this.$protols.length && "break" !== e(a); a++);
			this.$protols = this.$protols.slice(n)
		}
		0 !== this.$protols.length && t ? utils.callDelayFrames((function() {
			o.gv(!0)
		}), this, 0) : (this.$cacheProte = !1, this.$orgnized = !1)
	}, o.prototype.Nv = function() {
		this.$protols = [], this.$cacheProte = !1, this.$orgnized = !1
	}, o.protSendThresholdConfig = {
		250: [50371],
		500: [52007, 50019, 50020, 52012, 50385, 50386, 50389, 58001, 58002, 58003, 58004, 50065, 50283, 50244, 50045, 50261, 50248, 50174, 50193, 50048, 50090, 50195]
	}, o
}(egret.EventDispatcher);
__reflect(ProtDispatcher.prototype, "ProtDispatcher");
var ScreenAdapterMgr = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.desginHwRatio = GlobalValue.DesignH / GlobalValue.DesignW, i.hwRatio = i.desginHwRatio, i.adaptExt = !1, i.upAdaptDis = 0, i.downAdaptDis = 0, i.halfExtraDesign = 0, i.expandDis = 0, i.mainWidgetAvoidDis = null, i.isCutout = !1, i.deviceInfoGet = !1, i.deviceInfo = null, i.menuButtonRect = null, i.testCutout = !1, utils.isWeb() && (i.deviceInfoGet = !0), i
	}
	return __extends(i, t), i.prototype.isNeedAdapt = function() {
		return !(this.hwRatio <= this.desginHwRatio)
	}, i.prototype.isNeedSafeArea = function() {
		return utils.isInAPP() || utils.isMiniGame()
	}, i.prototype.isBgInstance = function(t) {
		return !!t && (t instanceof eui.Rect || t instanceof eui.Image && "bg_black_png" === t.source)
	}, i.prototype.isAllScreenPanelBg = function(t) {
		return !!this.isCandiateScreenBg(t) && t.width > GlobalValue.DesignW - 1 && t.height > GlobalValue.DesignH - 1
	}, i.prototype.isMiddleScreenPanelBg = function(t) {
		return !!this.isCandiateScreenBg(t) && !this.isAllScreenPanelBg(t) && t.width > GlobalValue.DesignW - 1 && t.height > i.midBlackH - 20
	}, i.prototype.isCandiateScreenBg = function(t) {
		return this.isBgInstance(t) && t.visible
	}, i.prototype.isBg = function(t) {
		return this.isAllScreenPanelBg(t) || this.isMiddleScreenPanelBg(t)
	}, i.prototype.replacePanelBg = function(t, i, n, e, s, r, u, h) {
		var a = u;
		a || (a = t.parent);
		var o = new eui.Rect;
		o.width = s, o.height = r, o.x = n, o.y = e;
		var l = GlobalValue.UIBGRectAlpha;
		h && void 0 !== h.BGRectAlpha && (l = h.BGRectAlpha), o.alpha = l, o.fillAlpha = l, t && t.hasEventListener(egret.TouchEvent.TOUCH_TAP) && h && o.addEventListener(egret.TouchEvent.TOUCH_TAP, (function() {
			UIManager.getInst(h) && UIManager.getInst(h).touchTapBg(), UIManager.close(h)
		}), this), this.blackBgResizeDelagate(o, i), t && t.parent && (t.parent.removeChild(t), t.clearEventListener()), a.addChildAt(o, 0)
	}, i.prototype.blackBgOnStageResize = function(t, i) {
		var n = this.getRect(i);
		t.x = n.x, t.y = n.y, t.height = n.h, t.width = n.w
	}, i.prototype.blackBgResizeDelagate = function(t, i) {
		var n = this;
		t.tag || (t.tag = !0, EventBus.addEventListener(CommonEvent.SCREENHWSETTED, (function() {
			n.blackBgOnStageResize(t, i)
		}), this))
	}, i.prototype.getRect = function(t) {
		var n, e, s, r;
		return t === i.BG_TYPE_FULL ? (r = this.stage.stageHeight + 100, s = this.stage.stageWidth, n = 0, e = .5 * -(r - GlobalValue.DesignH)) : (r = i.midBlackH + this.upAdaptDis + this.downAdaptDis, s = this.stage.stageWidth, n = 0, e = i.mainHeadH - this.upAdaptDis - .5 * (this.downAdaptDis - this.upAdaptDis)), {
			x: n,
			y: e,
			h: r,
			w: s
		}
	}, i.prototype.setScreen = function() {
		var t = this.isNeedSafeArea(),
			n = this.stage.stageHeight;
		if (this.adaptExt = this.isNeedAdapt(), this.adaptExt) {
			this.halfExtraDesign = .5 * (n - GlobalValue.DesignH);
			var e = 0,
				s = 0;
			if (t && this.isCutout)
				if (this.deviceInfo && void 0 !== this.deviceInfo.ch) {
					var r = this.deviceInfo.ch;
					(r < i.minSafeDis || r > i.upSafeDis) && (r = i.upSafeDis), e = r, s = i.downSafeDis
				} else e = i.upSafeDis, s = i.downSafeDis;
			this.testCutout && (e = i.upSafeDis, s = i.downSafeDis), this.upAdaptDis = Math.max(0, this.halfExtraDesign - e), this.downAdaptDis = Math.max(0, this.halfExtraDesign - s), this.expandDis = this.upAdaptDis + this.downAdaptDis
		} else this.upAdaptDis = this.downAdaptDis = 0, this.halfExtraDesign = this.expandDis = 0;
		if (this.deviceInfo && this.deviceInfo.menuInfo) {
			var u = this.deviceInfo.menuInfo;
			this.menuButtonRect = egret.Rectangle.create(), this.menuButtonRect.setTo(u.left, u.top, u.width, u.height)
		}
		utils.isMiniGame() && "iOS" === egret.Capabilities.os && (this.downAdaptDis = this.halfExtraDesign - Math.max(20, this.halfExtraDesign - this.downAdaptDis), this.expandDis = this.upAdaptDis + this.downAdaptDis), utils.isOppoH5() && this.stage.stageHeight / this.stage.stageWidth > 1380 / 720 && (this.upAdaptDis = this.halfExtraDesign - 50, this.expandDis = this.upAdaptDis + this.downAdaptDis), EventBus.dispatchEvent(new CommonEvent(CommonEvent.SCREENHWSETTED))
	}, i.prototype.needRefreshWhenEnterGame = function() {
		return !this.deviceInfoGet || utils.isMiniGame()
	}, i.prototype.getUpSafeDis = function() {
		return "Android" === egret.Capabilities.os && this.deviceInfo && void 0 !== this.deviceInfo.ch ? this.deviceInfo.ch : Math.max(this.halfExtraDesign - this.upAdaptDis, 0)
	}, i.prototype.adaptOpenPanelPos = function(t) {
		t.y = t.initPanelY + .5 * (this.downAdaptDis - this.upAdaptDis)
	}, i.prototype.adaptBlackBgPanel = function(t) {
		var n = this;
		if (t) {
			var e, s = t.getChildAt(0),
				r = null;
			if (this.isCandiateScreenBg(s) && (this.isAllScreenPanelBg(s) ? r = i.BG_TYPE_FULL : this.isMiddleScreenPanelBg(s) ? r = i.BG_TYPE_MID : s instanceof eui.Image && !s.cpMarked && (s.cpMarked = !0, s.once(eui.UIEvent.COMPLETE, (function() {
					n.adaptBlackBgPanel(t)
				}), this)), null !== r))
				if (e = this.getRect(r), s instanceof eui.Rect && !s.noReplace) this.replacePanelBg(s, r, e.x, e.y, e.w, e.h, null, t.clazz);
				else if (s instanceof eui.Image) {
				var u = s,
					h = function() {
						u.x = e.x, u.y = e.y, u.height = e.h, u.width = e.w, n.blackBgResizeDelagate(u, r)
					};
				h(), u.once(eui.UIEvent.COMPLETE, h, this)
			}
		}
	}, i.prototype.setDeviceInfo = function(t) {
		this.stage || (this.stage = Main.getInst().stage), this.mainWidgetAvoidDis = null, this.isCutout = this.stage.stageHeight / this.stage.stageWidth >= 1.97, void 0 !== t.hasCutout && (this.isCutout = !!t.hasCutout), this.deviceInfoGet = !0, this.deviceInfo = t, window.UIManager && this.adaptMainStage(this.stage)
	}, i.prototype.getMainWidgetAvoidDis = function() {
		if (null === this.mainWidgetAvoidDis) {
			if (!this.menuButtonRect || isNaN(this.menuButtonRect.y) || isNaN(this.menuButtonRect.height)) this.mainWidgetAvoidDis = 0;
			else {
				var t = UIManager.AdaptedPanel.localToGlobal(0, SMapUI.InitTop - this.upAdaptDis).y,
					i = this.menuButtonRect.y + this.menuButtonRect.height + 7;
				this.mainWidgetAvoidDis = Math.max(i - t, 0)
			}
			utils.isOppoH5() && this.stage.stageHeight / this.stage.stageWidth <= 1380 / 720 && (this.mainWidgetAvoidDis = 66)
		}
		return this.mainWidgetAvoidDis
	}, Object.defineProperty(i.prototype, "upAdaptDisAvoidMenu", {
		get: function() {
			return this.upAdaptDis - this.getMainWidgetAvoidDis()
		},
		enumerable: !0,
		configurable: !0
	}), i.prototype.tryReAdapt = function() {
		var t = this,
			i = this.stage;
		Math.abs(this.view.w - i.displayWidth) > 5 || Math.abs(this.view.h - i.displayHeight) > 5 ? this.adaptMainStage(i) : this.resizeTimer = null, utils.isMobileWeb() && (this.fakeTouchTimer && (clearTimeout(this.fakeTouchTimer), this.fakeTouchTimer = 0), LoginManager.getInstance().loginState === LoginState.GAMING && (this.fakeTouchTimer = utils.callLater(1e3, (function() {
			utils.fakeTouchCavas(), t.fakeTouchTimer = 0
		}), [], this)))
	}, i.prototype.QAtc = function(t) {
		this.testCutout !== t && (this.hwRatio < GlobalValue.DesignH / GlobalValue.DesignW || (this.testCutout = t, this.adaptMainStage(this.stage)))
	}, i.prototype.adaptMainStage = function(t) {
		var i = this;
		this.resizeTimer = null, this.stage = t, this.deviceInfoGet && (this.view = {
			h: t.displayHeight,
			w: t.displayWidth
		}, this.hwRatio = t.displayHeight / t.displayWidth, this.hwRatio > this.desginHwRatio ? t.scaleMode = egret.StageScaleMode.FIXED_WIDTH : utils.isWeb() ? t.scaleMode = egret.StageScaleMode.SHOW_ALL : t.scaleMode = egret.StageScaleMode.FIXED_HEIGHT, UIManager && UIManager.stage && UIManager.updateUIManagerWithStageChange(), this.setScreen(), t.tagResizeListen || (t.tagResizeListen = !0, t.addEventListener(egret.Event.RESIZE, (function() {
			if (!i.resizeTimer) {
				var t = utils.isMobileWeb() ? 1e3 : 0;
				i.resizeTimer = new CallLater(t, i.tryReAdapt, [], i)
			}
		}), this)))
	}, i.prototype.adaptPanelRectBlack = function(t, i) {
		var n = t.mainPanel.rectBlack,
			e = t.baseInst;
		if (e) {
			n && (n.visible = !1);
			var s = !1;
			i === BaseWidget.PanelTypeFirst ? (n && n.hasEventListener(egret.TouchEvent.TOUCH_TAP) && (s = !0), this.addMiddleScreenBg(e, s, 0, t.clazz)) : i !== BaseWidget.PanelTypeSecond && i !== BaseWidget.PanelTypeThird || (n && n.hasEventListener(egret.TouchEvent.TOUCH_TAP) && (s = !0), this.addFullScreenBg(e, s, 0, t.clazz))
		}
	}, i.prototype.adpatPanelCloseBtn = function(t) {
		var n = this;
		if (utils.isOppoH5() || utils.isMiniGame()) {
			var e = t.mainPanel;
			if (e)
				if (e.completed) {
					if (!(e.closeVisible && !e.backVisible || e.height < i.minCloseBtnAdaptPanelH)) {
						e.closeVisible = !1;
						var s = i.needChangeBackSkins.indexOf(e.skinName); - 1 !== s && (e.btnBack.skinName = i.backBtnNewSkins[s])
					}
				} else e.once(eui.UIEvent.COMPLETE, (function() {
					utils.uiLive(t) && n.adpatPanelCloseBtn(t)
				}), this)
		}
	}, i.prototype.addFullScreenBg = function(t, n, e, s) {
		void 0 === n && (n = !1), void 0 === e && (e = 0);
		var r = new eui.Rect;
		r.alpha = GlobalValue.UIBGRectAlpha;
		var u = i.safeNum;
		return r.height = this.stage.stageHeight + u, r.width = this.stage.stageWidth + u, r.x = .5 * -u, r.y = -this.halfExtraDesign - .5 * u, t.addChildAt(r, e), (t instanceof BaseWidget || t instanceof eui.Component) && n && r.addEventListener(egret.TouchEvent.TOUCH_TAP, (function() {
			s ? UIManager.close(s) : t.clazz && UIManager.close(t.clazz)
		}), this), this.blackBgResizeDelagate(r, i.BG_TYPE_FULL), r
	}, i.prototype.addMiddleScreenBg = function(t, n, e, s) {
		void 0 === n && (n = !1), void 0 === e && (e = 0);
		var r = new eui.Rect;
		r.fillAlpha = GlobalValue.UIBGRectAlpha, r.alpha = GlobalValue.UIBGRectAlpha;
		var u = i.safeNum;
		return r.height = i.midBlackH + this.upAdaptDis + this.downAdaptDis, r.width = this.stage.stageWidth + u, r.x = .5 * -u, r.y = i.mainHeadH - this.upAdaptDis - .5 * (this.downAdaptDis - this.upAdaptDis), t.addChildAt(r, 0), (t instanceof BaseWidget || t instanceof eui.Component) && n && r.addEventListener(egret.TouchEvent.TOUCH_TAP, (function() {
			s ? UIManager.close(s) : t.clazz && UIManager.close(t.clazz)
		}), this), this.blackBgResizeDelagate(r, i.BG_TYPE_MID), r
	}, i.upSafeDis = 85, i.minSafeDis = 15, i.maxAndroidSafeDis = 45, i.downSafeDis = 61, i.midBlackH = 1100, i.mainHeadH = 52, i.safeNum = 160, i.minCloseBtnAdaptPanelH = 800, i.needChangeBackSkins = ["resource/eui_skins/FirstPanelSkin.exml", "skins.FirstPanelSkin", "resource/eui_skins/SecondPanelSkin.exml", "skins.SecondPanelSkin"], i.backBtnNewSkins = ["resource/eui_skins/ButtonSkinBack_first_mini.exml", "resource/eui_skins/ButtonSkinBack_first_mini.exml", "resource/eui_skins/ButtonSkinClose_Second_MINI.exml", "resource/eui_skins/ButtonSkinClose_Second_MINI.exml"], i.BG_TYPE_FULL = 1, i.BG_TYPE_MID = 2, i
}(utils.SingletonClass);
__reflect(ScreenAdapterMgr.prototype, "ScreenAdapterMgr");
var deviceInfo_parse, adapt_utils, h5screenAdapter = ScreenAdapterMgr.getInstance();
! function(t) {
	t.getParser = function() {
		return new(0, c[egret.Capabilities.runtimeType])
	};
	var i = function() {
		function t() {}
		return t.prototype.parse = function(t) {
			return this.deviceInfo = t, this.parseAdaptInfo(t)
		}, t.prototype.safeAreaAdaptParse = function(t) {
			var i = 0,
				e = !1,
				s = GlobalValue.DesignW / t.screenWidth;
			if (t && t.safeArea && t.safeArea.top) {
				var r = t.safeArea.top;
				i = r * s, e = r > 20
			}
			var u = null;
			return t.menuButton && (u = n(t.menuButton, s)), {
				ch: i,
				hasCutout: e,
				menuInfo: u
			}
		}, t.prototype.statusBarHAdaptParse = function(t) {
			var i = 0,
				e = !1,
				s = GlobalValue.DesignW / t.screenWidth;
			t && t.statusBarHeight && (e = (i = t.statusBarHeight * s) > 20);
			var r = null;
			return t.menuButton && (r = n(t.menuButton, s)), {
				ch: i,
				hasCutout: e,
				menuInfo: r
			}
		}, t
	}();

	function n(t, i) {
		for (var n = 0, e = Object.keys(t); n < e.length; n++) {
			var s = e[n];
			isNaN(t[s]) || (t[s] *= i)
		}
		return t
	}
	__reflect(i.prototype, "DeviceInfoParser");
	var e = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			return this.safeAreaAdaptParse(t)
		}, i
	}(i);
	__reflect(e.prototype, "WXDeviceInfoParser");
	var s = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			return this.statusBarHAdaptParse(t)
		}, i
	}(i);
	__reflect(s.prototype, "QQDeviceInfoParser");
	var r = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			return this.safeAreaAdaptParse(t)
		}, i
	}(i);
	__reflect(r.prototype, "TTDeviceInfoParser");
	var u = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			return this.safeAreaAdaptParse(t)
		}, i
	}(i);
	__reflect(u.prototype, "MiDeviceInfoParser");
	var h = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			return this.statusBarHAdaptParse(t)
		}, i
	}(i);
	__reflect(h.prototype, "OppoDeviceInfoParser");
	var a = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			var i = t.notchHeight;
			return {
				ch: i,
				hasCutout: i > 0
			}
		}, i
	}(i);
	__reflect(a.prototype, "VivoDeviceInfoParser");
	var o = function(t) {
		function i() {
			return null !== t && t.apply(this, arguments) || this
		}
		return __extends(i, t), i.prototype.parseAdaptInfo = function(t) {
			return this.statusBarHAdaptParse(t)
		}, i
	}(i);
	__reflect(o.prototype, "BaiduDeviceInfoParser");
	var l, c = ((l = {})[egret.RuntimeType.WXGAME] = e, l[egret.RuntimeType.QQGAME] = s, l[egret.RuntimeType.TTGAME] = r, l[egret.RuntimeType.QGAME] = u, l[egret.RuntimeType.OPPOGAME] = h, l[egret.RuntimeType.VIVOGAME] = a, l[egret.RuntimeType.BAIDUGAME] = o, l[egret.RuntimeType.BILIGAME] = r, l)
}(deviceInfo_parse || (deviceInfo_parse = {})),
function(t) {
	t.needMainUiInput = function() {
		return !(!utils.isOppoH5() && !utils.isHuaweiH5() && !utils.isMobileWeb())
	}, t.tryAdaptWithMainUIInput = function(t, i) {
		i.onInputChange = function() {
			UIManager.isRealVisible(i) && UIManager.open(MainUiInputWidget).then((function(i) {
				i.setInput(t.text)
			}))
		}, i.onInputFocusOut = function() {
			UIManager.isRealVisible(i) && UIManager.close(MainUiInputWidget)
		}, t.addEventListener(egret.Event.CHANGE, i.onInputChange, i), t.addEventListener(egret.Event.FOCUS_OUT, i.onInputFocusOut, i), t.addEventListener(egret.Event.FOCUS_IN, i.onInputChange, i)
	}
}(adapt_utils || (adapt_utils = {}));
var game_setting;
! function(e) {
	function n() {
		UIManager.getInst(MainUI), CommonEventManager.getInstance().dispatchEvent(new CommonEvent(CommonEvent.CROSSAUTOVOICE))
	}

	function r(r) {
		var t = r.split(",");
		e.MusicEnable = !!Number(t[0]), e.SoundEnable = !!Number(t[1]), e.MusicVolume = Number(t[2]), e.VoiceWorldChannelEnable = !!Number(t[3].charAt(0)), e.VoiceFactionChannelEnable = !!Number(t[3].charAt(1)), e.VoiceCrossChannelEnable = !!Number(t[3].charAt(2)), e.VoiceSceneChannelEnable = !!Number(t[3].charAt(3)), e.WarSpeedRatio = Number(t[4]) ? e.TWO_TIME_SPEED : e.ONE_TIME_SPEED, void 0 === t[5] || "" === t[5] ? e.ShowVipTapEnable = !0 : e.ShowVipTapEnable = !!Number(t[5]), e.SavePowerEnable = !!Number(t[6]), n()
	}

	function t(n) {
		e.DisplayHaloEnable = !Number(n.charAt(0)), e.DisplayWeaponEnable = !Number(n.charAt(1)), e.DisplayClothesEnable = !Number(n.charAt(2)), e.DisplayRideEnable = !Number(n.charAt(3)), e.DisplayPartnerHaloEnable = !Number(n.charAt(4)), e.DisplayPetEnable = !Number(n.charAt(5))
	}

	function u(n, u) {
		if (u && 0 === e.InitialTime && (e.InitialTime = u), n) {
			var m = n.split("|");
			r(m[0]), t(m[1])
		}
	}

	function m() {
		var n = [];
		n.push(e.VoiceWorldChannelEnable ? "1" : "0"), n.push(e.VoiceFactionChannelEnable ? "1" : "0"), n.push(e.VoiceCrossChannelEnable ? "1" : "0"), n.push(e.VoiceSceneChannelEnable ? "1" : "0");
		var r = [];
		r.push(e.MusicEnable ? "1" : "0"), r.push(e.SoundEnable ? "1" : "0"), r.push(String(e.MusicVolume)), r.push(n.join("")), r.push(1 === e.WarSpeedRatio ? "0" : "1"), r.push(e.ShowVipTapEnable ? "1" : "0"), r.push(e.SavePowerEnable ? "1" : "0");
		var t = [];
		t.push(e.DisplayHaloEnable ? "0" : "1"), t.push(e.DisplayWeaponEnable ? "0" : "1"), t.push(e.DisplayClothesEnable ? "0" : "1"), t.push(e.DisplayRideEnable ? "0" : "1"), t.push(e.DisplayPartnerHaloEnable ? "0" : "1"), t.push(e.DisplayPetEnable ? "0" : "1");
		var u = [];
		return u.push(r.join(",")), u.push(t.join("")), u.join("|")
	}
	e.ONE_TIME_SPEED = 1, e.TWO_TIME_SPEED = 2, e.DefaultSettings = "1,1,30,1111,0,1,1|000000", e.SavePowerEnable = !0, e.MusicEnable = !0, e.SoundEnable = !0, e.MusicVolume = 30, e.WarSpeedRatio = e.ONE_TIME_SPEED, e.UseCompTex = !1, e.DefaultHalo = 30001, e.DefaultNoWeapon = 0, e.DefaultWeapon = 10001, e.DefaultMale = [1, 5, 3], e.DefaultFemale = [2, 6, 4], e.DefaultMale_Ride = [20041, 20045, 20043], e.DefaultFemale_Ride = [20042, 20046, 20044], e.DefaultRide = 40001, e.DefaultPartnerHalo = 30001, e.VoiceWorldChannelEnable = !0, e.VoiceFactionChannelEnable = !0, e.VoiceCrossChannelEnable = !0, e.VoiceSceneChannelEnable = !0, e.ShowVipTapEnable = !0, e.DisplayHaloEnable = !0, e.DisplayWeaponEnable = !0, e.DisplayClothesEnable = !0, e.DisplayRideEnable = !0, e.DisplayPartnerHaloEnable = !0, e.DisplayPetEnable = !0, e.InitialTime = 0, e.setChatChannelOnOff = n, e.parseSettingData = u, e.resetSoundSetting = function() {
		r(e.DefaultSettings.split("|")[0])
	}, e.resetDisplaySetting = function() {
		t(e.DefaultSettings.split("|")[1])
	}, e.packSettingData = m, e.saveSettingData = function() {
		misc_net.Lc(e.WarSpeedRatio - 1), misc_net.kc(e.packSettingData()), e.saveSettingDataLocal()
	}, e.saveSettingDataLocal = function() {
		var e = m();
		egret.localStorage.setItem("gameSettings", e)
	}, e.loadSettingDataLocal = function() {
		u(egret.localStorage.getItem("gameSettings") || e.DefaultSettings), SoundManager.getInstance().refresh()
	}, e.isUseCompressedTexture = function() {
		var e = egret.localStorage.getItem("UseCompressedTexture");
		return !e || "false" !== e
	}, e.switchCompressedTexture = function(e) {
		egret.localStorage.setItem("UseCompressedTexture", e ? "true" : "false")
	}, e.getQualityLevel = function() {
		return e.DisplayHaloEnable && e.DisplayWeaponEnable && e.DisplayClothesEnable ? 3 : e.DisplayHaloEnable || e.DisplayWeaponEnable || e.DisplayClothesEnable ? !e.DisplayHaloEnable && e.DisplayWeaponEnable && e.DisplayClothesEnable ? 2 : 0 : 1
	}
}(game_setting || (game_setting = {}));
var ThemeAdapter = function() {
	function e() {}
	return e.prototype.getTheme = function(e, n, t, s) {
		var i = this;

		function r(e) {
			n.call(s, e)
		}
		if ("undefined" != typeof generateEUI) egret.callLater((function() {
			n.call(s, generateEUI)
		}), this);
		else if ("undefined" != typeof generateEUI2) GlobalFunc.B("resource/gameEui.json", (function(e, t) {
			window.JSONParseClass.setData(e), egret.callLater((function() {
				n.call(s, generateEUI2)
			}), i)
		}), this, RES.ResourceItem.TYPE_JSON);
		else if ("undefined" != typeof generateJSON)
			if (e.indexOf(".exml") > -1) {
				var u = (f = e.split("/")).pop();
				f.push(u.split(".")[0]);
				var o = f.join("/") + "_EUI.json";
				o = (o = o.replace("resource/eui/", "resource/assets/eui/")).replace("resource/eui_skins/", "resource/assets/eui_skins/"), generateJSON.paths[e] ? egret.callLater((function() {
					n.call(s, generateJSON.paths[e])
				}), this) : GlobalFunc.B(o, (function(t) {
					window.JSONParseClass.setData(t), GlobalFunc.F(o), egret.callLater((function() {
						n.call(s, generateJSON.paths[e])
					}), i)
				}), this, RES.ResourceItem.TYPE_JSON)
			} else if (0 === e.indexOf("skins.")) {
			var a = "resource/assets/eui_skins/" + (g = (f = e.split(".")).pop()) + "_EUI.json",
				c = "resource/eui_skins/" + g + ".exml";
			generateJSON.paths[c] ? egret.callLater((function() {
				n.call(s, generateJSON.paths[c])
			}), this) : GlobalFunc.B(a, (function(e) {
				window.JSONParseClass.setData(e), GlobalFunc.F(a), egret.callLater((function() {
					n.call(s, generateJSON.paths[c])
				}), i)
			}), this, RES.ResourceItem.TYPE_JSON)
		} else egret.callLater((function() {
			n.call(s, generateJSON)
		}), this);
		else if ("undefined" != typeof generateJS)
			if (e.indexOf(".exml") > -1) {
				u = (f = e.split("/")).pop(), f.push(u.split(".")[0]);
				var l = f.join("/") + "_EUI.js";
				l = (l = l.replace("resource/eui/", "resource/assets/eui/")).replace("resource/eui_skins/", "resource/assets/eui_skins/"), generateJS.paths[e] ? egret.callLater((function() {
					n.call(s, generateJS.paths[e])
				}), this) : GlobalFunc.B(l, (function(t) {
					var r = (0, eval)(t);
					EXML.update(e, r), generateJS.paths[e] = r, GlobalFunc.F(l), egret.callLater((function() {
						n.call(s, generateJS.paths[e])
					}), i)
				}), this, RES.ResourceItem.TYPE_TEXT)
			} else if (0 === e.indexOf("skins.")) {
			var f, g, S = "resource/assets/eui_skins/" + (g = (f = e.split(".")).pop()) + "_EUI.js",
				E = "resource/eui_skins/" + g + ".exml";
			generateJS.paths[E] ? egret.callLater((function() {
				n.call(s, generateJS.paths[E])
			}), this) : GlobalFunc.B(S, (function(t) {
				var r = (0, eval)(t);
				EXML.update(e, r), generateJS.paths[e] = r, GlobalFunc.F(S), egret.callLater((function() {
					n.call(s, generateJS.paths[E])
				}), i)
			}), this, RES.ResourceItem.TYPE_TEXT)
		} else egret.callLater((function() {
			n.call(s, generateJS)
		}), this);
		else if (RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, (function n(i) {
				i.resItem.url == e && (RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, n, null), t.call(s))
			}), null), 0 === e.indexOf("skins.")) {
			var h = e.split(".").pop();
			GlobalFunc.B("resource/eui_skins/" + h + ".exml", r, this, RES.ResourceItem.TYPE_TEXT)
		} else GlobalFunc.B(e, r, this, RES.ResourceItem.TYPE_TEXT)
	}, e
}();
__reflect(ThemeAdapter.prototype, "ThemeAdapter", ["eui.IThemeAdapter"]);
var UiActionSpecial;
! function(a) {
	function e() {
		for (var a = 0, e = ["DailyRechargeUI", "RechargeCarnivalUI", "GodMonsterVeryHappyUI", "LuckyCircleMainUI", "ArtifactLuckyUI", "GodShopUI", "FirstRechargeUI", "DailyRechargeUI", "DirectAscentUI", "ExchangeShopPanelMain", "LingYuanLiBaoUI", "TodayManyGiftUI", "TaskChainAwardAndSkipBtnNPCChatUI", "VipUseJadeSkipTaskChainUI", "GreenDragonTaskMainUI", "GangGetBankNotesUI", "ShoppingMailMainUI"]; a < e.length; a++) {
			var n = e[a];
			if (UIManager.UIMap.keys.indexOf(n) > -1) return !0
		}
		if (UIManager.UIMap.keys.indexOf("OpenActivityUI") > -1) {
			var r = UIManager.getInst(OpenActivityUI);
			if ([20026, 20017, 20002, 20003, 20007, 20023].indexOf(r.pid) > -1) return !0
		}
		return UIManager.UIMap.keys.indexOf("ConsumerRebateUI") > -1 && (r = UIManager.getInst(ConsumerRebateUI), [10009, 10008, 10006].indexOf(r.curID) > -1) || UIManager.UIMap.keys.indexOf("WelfareMainUI") > -1 && (r = UIManager.getInst(WelfareMainUI), [10006].indexOf(r.pid) > -1)
	}
	a.specialUiList = ["PetMainUI", "PartnerUI", "DressShowUI", "ChargeUI", "FirstRechareFiveUI", "VipUI", "WuShenTanMainUI"], a.WuShenTanMainUIAction = function() {
		return !!utils.uiLive(UIManager.getInst(WuShenTanWarUI))
	}, a.PetMainUIAction = function() {
		return UIManager.UIMap.keys.indexOf("CardTipsUI") > -1 ? (UIManager.close(CardTipsUI), !0) : UIManager.UIMap.keys.indexOf("OpenServiceUI") > -1
	}, a.PartnerUIAction = function() {
		return (utils.uiLive(UIManager.getInst(NewLuckyCircleUI)) || utils.uiLive(UIManager.getInst(ZhaoXianGeResultUI))) && (UIManager.close(ZhaoXianGeResultUI), UIManager.close(NewLuckyCircleUI)), UIManager.UIMap.keys.indexOf("CardTipsUI") > -1 && (UIManager.close(CardTipsUI), !0)
	}, a.DressShowUIAction = function() {
		return UIManager.UIMap.keys.indexOf("DressItemTipsUI") > -1 && (UIManager.close(DressItemTipsUI), !0)
	}, a.ChargeUIAction = function() {
		return e()
	}, a.FirstRechareFiveUIAction = function() {
		return e()
	}, a.VipUIAction = function() {
		var a = UIManager.getInst(VipUI),
			e = a.getChildAt(0);
		h5screenAdapter.isBg(e) && a.baseInst.removeChildAt(0), UIManager.UIMap.keys.indexOf("ShoppingMallMainUI") > -1 ? ShoppingMallMainUI.getSubWidget(MallChargeUI) && h5screenAdapter.addFullScreenBg(a) : h5screenAdapter.addMiddleScreenBg(a);
		for (var n = !1, r = 0, i = ["BagUI", "SmeltUI", "ShoppingMallMainUI"]; r < i.length; r++) {
			var U = i[r];
			UIManager.UIMap.keys.indexOf(U) > -1 && (n = !0)
		}
		return n
	}
}(UiActionSpecial || (UiActionSpecial = {}));
var UIReturnMgr = function(r) {
	function t() {
		var t = r.call(this) || this;
		return t.reset(), UIManager.UIPanel.addEventListener(UIMgrEvent.OPEN_CLOSE_DLG_LEVEL1, t.onOpenCloseFirstUI, t), EventBus.addEventListener(CommonEvent.MAINBOTTOMTAP, t.reset, t), UIManager.WarPanel.addEventListener(WarEvent.START_WAR_EVENT, t.onWarStart, t), t
	}
	return __extends(t, r), t.pushReturnCmds = function(r, n) {
		r && (t.returnCmds[r] = n)
	}, t.popReturnCmds = function(r) {
		var n = t.returnCmds[r];
		return t.returnCmds[r] = void 0, n
	}, t.getReturnMark = function(r) {
		return r && r.getReturnMark ? r.getReturnMark() : UIManager.getTag(r.clazz)
	}, t.hasReturnPettern = function(r) {
		return -1 !== t.returnPatterns.indexOf(r)
	}, t.prototype.onWarStart = function(r) {
		var t = r.data; - 1 === WarUI.GUAJI_WAR_TYPE_SET.indexOf(t) && (egret.warn("战斗重置返回管理器，status=" + t), this.reset())
	}, t.prototype.reset = function() {
		this.stack = []
	}, t.prototype.onOpenCloseFirstUI = function(r) {
		var t = this,
			n = r.data,
			i = n.inst;
		egret.assert(1 === i.dlgLevel), n.open && egret.callLater((function() {
			GlobalFunc.safeInvokeFunc(i, (function() {
				t.onOpenFirstUI(i)
			}))
		}), this)
	}, t.prototype.getParientMark = function(r) {
		var t = r.indexOf(".");
		return -1 === t ? r : r.substr(0, t)
	}, t.prototype.isInSameUI = function(r, t) {
		return this.getParientMark(r) === this.getParientMark(t)
	}, t.prototype.isStackTopSameUI = function(r) {
		var t = this.stack.length;
		if (0 === t) return !1;
		var n = this.stack[t - 1][0];
		return this.isInSameUI(n, r)
	}, t.prototype.lastIndexOfStack = function(r) {
		for (var t = this.stack.length - 1; t >= 0; t--)
			if (this.isInSameUI(r, this.stack[t][0])) return t;
		return -1
	}, t.prototype.pushTagInSubStack = function(r) {
		var t = this.stack[this.stack.length - 1];
		t.push(r);
		for (var n = [], i = 0; i < t.length; i++) t.lastIndexOf(t[i]) == i && n.push(t[i]);
		this.stack[this.stack.length - 1] = n
	}, t.prototype.onOpenFirstUI = function(r) {
		var n = t.getReturnMark(r);
		if (n) {
			0 !== this.stack.length && this.isStackTopSameUI(n) ? this.pushTagInSubStack(n) : this.stack.push([n]);
			for (var i = [], e = 0; e < this.stack.length; e++) {
				var a = this.stack[e][0];
				this.lastIndexOfStack(a) === e && i.push(this.stack[e])
			}
			this.stack = i;
			var s = this.stack.length - t.stackSize;
			this.stack.splice(0, s)
		}
	}, t.prototype.doReturn = function(r) {
		var n = this.stack.length;
		if (0 !== n) {
			var i = this.getParientMark(t.getReturnMark(r));
			if (this.isInSameUI(i, this.stack[n - 1][0])) {
				this.stack.pop();
				var e = this.stack[n - 2];
				if (e) {
					var a = e[e.length - 1],
						s = a + "-" + i;
					if (t.hasReturnPettern(s)) {
						var u = t.popReturnCmds(a);
						return !!u && (utils.callLater(50, (function() {
							u[1].apply(u[0], u[2] || [])
						}), [], this), !0)
					}
				}
			}
		}
	}, t.returnPatterns = ["PartnerUI.PartnerMainUI-ActivityBaseUI", "PrayStarUI-PartnerUI", "PartnerUI.PartnerMainUI-PrayStarUI", "PartnerUI.PartnerMainUI-NewLuckyCircleUI", "NewLuckyCircleUI.0-PartnerUI", "NewLuckyCircleUI.1-PartnerUI", "PartnerUI.PartnerMainUI-VipUI", "PartnerUI.PartnerMainUI-FirstWeekPanel", "PartnerUI.PartnerMainUI-StartupUI", "PartnerUI.PartnerMainUI-FirstRechargeUI", "ConsumerRebateUI-HomeMainUI", "PartnerUI.PartnerMainUI-RankSetUI"], t.returnCmds = {}, t.stackSize = 2, __decorate([SwallowError()], t.prototype, "onOpenFirstUI", null), __decorate([SwallowError()], t.prototype, "doReturn", null), t
}(utils.SingletonClass);
__reflect(UIReturnMgr.prototype, "UIReturnMgr");
var VersionController = function() {
	function t() {
		this.versionPath = "resource/assets/", this.versionConfigPath = "resource/res.json?v=" + Math.random(), this.versionCacheWxgame = function() {}, this.versionCacheWeb = function() {}
	}
	return t.prototype.getRemoveList = function(t) {
		var r = this,
			e = [],
			i = "";
		Object.keys(this.versionConfig).forEach((function(t) {
			i += r.versionConfig[t] + ","
		}));
		for (var n = t.length, s = 0; s < n; ++s) {
			var o = t[s],
				h = o.slice(0, o.indexOf(".")); - 1 === i.indexOf(h) && e.push(o)
		}
		return e
	}, t.prototype.checkAndDoAssembly = function() {
		if (1 === this.cacheLst.length && this.cacheJson.values.length >= 1)
			for (var t = this.cacheJson.values[0], r = 0, e = Object.keys(t); r < e.length; r++) {
				var i = e[r];
				this.versionConfig[i] = t[i]
			} else if (this.cacheJson.size >= this.cacheLst.length)
				for (var n = 0, s = this.cacheLst; n < s.length; n++) {
					var o = s[n],
						h = egret.runEgretOptionsIns.config.cdn + o;
					if (this.cacheJson.has(h)) {
						t = this.cacheJson.get(h);
						for (var u = 0, a = Object.keys(t); u < a.length; u++) i = a[u], this.versionConfig[i] = t[i]
					}
				}
	}, t.prototype.getRESVersionConfig = function(t, r) {
		var e = this;
		return void 0 === r && (r = !1), new Promise((function(i, n) {
			var s = new egret.HttpRequest;
			s.responseType = egret.HttpResponseType.TEXT, s.open(r ? t + "?v=" + Math.random() : t, egret.HttpMethod.GET), s.send(), s.addEventListener(egret.Event.COMPLETE, (function(r) {
				var n = r.currentTarget,
					s = JSON.parse(n.response);
				e.cacheJson.set(t, s), e.checkAndDoAssembly(), i()
			}), e), s.addEventListener(egret.IOErrorEvent.IO_ERROR, (function() {
				egret.log("post error : " + event), n()
			}), e)
		}))
	}, t.prototype.loadFullConfig = function() {
		this.cacheLst = [], this.cacheJson = new dataStructure.Map;
		for (var t = [], r = egret.runEgretOptionsIns.config.reslist, e = 0, i = r.length; e < i; e++) {
			var n = r[e];
			n = n.replace("resource/res", "resource/" + GlobalValue.ResMappingExt[GlobalValue.compressedTextureFormat]), this.cacheLst.push(n), t.push(this.getRESVersionConfig(egret.runEgretOptionsIns.config.cdn + n, e === i - 1))
		}
		return Promise.all(t)
	}, t.prototype.init = function() {
		return this.versionConfig = {}, window.versionConfig && window.versionConfigLoaded ? (this.versionConfig = window.versionConfig, this.isNeedFullConfigLoad = !0, Promise.resolve()) : this.loadFullConfig().then((function() {
			GlobalValue.resourceConfigLoaded = !0
		}))
	}, t.prototype.getVirtualUrl = function(t) {
		return t.indexOf("default.res.") > -1 || t.indexOf("default.thm.json") > -1 ? (utils.isMiniGame(), t) : this.getResUrlByVersion(t)
	}, t.prototype.getResUrlByVersion = function(t) {
		if (-1 === t.indexOf(this.versionPath)) return t;
		var r = t.split(this.versionPath),
			e = r[1];
		if (this.versionConfig) {
			var i = XXH64(e.replace(this.versionPath, ""), 0).toString(16);
			if (this.versionConfig && i in this.versionConfig) {
				var n = this.versionConfig[i];
				e = r[0] + this.versionPath + n
			}
		}
		return e
	}, t
}();
__reflect(VersionController.prototype, "VersionController", ["RES.IVersionController"]), RES.registerVersionController(new VersionController);
var DragCallBack = function() {
	function t(t) {
		this.ui = t
	}
	return t.prototype.destroy = function() {
		this.ui = null
	}, t.prototype.onViewDragStateChanged = function(t, i, h) {
		this.ui.onViewDragStateChanged && this.ui.onViewDragStateChanged(t, i, h)
	}, t.prototype.onViewPositionChanged = function(t, i, h, s, n) {
		this.ui.onViewPositionChanged && this.ui.onViewPositionChanged(t, i, h, s, n)
	}, t.prototype.onViewCaptured = function(t) {
		this.ui.onViewCaptured && this.ui.onViewCaptured(t)
	}, t.prototype.onViewReleased = function(t, i, h) {
		var s = !1;
		return this.ui.onViewReleased && (s = this.ui.onViewReleased(t, i, h)), s
	}, t.prototype.onEdgeTouched = function(t) {
		this.ui.onEdgeTouched && this.ui.onEdgeTouched(t)
	}, t.prototype.onEdgeLock = function(t) {
		return !!this.ui.onEdgeLock && this.ui.onEdgeLock(t)
	}, t.prototype.onEdgeDragStarted = function(t) {
		this.ui.onEdgeDragStarted && this.ui.onEdgeDragStarted(t)
	}, t.prototype.getOrderedChildIndex = function(t) {
		return this.ui.getOrderedChildIndex ? this.ui.getOrderedChildIndex(t) : t
	}, t.prototype.getViewHorizontalDragRange = function(t) {
		return this.ui.getViewHorizontalDragRange ? this.ui.getViewHorizontalDragRange(t) : 0
	}, t.prototype.getViewVerticalDragRange = function(t) {
		return this.ui.getViewVerticalDragRange ? this.ui.getViewVerticalDragRange(t) : 0
	}, t.prototype.tryCaptureView = function(t) {
		return !!this.ui.tryCaptureView && this.ui.tryCaptureView(t)
	}, t.prototype.clampViewPositionHorizontal = function(t, i, h) {
		return this.ui.clampViewPositionHorizontal ? this.ui.clampViewPositionHorizontal(t, i, h) : i
	}, t.prototype.clampViewPositionVertical = function(t, i, h) {
		return this.ui.clampViewPositionVertical ? this.ui.clampViewPositionVertical(t, i, h) : i
	}, t.prototype.computeSettleDuration = function(t, i) {
		return this.ui.computeSettleDuration ? this.ui.computeSettleDuration(t, i) : DragHelper.BASE_SETTLE_DURATION
	}, t.prototype.isDragVisible = function(t) {
		return !this.ui.isDragVisible || this.ui.isDragVisible(t)
	}, t
}();
__reflect(DragCallBack.prototype, "DragCallBack");
var DragHelper = function() {
	function t(i, h) {
		this.parent = i, this.cb = h, this.edgeSize = t.EDGE_SIZE, this.addParentEventListener()
	}
	return t.create = function(i, h, s) {
		void 0 === s && (s = 1);
		var n = new t(i, h);
		return n.touchSlop = t.EGRET_MOVIE_DIS * (1 / s), n
	}, t.prototype.getEdgesTouched = function(i, h) {
		var s = 0,
			n = this.parent,
			r = this.edgeSize;
		return i < r && (s |= t.EDGE_LEFT), h < r && (s |= t.EDGE_TOP), i > n.width - r && (s |= t.EDGE_RIGHT), h > n.height - r && (s |= t.EDGE_BOTTOM), s
	}, t.prototype.clearMotionHistory = function() {
		this.initialPos = null, this.lastPos = null, this.viewCapture = null, this.initialEdgesTouched = 0, this.edgeDragsInPrg = 0, this.edgeDragsInPrg = 0
	}, t.prototype.saveInitMotion = function(t, i) {
		this.initialPos = egret.Point.create(t, i), this.lastPos = egret.Point.create(t, i), this.initialEdgesTouched = this.getEdgesTouched(t, i)
	}, t.prototype.parsePos = function(t) {
		return this.parent.globalToLocal(t.stageX, t.stageY)
	}, t.prototype.saveLastMotion = function(t) {
		var i = this.parsePos(t);
		this.lastPos.x = i.x, this.lastPos.y = i.y
	}, t.prototype.dragTo = function(t, i, h, s) {
		var n = t,
			r = i,
			e = this.viewCapture.x,
			u = this.viewCapture.y,
			c = !1;
		0 !== h && (n = this.cb.clampViewPositionHorizontal(this.viewCapture, t, h), c = !0), 0 !== s && (r = this.cb.clampViewPositionVertical(this.viewCapture, i, s), c = !0), c && (this.viewCapture.x = n, this.viewCapture.y = r, this.cb.onViewPositionChanged(this.viewCapture, n, r, n - e, r - u))
	}, t.prototype.addParentEventListener = function() {
		var t = this;
		[egret.TouchEvent.TOUCH_BEGIN, egret.TouchEvent.TOUCH_END, egret.TouchEvent.TOUCH_CANCEL, egret.TouchEvent.TOUCH_MOVE, egret.TouchEvent.TOUCH_RELEASE_OUTSIDE].forEach((function(i, h) {
			t.parent.addEventListener(i, t.processTouchEvent, t)
		}))
	}, t.prototype.tryCaptureViewForDrag = function(t) {
		return t === this.viewCapture || !(!t || !this.cb.tryCaptureView(t)) && (this.captureChildView(t), !0)
	}, t.prototype.setDragState = function(i) {
		if (this.dragState !== i) {
			var h = this.dragState;
			this.dragState = i, this.cb.onViewDragStateChanged(h, i, this.viewCapture), this.dragState === t.STATE_IDLE && (this.viewCapture = null), this.dragState === t.STATE_SETTLING ? this.oldSettlePos = {
				x: this.viewCapture.x,
				y: this.viewCapture.y
			} : this.oldSettlePos = null
		}
	}, t.prototype.setEdgeSize = function(t) {
		this.edgeSize = t
	}, t.prototype.setEdgeTrackingEnabled = function(t) {
		this.trackingEdges = t
	}, t.prototype.captureChildView = function(i) {
		if (i.parent !== this.parent) throw Error("尝试拖动的对象不是当前对象的孩子");
		this.viewCapture = i, this.cb.onViewCaptured(i), this.setDragState(t.STATE_DRAGGING)
	}, t.prototype.processTouchEvent = function(i) {
		var h = i.type;
		h === egret.TouchEvent.TOUCH_BEGIN && this.cancel();
		var s = this.dragState === t.STATE_DRAGGING;
		switch (h) {
			case egret.TouchEvent.TOUCH_BEGIN:
				var n = this.parsePos(i),
					r = n.x,
					e = n.y,
					u = this.findTopChildUnder(r, e);
				this.saveInitMotion(r, e), this.tryCaptureViewForDrag(u), 0 != (this.initialEdgesTouched & this.trackingEdges) && this.cb.onEdgeTouched(this.initialEdgesTouched & this.trackingEdges);
				break;
			case egret.TouchEvent.TOUCH_END:
			case egret.TouchEvent.TOUCH_CANCEL:
				s && this.dispatchViewReleased(0, 0);
				break;
			case egret.TouchEvent.TOUCH_MOVE:
				var c = this.parsePos(i);
				if (s) {
					var f = c.x - this.lastPos.x,
						a = c.y - this.lastPos.y;
					this.dragTo(this.viewCapture.x + f, this.viewCapture.y + a, f, a), this.saveLastMotion(i)
				} else {
					if (!this.initialPos) return void(this.viewCapture && this.dispatchViewReleased(0, 0));
					var o = c.x - this.initialPos.x,
						l = c.y - this.initialPos.y,
						v = this.findTopChildUnder(c.x, c.y);
					this.checkTouchSlopOfView(v, o, l) && this.tryCaptureViewForDrag(v), this.reportNewEdgeDrag(o, l), this.saveLastMotion(i)
				}
				break;
			case egret.TouchEvent.TOUCH_RELEASE_OUTSIDE:
				s && this.dispatchViewReleased(0, 0)
		}
	}, t.prototype.cancel = function() {
		this.clearMotionHistory()
	}, t.prototype.abort = function() {
		this.cancel(), this.dragState, t.STATE_SETTLING, this.setDragState(t.STATE_IDLE)
	}, t.prototype.settleCapturedViewAt = function(i, h) {
		var s = this,
			n = i - this.viewCapture.x,
			r = h - this.viewCapture.y;
		if (0 === n && 0 === r) return egret.Tween.removeTweens(this.viewCapture), this.setDragState(t.STATE_IDLE), !1;
		var e = this.cb.computeSettleDuration(n, r);
		egret.ticker.$startTick(this.watcherHanderOnSettle, this), egret.Tween.get(this.viewCapture).to({
			x: i,
			y: h
		}, e), utils.callLater(e, (function() {
			egret.ticker.$stopTick(s.watcherHanderOnSettle, s), s.setDragState(t.STATE_IDLE), s.cancel()
		})), this.setDragState(t.STATE_SETTLING)
	}, t.prototype.watcherHanderOnSettle = function(t) {
		var i = this.viewCapture;
		if (!i || !this.oldSettlePos) return egret.ticker.$stopTick(this.watcherHanderOnSettle, this), !0;
		var h = i.x - this.oldSettlePos.x,
			s = i.y - this.oldSettlePos.y;
		return (Math.abs(h) >= 1 || Math.abs(s) >= 1) && (this.oldSettlePos = {
			x: i.x,
			y: i.y
		}, this.cb.onViewPositionChanged(i, i.x, i.y, h, s)), !1
	}, t.prototype.dispatchViewReleased = function(i, h) {
		this.cb.onViewReleased(this.viewCapture, i, h) || this.dragState === t.STATE_DRAGGING && (this.cancel(), this.setDragState(t.STATE_IDLE))
	}, t.prototype.reportNewEdgeDrag = function(i, h) {
		var s = 0;
		this.checkNewEdgeDrag(i, h, t.EDGE_LEFT) && (s |= t.EDGE_LEFT), this.checkNewEdgeDrag(i, h, t.EDGE_RIGHT) && (s |= t.EDGE_RIGHT), this.checkNewEdgeDrag(h, i, t.EDGE_TOP) && (s |= t.EDGE_TOP), this.checkNewEdgeDrag(h, i, t.EDGE_BOTTOM) && (s |= t.EDGE_BOTTOM), 0 !== s && (this.edgeDragsInPrg |= s, this.cb.onEdgeDragStarted(s))
	}, t.prototype.checkNewEdgeDrag = function(t, i, h) {
		var s = Math.abs(t),
			n = Math.abs(i);
		return !((this.initialEdgesTouched & h) !== h || 0 == (this.trackingEdges & h) || (this.edgeDragsLocked & h) === h || this.edgeDragsInPrg & h || s <= this.touchSlop && n <= this.touchSlop || (s < .5 * n && this.cb.onEdgeLock(h) ? (this.edgeDragsLocked |= h, 1) : !(0 == (this.edgeDragsInPrg & h) && s > this.touchSlop)))
	}, t.prototype.checkTouchSlopOfView = function(t, i, h) {
		if (null === t) return !1;
		var s = this.cb.getViewHorizontalDragRange(t) > 0,
			n = this.cb.getViewVerticalDragRange(t) > 0;
		return s && n ? i * i + h * h > this.touchSlop * this.touchSlop : s ? Math.abs(i) > this.touchSlop : !!n && Math.abs(h) > this.touchSlop
	}, t.prototype.checkTouchSlop = function(i) {
		var h = (i & t.DIRECTION_HORIZONTAL) === t.DIRECTION_HORIZONTAL,
			s = (i & t.DIRECTION_VERTICAL) === t.DIRECTION_VERTICAL,
			n = this.lastPos.x - this.initialPos.x,
			r = this.lastPos.y - this.initialPos.y;
		return h && s ? n * n + r * r > this.touchSlop * this.touchSlop : h ? Math.abs(n) > this.touchSlop : !!s && Math.abs(r) > this.touchSlop
	}, t.prototype.isEdgeTouched = function(t) {
		return 0 != (this.initialEdgesTouched & t)
	}, t.prototype.isCaptureViewUnder = function(t, i) {
		return this.isViewUnder(this.viewCapture, t, i)
	}, t.prototype.isViewUnder = function(t, i, h) {
		return !!t && t.getTransformedBounds(this.parent).containsPoint(egret.Point.create(i, h))
	}, t.prototype.findTopChildUnder = function(t, i) {
		for (var h = this.parent.numChildren - 1; h >= 0; h--) {
			var s = this.cb.getOrderedChildIndex(h),
				n = this.parent.getChildAt(s);
			if (n.touchEnabled && n.visible && (n instanceof Avatar ? Avatar.getAvatarBound(n) : n.getTransformedBounds(this.parent)).containsPoint(egret.Point.create(t, i))) return n
		}
		return null
	}, t.STATE_IDLE = 0, t.STATE_DRAGGING = 1, t.STATE_SETTLING = 2, t.EDGE_LEFT = 1, t.EDGE_RIGHT = 2, t.EDGE_TOP = 4, t.EDGE_BOTTOM = 8, t.EDGE_ALL = t.EDGE_LEFT | t.EDGE_TOP | t.EDGE_RIGHT | t.EDGE_BOTTOM, t.DIRECTION_HORIZONTAL = 1, t.DIRECTION_VERTICAL = 2, t.DIRECTION_ALL = t.DIRECTION_HORIZONTAL | t.DIRECTION_VERTICAL, t.EDGE_SIZE = 20, t.BASE_SETTLE_DURATION = 256, t.MAX_SETTLE_DURATION = 600, t.EGRET_MOVIE_DIS = 4, t
}();
__reflect(DragHelper.prototype, "DragHelper");
var WebSocketEvent = function(t) {
	function e(e, n) {
		return t.call(this, e, !1, !1, n) || this
	}
	return __extends(e, t), e.OPEN = "Open", e.CLOSE = "Close", e.ERROR = "Error", e
}(egret.Event);
__reflect(WebSocketEvent.prototype, "WebSocketEvent");
var WebSocketManger = function(t) {
	function e() {
		var e = t.call(this) || this;
		return e.$socket = null, e.$HOST = null, e.$PORT = 0, e.$sendDataList = [], e.$isStartReconnect = !1, e.initWebSocket(), e
	}
	return __extends(e, t), e.initInstance = function() {
		e.inst || (e.inst = new e)
	}, e.getInstance = function() {
		return e.initInstance(), e.inst
	}, e.addListener = function(t, n, i) {
		e.getInstance().addEventListener(t, n, i)
	}, e.addOnce = function(t, n, i) {
		e.getInstance().once(t, n, i)
	}, e.removeListener = function(t, n, i) {
		e.getInstance().removeEventListener(t, n, i)
	}, Object.defineProperty(e.prototype, "host", {
		get: function() {
			return this.$HOST
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "port", {
		get: function() {
			return this.$PORT
		},
		enumerable: !0,
		configurable: !0
	}), Object.defineProperty(e.prototype, "socketConnected", {
		get: function() {
			return this.$socket.connected
		},
		enumerable: !0,
		configurable: !0
	}), e.prototype.encodeMsg = function(t) {
		return msgpack.encode(t)
	}, e.prototype.decodeMsg = function(t) {
		return msgpack.decode(t)
	}, e.prototype.initWebSocket = function(t, e) {
		t && e && this.setConnectInfo(t, e), this.$socket = new egret.WebSocket, this.$socket.type = egret.WebSocket.TYPE_BINARY, this.$socket.addEventListener(egret.ProgressEvent.SOCKET_DATA, this.onReceiveData, this), this.$socket.addEventListener(egret.Event.CONNECT, this.onSocketOpen, this), this.$socket.addEventListener(egret.Event.CLOSE, this.onSocketClose, this), this.$socket.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onSocketError, this)
	}, e.prototype.sendAllCmdData = function() {
		for (; this.$sendDataList.length;) this.doSend(this.$sendDataList.shift())
	}, e.prototype.doSend = function(t) {
		console.log("发送"+JSON.stringify(t));
		var e = this.encodeMsg(t),
			n = new egret.ByteArray;
		n._writeUint8Array(e), this.$socket.writeBytes(n), n.clear()
	}, e.prototype.onReceiveData = function(t) {
		var e = new egret.ByteArray;
		this.$socket.readBytes(e);
		var n = this.decodeMsg(e.bytes);
		console.log("收到"+JSON.stringify(n));
		GlobalValue.InnerTest && egret.log("onReceiveData", n), "string" == typeof n && utils.MessageBox("#cFFDE27" + n), prot_$.pv(n), e.clear(), this.lastProtTime = (new Date).getTime()
	}, e.prototype.onSocketOpen = function() {
		egret.log("WebSocketOpen"), this.sendAllCmdData();
		var t = new WebSocketEvent(WebSocketEvent.OPEN, this.$connecting);
		this.dispatchEvent(t), this.$connecting = !1
	}, e.prototype.onSocketClose = function(t) {
		egret.log("WebSocketClose"), this.$sendDataList.length = 0;
		var e = new WebSocketEvent(WebSocketEvent.CLOSE, this.$connecting);
		this.dispatchEvent(e), LoginManager.getInstance().tryReconnect()
	}, e.prototype.onSocketError = function() {
		egret.log("WebSocketError");
		var t = new WebSocketEvent(WebSocketEvent.ERROR, this.$connecting);
		this.dispatchEvent(t), this.$socket.close()
	}, e.prototype.openSocket = function(t, e) {
		this.setConnectInfo(t, e), this.doOpenSocket()
	}, e.prototype.doOpenSocket = function() {
		if (this.$socket || this.initWebSocket(), this.$HOST && this.$PORT) {
			var t = 0 === this.$HOST.indexOf("wss") || 0 === this.$HOST.indexOf("ws") ? this.$HOST + ":" + this.$PORT : "ws://" + this.$HOST + ":" + this.$PORT;
			egret.log(">>>url: ", t), this.$socket.connectByUrl(t), this.$connecting = !0
		} else console.error("websocket配置有误，无法连接！$HOST: " + this.$HOST + ", $PORT: " + this.$PORT)
	}, e.prototype.setConnectInfo = function(t, e) {
		t && (this.$HOST = t), e && (this.$PORT = e)
	}, e.prototype.sendData = function(t) {
		this.$socket.connected ? this.doSend(t) : egret.log("ws is not connect!!!!")
	}, e.prototype.closeSocket = function() {
		this.$socket.close()
	}, e.prototype.connectSocket = function(t, e) {
		this.$socket && this.$socket.connected ? egret.log("websocket已经连接，需要重连请调用reConnectSocket接口") : this.openSocket(t, e)
	}, e.prototype.reConnectSocket = function(t, e) {
		this.$socket && this.$socket.connected ? (this.$socket.clearEventListener(), this.$socket.close(), this.$socket = null, this.openSocket(t, e)) : this.openSocket(t, e)
	}, e.inst = null, e
}(egret.EventDispatcher);
__reflect(WebSocketManger.prototype, "WebSocketManger");
var WinOnKeyEvent = function(n) {
	function e(e, t) {
		return n.call(this, e, !1, !1, t) || this
	}
	return __extends(e, n), e.ENTER = "Enter", e.UP = "Up", e.DOWN = "Down", e.Composition = "Composition", e
}(egret.Event);
__reflect(WinOnKeyEvent.prototype, "WinOnKeyEvent");
var WinOnKeyManager = function(n) {
	function e() {
		var e = n.call(this) || this;
		return window.onkeyup = function(n) {
			var t = n.which || n.keyCode || n.charCode;
			13 === t ? e.dispatchEvent(new WinOnKeyEvent(WinOnKeyEvent.ENTER)) : 38 === t ? e.dispatchEvent(new WinOnKeyEvent(WinOnKeyEvent.UP)) : 40 === t && e.dispatchEvent(new WinOnKeyEvent(WinOnKeyEvent.DOWN))
		}, window.addEventListener("compositionstart", (function() {
			e.dispatchEvent(new WinOnKeyEvent(WinOnKeyEvent.Composition, {
				type: "start"
			}))
		})), window.addEventListener("compositionend", (function() {
			e.dispatchEvent(new WinOnKeyEvent(WinOnKeyEvent.Composition, {
				type: "end"
			}))
		})), e
	}
	return __extends(e, n), e.getInstance = function() {
		return this.$inst || (this.$inst = new e), this.$inst
	}, e
}(egret.EventDispatcher);
__reflect(WinOnKeyManager.prototype, "WinOnKeyManager");
var RenwuInfo = [{
		name: "wukong",
		x: -50,
		y: 30,
		action: "walk"
	}, {
		name: "zhubajie",
		x: 70,
		y: 30,
		action: "walk"
	}, {
		name: "tangseng",
		x: 200,
		y: -60,
		action: "walk"
	}, {
		name: "shaseng",
		x: 360,
		y: 30,
		action: "walk"
	}],
	RenwuFrameRate = 8,
	BGMoveSpeedPerFrame = .5,
	LoginBackGroundUI = function(t) {
		function i() {
			var i = t.call(this) || this;
			return i.$mcList = [], i.addEventListener(egret.Event.ADDED_TO_STAGE, i.onAddToStage, i), i
		}
		return __extends(i, t), i.prototype.onAddToStage = function() {
			var t = this;
			this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this), this.imgBg1 = new egret.Bitmap, this.imgBg2 = new egret.Bitmap, this.imgBg3 = new egret.Bitmap, this.imgBg1.fillMode = this.imgBg2.fillMode = this.imgBg3.fillMode = egret.BitmapFillMode.REPEAT, this.addChild(this.imgBg3), this.addChild(this.imgBg2), this.grpRenwu = new egret.DisplayObjectContainer, this.grpRenwu.x = 17, this.grpRenwu.y = 1013, this.grpRenwu.width = 647, this.grpRenwu.height = 220, this.addChild(this.grpRenwu), this.addChild(this.imgBg1), RES.getResAsync("background_2_1_png").then((function(i) {
				var e = new egret.Texture;
				e.bitmapData = i, t.imgBg1.texture = e, t.imgBg1.width += 720, t.onResize()
			})), RES.getResAsync("background_2_2_png").then((function(i) {
				var e = new egret.Texture;
				e.bitmapData = i, t.imgBg2.texture = e, t.imgBg2.width += 720, t.onResize()
			})), RES.getResAsync("background_2_3_png").then((function(i) {
				var e = new egret.Texture;
				e.bitmapData = i, t.imgBg3.texture = e, t.imgBg3.width += 720, t.onResize()
			})), this.getRenwuCache(), this.onResize(), egret.Ticker.getInstance().register(this.onTick, this), this.completed = !0, this.dispatchEvent(new LoginUIEvent(LoginUIEvent.ONCOMPLETE, this))
		}, i.prototype.reset = function() {
			egret.Ticker.getInstance().register(this.onTick, this)
		}, i.prototype.onResize = function() {
			this.width = this.parent ? this.parent.width : LoginUIGroup.getInstance().width, this.height = this.parent ? this.parent.height : LoginUIGroup.getInstance().height, this.grpRenwu.x = 17, this.adaptScreen()
		}, i.prototype.getRenwuCache = function() {
			for (var t = this, i = 0; i < 4; i++) MCDataCaches.getMCData("resource/assets/eui/login/" + RenwuInfo[i].name + ".json", (function(i) {
				var e = new egret.MovieClip;
				e.movieClipData = egret.MovieClipDataFactory.getInstance().generateMovieClipData(i.mcData, i.mcTexture), e.gotoAndPlay(e.movieClipData.labels[0].name, -1), e.frameRate = RenwuFrameRate, e.scaleX = e.scaleY = 1;
				for (var n = 0, s = RenwuInfo; n < s.length; n++) {
					var h = s[n];
					if (i.filename.indexOf(h.name) > -1) {
						e.x = h.x, e.y = h.y;
						break
					}
				}
				t.grpRenwu.addChild(e), t.$mcList.push(e)
			}), this)
		}, i.prototype.onTick = function(t) {
			this.$timer += t;
			for (var i = 1; i < 3; i++) this.moveBG(this["imgBg" + i], BGMoveSpeedPerFrame)
		}, i.prototype.moveBG = function(t, i) {
			if (t && t.visible) {
				var e = t.$scrollRect,
					n = t.width;
				e || (e = egret.$TempRectangle).setTo(n - 720, 0, 720, 1280), e.x -= i, e.x <= 0 && e.setTo(n - 720 + e.x, 0, 720, 1280), t.scrollRect = e
			}
		}, i.prototype.onClose = function() {
			egret.Ticker.getInstance().unregister(this.onTick, this)
		}, i.prototype.destroy = function() {
			egret.Ticker.getInstance().unregister(this.onTick, this), this.imgBg1.texture && this.imgBg1.texture.dispose(), this.imgBg2.texture && this.imgBg2.texture.dispose(), this.imgBg3.texture && this.imgBg3.texture.dispose(), this.imgBg1.texture = this.imgBg2.texture = this.imgBg3.texture = null, this.removeChildren()
		}, i.prototype.adaptScreen = function() {
			var t = this.stage.stageHeight - this.height >> 1;
			this.imgBg3.scaleY = (this.stage.stageHeight + 10) / 1280, this.imgBg3.height = this.stage.stageHeight + 10;
			for (var i = 1; i < 4; i++) {
				var e = this["imgBg" + i];
				e.y = this.height + t - e.height + 5
			}
			this.grpRenwu.y = 1013 + t
		}, i
	}(egret.DisplayObjectContainer);
__reflect(LoginBackGroundUI.prototype, "LoginBackGroundUI");
var channel_logic_netease_web, channel_logic_360h5_web;
! function(n) {
	n.getLocalAccount = function() {
		return SdkMgr.getInst().ntExtendFunc({
			methodId: "getLocalAccount"
		})
	}, n.setLoginType = function(n) {
		SdkMgr.getInst().ntExtendFunc({
			methodId: "setLoginType",
			auth_type: n ? SdkMgr.NT_AUTH_NAME.NT_AUTH_NAME_GUEST : SdkMgr.NT_AUTH_NAME.NT_AUTH_NAME_LOGIN
		})
	}, n.showUserBind = function(n) {
		SdkMgr.getInst().ntExtendFunc({
			methodId: "showUserBind",
			loginCb: n
		})
	}, n.showCharBind = function() {
		return SdkMgr.getInst().ntExtendFunc({
			methodId: "openLogin",
			force: !0,
			enableLoginType: [1, 7],
			loginText: "绑定",
			smsBtnTxt: "绑定",
			mbBtnTxt: "绑定",
			goEmailLoginTxt: "邮箱绑定",
			goMbLoginTxt: "手机绑定"
		})
	}
}(channel_logic_netease_web || (channel_logic_netease_web = {})),
function(n) {
	n.reportLogin = function() {
		var n = SdkMgr.getInst(),
			e = SdkMgr.ConstProp;
		n.setPropStr(e.USERINFO_STAGE, e.USERINFO_STAGE_ENTER_SERVER), n.setPropInt(e.USERINFO_HOSTID, LoginManager.getInstance().serverInfo.hostid), n.setPropStr(e.USERINFO_HOSTNAME, LoginManager.getInstance().serverInfo.name), n.setPropStr(e.USERINFO_UID, String(LoginManager.getInstance().playerInfo.uid)), n.setPropStr(e.USERINFO_NAME, LoginManager.getInstance().playerInfo.name), n.setPropInt(e.USERINFO_GRADE, LoginManager.getInstance().playerInfo.level), n.setPropInt(e.CHANNEL_GAME_ID, 340), n.ntUpLoadUserInfo()
	}, n.reportCreatRole = function() {
		var n = SdkMgr.getInst(),
			e = SdkMgr.ConstProp;
		n.setPropStr(e.USERINFO_STAGE, e.USERINFO_STAGE_CREATE_ROLE), n.setPropInt(e.USERINFO_HOSTID, LoginManager.getInstance().serverInfo.hostid), n.setPropStr(e.USERINFO_HOSTNAME, LoginManager.getInstance().serverInfo.name), n.setPropStr(e.USERINFO_UID, String(LoginManager.getInstance().playerInfo.uid)), n.setPropStr(e.USERINFO_NAME, LoginManager.getInstance().playerInfo.name), n.setPropInt(e.USERINFO_GRADE, LoginManager.getInstance().playerInfo.level), n.setPropInt(e.CHANNEL_GAME_ID, 340), n.ntUpLoadUserInfo()
	}
}(channel_logic_360h5_web || (channel_logic_360h5_web = {}));
var DropTips = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.$autoRefresh = !0, i.addEventListener(egret.Event.ADDED_TO_STAGE, i.onAddToStage, i), i
	}
	return __extends(i, t), i.prototype.onAddToStage = function() {
		return __awaiter(this, void 0, void 0, (function() {
			var t, i, s, h, e;
			return __generator(this, (function(n) {
				switch (n.label) {
					case 0:
						return RES.getRes("btn_red") ? [3, 2] : [4, RES.getResAsync("common_uicontrol00_json")];
					case 1:
						n.sent(), n.label = 2;
					case 2:
						return this.width = this.parent.width, this.height = this.parent.height, (t = new egret.Shape).graphics.beginFill(0, .5), t.graphics.drawRect(0, 0, this.parent.stage.stageWidth, this.parent.stage.stageHeight), t.graphics.endFill(), t.touchEnabled = !0, this.rect = t, this.addChild(t), this.grp = new egret.DisplayObjectContainer, this.grp.width = 688, this.grp.height = 294, this.addChild(this.grp), (i = new egret.Bitmap).width = this.grp.width, i.height = this.grp.height, i.scale9Grid = new egret.Rectangle(43, 42, 41, 34), s = i, [4, Global.getResAsyncToTexture("dg_querendi_png")];
					case 3:
						return s.texture = n.sent(), this.grp.addChild(i), h = new egret.Bitmap, e = h, [4, Global.getResAsyncToTexture("image_querenkuangdiwen_png")];
					case 4:
						return e.texture = n.sent(), this.grp.addChild(h), this.btn = new SimpleButton, this.btn.source = {
							up: "common_uicontrol00_json.btn_red",
							down: "common_uicontrol00_json.btn_redselect"
						}, this.btn.label.text = "确  认", Global.setObjectCenter(this.btn.label, 0, 0), this.btn.x = 250, this.btn.y = 194, this.lbl = new egret.TextField, this.lbl.size = 26, this.lbl.fontFamily = "Microsoft YaHei", this.lbl.richmode = !0, this.lbl.textColor = 2106166, this.lbl.width = 484, this.lbl.y = 45, this.lbl.verticalAlign = "middle", this.lbl.textAlign = "left", this.lbl.lineSpacing = 5, this.lbl.height = 110, this.lbl.text = "#c202336当前服务器维护中，无法进入，请留意官网维护公告时间查看开服时间。", this.grp.addChild(this.lbl), this.lblUrl = new egret.TextField, this.lblUrl.size = 26, this.lblUrl.fontFamily = "Microsoft YaHei", this.lblUrl.richmode = !0, this.lblUrl.textColor = color.Green0x, this.lblUrl.width = 484, this.lblUrl.y = 98, this.lblUrl.verticalAlign = "middle", this.lblUrl.textAlign = "left", this.lblUrl.lineSpacing = 5, this.lblUrl.height = 110, this.lblUrl.touchEnabled = !0, this.lblUrl.text = "#c202336官网地址：" + color.Green + GlobalValue.officialWebsiteUrl, this.grp.addChild(this.lblUrl), this.grp.addChild(this.btn), this.onResize(), this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtn, this), this.lblUrl.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapUrl, this), this.completed = !0, this.dispatchEvent(new LoginUIEvent(LoginUIEvent.ONCOMPLETE, this)), [2]
				}
			}))
		}))
	}, i.prototype.onResize = function() {
		Global.setObjectCenter(this.grp, 0, 0), Global.setObjectCenter(this.lblUrl, 0);
		var t = this.stage.stageWidth,
			i = this.stage.stageHeight;
		this.rect.graphics.clear(), this.rect.graphics.beginFill(0, .5), this.rect.graphics.drawRect((this.parent.width - t) / 2 - 2, (this.parent.height - i) / 2 - 2, t + 4, i + 4), this.rect.graphics.endFill()
	}, i.prototype.onTouchTapbtn = function() {
		this.$btnCb && this.$btnCbThisObj ? this.$btnCb.apply(this.$btnCbThisObj) : this.$autoRefresh ? this.refreshGame() : LoginUIGroup.close(i)
	}, i.prototype.onTouchTapUrl = function() {
		utils.openURL(GlobalValue.officialWebsiteUrl)
	}, i.prototype.refreshGame = function() {
		if (utils.isInAPP() || "netease" === GlobalValue.appLoginChannel) utils.reloadPage();
		else {
			if ("360h5" === GlobalValue.appLoginChannel) return;
			utils.refreshClient(!0)
		}
	}, i.prototype.setData = function(t, i, s, h, e, n) {
		void 0 === i && (i = !0), void 0 === s && (s = !0), void 0 === h && (h = "确 认"), this.lblUrl.visible = t.indexOf("官网地址") > -1, t = t.split("官网地址")[0], this.lbl.text = "#c202336" + t, this.$autoRefresh = i, this.btn.visible = s, Global.setObjectCenter(this.lbl, 0), this.btn.$label.text = h, Global.setObjectCenter(this.btn.label, 0, 0), this.$btnCb = e, this.$btnCbThisObj = n
	}, i
}(egret.DisplayObjectContainer);
__reflect(DropTips.prototype, "DropTips");
var GuestProtocolUI = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.completed = !1, i.addEventListener(egret.Event.ADDED_TO_STAGE, (function() {
			return __awaiter(i, void 0, void 0, (function() {
				var t;
				return __generator(this, (function(i) {
					switch (i.label) {
						case 0:
							return this.width = this.stage.stageWidth, this.height = this.stage.stageHeight, t = this, [4, RES.getResAsync("ServerProtocol0_json")];
						case 1:
							return t.$sheet = i.sent(), this.onAddToStage(), [2]
					}
				}))
			}))
		}), i), i
	}
	return __extends(i, t), i.prototype.onAddToStage = function() {
		this.grp = new egret.DisplayObjectContainer, this.addChild(this.grp);
		var t = new egret.Bitmap;
		t.width = 668, t.height = 474, t.texture = Global.getTexture("ServerProtocol_json.bg_login_lanhei"), t.scale9Grid = new egret.Rectangle(27, 35, 119, 43), this.grp.addChild(t);
		var i = new egret.Bitmap;
		i.width = 230, i.scaleX = i.scaleY = 1.4, i.x = 171, i.y = 62.5, i.texture = Global.getTexture("ServerProtocol_json.img_gonggao_biao"), i.scale9Grid = new egret.Rectangle(24, 2, 96, 13), this.grp.addChild(i);
		var e = new egret.Bitmap;
		e.x = 248.34, e.y = 41.34, e.texture = Global.getTexture("ServerProtocol_json.txt_login_yonghuxieyi"), this.grp.addChild(e);
		var o = new egret.Bitmap;
		o.x = 36, o.y = 107.63, o.texture = Global.getTexture("ServerProtocol_json.img_yonghuxieyi_bg"), this.grp.addChild(o);
		var n = new egret.TextField;
		n.text = "我们非常重视您的个人信息和隐私保护，为了更好的保障您的个人权益，在您使用前请务必阅读我们的《用户协议》。 如果您同意此协议，请点击“同意并继续”，并开始游戏。", n.x = 56, n.y = 125, n.width = 554, n.height = 160, n.size = 24, n.fontFamily = "Microsoft YaHei", n.border = !1, n.stroke = 0, n.lineSpacing = 10, n.textColor = 16777215, this.grp.addChild(n);
		var r = new egret.TextField;
		r.text = "您可点击查看", r.x = 56, r.y = 313.13, r.size = 24, r.fontFamily = "Microsoft YaHei", r.border = !1, r.stroke = 0, r.lineSpacing = 10, r.textColor = 16777215, this.grp.addChild(r), this.lblCompact = new egret.TextField, this.lblCompact.text = "《用户协议》", this.lblCompact.x = 192.88, this.lblCompact.y = 300.63, this.lblCompact.width = 175, this.lblCompact.height = 49, this.lblCompact.verticalAlign = "middle", this.lblCompact.textAlign = "center", this.lblCompact.linethrough = !1, this.lblCompact.underline = !0, this.lblCompact.size = 24, this.lblCompact.fontFamily = "Microsoft YaHei", this.lblCompact.textColor = 7732623, this.grp.addChild(this.lblCompact), this.btnBack = new LoginBtn, this.btnBack.source = {
			up: "ServerProtocol_json.btn_login_shangyibu",
			down: "ServerProtocol_json.btn_login_shangyibuselect"
		};
		var s = this.btnBack.getBtnImg();
		s.texture = Global.getTexture("ServerProtocol_json.img_login_shangyibu"), s.x = 60, s.y = 14.67, this.btnBack.x = 81.5, this.btnBack.y = 380, this.grp.addChild(this.btnBack), this.btnConfirm = new LoginBtn, this.btnConfirm.source = {
			up: "ServerProtocol_json.btn_login_red",
			down: "ServerProtocol_json.btn_login_redselect"
		}, (s = this.btnConfirm.getBtnImg()).texture = Global.getTexture("ServerProtocol_json.txt_login_tongyibingjixu_png"), s.x = 16, s.y = 14, this.btnConfirm.x = 366, this.btnConfirm.y = 380, this.grp.addChild(this.btnConfirm), this.onResize(), this.onComplete()
	}, i.prototype.onResize = function() {
		Global.setObjectCenter(this.grp, 0, 0)
	}, i.prototype.onComplete = function() {
		this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtnBack, this), this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtnConfirm, this), this.lblCompact.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchCompact, this), this.completed = !0
	}, i.prototype.onTouchTapbtnConfirm = function() {
		channel_logic_netease_web.setLoginType(!0), LoginManager.getInstance().lsm.doAction()
	}, i.prototype.onTouchTapbtnBack = function() {
		LoginUIGroup.close(i), LoginUIGroup.open(ServerUI)
	}, i.prototype.onTouchCompact = function() {
		LoginManager.getInstance().showWebCompact(!0)
	}, i
}(egret.DisplayObjectContainer);
__reflect(GuestProtocolUI.prototype, "GuestProtocolUI");
var SM;
! function(t) {
	var n = function() {
		function t(t) {
			this.$name = t, this.$enter = [], this.$action = [], this.$leave = []
		}
		return Object.defineProperty(t.prototype, "name", {
			get: function() {
				return this.$name
			},
			enumerable: !0,
			configurable: !0
		}), t.prototype.regisgterFunc = function(t, n, i) {
			this["$" + t].push({
				func: n,
				obj: i
			})
		}, t.prototype.enter = function(t) {
			for (var n = 0, i = this.$enter; n < i.length; n++) {
				var e = i[n];
				e.func.call(e.obj, t)
			}
		}, t.prototype.action = function(t) {
			for (var n = 0, i = this.$action; n < i.length; n++) {
				var e = i[n];
				e.func.call(e.obj, t)
			}
		}, t.prototype.leave = function(t) {
			for (var n = 0, i = this.$leave; n < i.length; n++) {
				var e = i[n];
				e.func.call(e.obj, t)
			}
		}, t
	}();
	__reflect(n.prototype, "State");
	var i = function() {
		function t(t, n, i) {
			this.$name = t, this.$src = n, this.$des = i, this.$action = []
		}
		return Object.defineProperty(t.prototype, "name", {
			get: function() {
				return this.$name
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(t.prototype, "source", {
			get: function() {
				return this.$src
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(t.prototype, "destination", {
			get: function() {
				return this.$des
			},
			enumerable: !0,
			configurable: !0
		}), t.prototype.registerFunc = function(t, n) {
			this.$action.push({
				func: t,
				obj: n
			})
		}, t.prototype.action = function(t) {
			for (var n = 0, i = this.$action; n < i.length; n++) {
				var e = i[n];
				e.func.call(e.obj, t)
			}
		}, t
	}();
	__reflect(i.prototype, "Transition");
	var e = function(t) {
		function e() {
			var n = t.call(this) || this;
			return n.$states = new dataStructure.Map, n.$successTrans = new dataStructure.Map, n.$failTrans = new dataStructure.Map, n
		}
		return __extends(e, t), Object.defineProperty(e.prototype, "currState", {
			get: function() {
				return this.$currState
			},
			enumerable: !0,
			configurable: !0
		}), e.prototype.onTransition = function(t) {
			!0 === t.data.result && this.$successTrans.has(t.type) ? this.apply(this.$successTrans.get(t.type), t.data) : !1 === t.data.result && this.$failTrans.has(t.type) ? this.apply(this.$failTrans.get(t.type), t.data) : egret.log("loggin state transition evt has not result args!")
		}, e.prototype.addStates = function(t) {
			for (var i = 0, e = t; i < e.length; i++) {
				var r = e[i],
					s = new n(r.name);
				r.enter && s.regisgterFunc("enter", r.enter[0], r.enter[1]), r.action && s.regisgterFunc("action", r.action[0], r.action[1]), r.leave && s.regisgterFunc("leave", r.leave[0], r.leave[1]), this.$states.set(r.name, s)
			}
		}, e.prototype.regEvents = function(t) {
			for (var n = 0, e = t.length; n < e; n++) this.addEventListener(t[n][0], this.onTransition, this), this.$successTrans.set(t[n][0], new i(t[n][0], t[n][1], t[n][2])), this.$failTrans.set(t[n][0], new i(t[n][0], t[n][1], t[n][3]))
		}, e.prototype.reset = function(t, n) {
			void 0 === n && (n = !0), this.$currState = this.$states.get(t), this.$currState && n && this.$currState.enter(null)
		}, e.prototype.apply = function(t, n) {
			this.$currState.name !== t.source && t.name !== LoginTransitionEvent.GAME_RESET || (this.$currState.leave(n), t.action(n), this.$currState = this.$states.get(t.destination), this.$currState.enter(n), egret.log("login transition from " + t.source + " to " + t.destination))
		}, e.prototype.doAction = function(t) {
			this.$currState && this.$currState.action(t)
		}, e
	}(egret.EventDispatcher);
	t.StateMachine = e, __reflect(e.prototype, "SM.StateMachine")
}(SM || (SM = {}));
var LoginUIEvent = function(i) {
	function t(t, n) {
		return i.call(this, t, !1, !1, n) || this
	}
	return __extends(t, i), t.ONCOMPLETE = "OnComplete", t
}(egret.Event);
__reflect(LoginUIEvent.prototype, "LoginUIEvent");
var LoginUIGroup = function(i) {
	function t() {
		return null !== i && i.apply(this, arguments) || this
	}
	return __extends(t, i), t.getInstance = function() {
		return this.$instance || (this.$instance = new t, this.$instance.loginUI = {}, egret.Ticker.getInstance().register(this.$instance.onTick, this.$instance)), this.$instance
	}, t.prototype.onResize = function() {
		var i = this;
		this.stage.scaleMode === egret.StageScaleMode.FIXED_WIDTH ? (this.width = this.stage.stageWidth, this.height = 1280 * this.stage.stageWidth / 720) : this.stage.scaleMode === egret.StageScaleMode.FIXED_HEIGHT ? (this.height = this.stage.stageHeight, this.width = 720 * this.stage.stageHeight / 1280) : (this.width = this.stage.stageWidth, this.height = this.stage.stageHeight), this.x = this.stage.stageWidth - this.width >> 1, this.y = this.stage.stageHeight - this.height >> 1;
		for (var t = 0, n = Object.keys(this.loginUI); t < n.length; t++) {
			var e = n[t],
				s = this.loginUI[e];
			s && s.visible && "onResize" in s && s.onResize()
		}
		utils.isMobileWeb() && (this.fakeTouchTimer && (clearTimeout(this.fakeTouchTimer), this.fakeTouchTimer = 0), LoginManager.getInstance().loginState !== LoginState.GAMING && (this.fakeTouchTimer = utils.callLater(1e3, (function() {
			utils.fakeTouchCavas(), i.fakeTouchTimer = 0
		}), [], this)))
	}, t.prototype.onTick = function() {
		var i = this;
		"BaseWidget" in window && "UIManager" in window && (egret.Ticker.getInstance().unregister(this.onTick, this), this.lastTryOpenUI && "string" == typeof this.lastTryOpenUI && (this.lastTryOpenUI = window[this.lastTryOpenUI]), this.lastTryOpenUI && UIManager.open(this.lastTryOpenUI).then((function(t) {
			i.callback && i.callback(t)
		})))
	}, t.prototype.tryOpenUITask = function(i, t) {}, t.open = function(i, t) {
		var n = this,
			e = this.getInstance();
		if ("string" == typeof i) {
			if (!(i in window)) return e.lastTryOpenUI = i, e.callback = t, Promise.reject(i + " has not been loaded");
			i = window[i]
		}
		return i.prototype.__types__.indexOf("BaseWidget") > -1 ? "BaseWidget" in window && "UIManager" in window ? UIManager.open(i) : (e.lastTryOpenUI = i, Promise.reject("UIManager has not been loaded")) : new Promise((function(t, s) {
			var r = i.prototype.__class__,
				o = function(i) {
					i.visible = !0, e.addChild(i), "reset" in i && i.reset(), t(i)
				};
			r in e.loginUI ? e.loginUI[r].completed ? o(e.loginUI[r]) : e.loginUI[r].once(LoginUIEvent.ONCOMPLETE, (function(i) {
				o(i.data)
			}), n) : (e.loginUI[r] = new i, e.addChild(e.loginUI[r]), e.loginUI[r].once(LoginUIEvent.ONCOMPLETE, (function(i) {
				o(i.data)
			}), n))
		}))
	}, t.close = function(i) {
		if (i.prototype.__types__.indexOf("BaseWidget") > -1) return "BaseWidget" in window && "UIManager" in window ? UIManager.close(i) : null;
		var t = i.prototype.__class__,
			n = this.getInstance();
		t in n.loginUI && (n.loginUI[t].visible = !1, "onClose" in n.loginUI[t] && n.loginUI[t].onClose())
	}, t.destroy = function(i) {
		if (i.prototype.__types__.indexOf("BaseWidget") > -1) return "BaseWidget" in window && "UIManager" in window ? UIManager.destroy(i) : null;
		var t = i.prototype.__class__,
			n = this.getInstance();
		t in n.loginUI && (n.removeChild(n.loginUI[t]), n.loginUI[t].destroy(), delete n.loginUI[t])
	}, t.destroyAll = function() {
		for (var i = 0, t = Object.keys(this.getInstance().loginUI); i < t.length; i++) {
			var n = t[i],
				e = this.getInstance().loginUI[n];
			try {
				this.getInstance().removeChild(e)
			} catch (i) {}
			e.destroy()
		}
		this.getInstance().loginUI = {}
	}, t.getInst = function(i) {
		var t = this.getInstance();
		if (i.prototype.__types__.indexOf("BaseWidget") > -1) return "BaseWidget" in window && "UIManager" in window ? UIManager.getInst(i) : null;
		var n = i.prototype.__class__;
		return n in t.loginUI ? t.loginUI[n] : void 0
	}, t
}(egret.DisplayObjectContainer);
__reflect(LoginUIGroup.prototype, "LoginUIGroup");
var ServerChooseUI = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.$hasLoaded = !1, i.Marks = [{
			img: "img_login_changtong",
			width: 138,
			height: 24,
			x: 261,
			y: 23
		}, {
			img: "img_login_baoman",
			width: 139,
			height: 23,
			x: 417,
			y: 23
		}, {
			img: "img_login_weihu",
			width: 136,
			height: 25,
			x: 570,
			y: 23
		}], i.addEventListener(egret.Event.ADDED_TO_STAGE, i.onAddToStage, i), i.backUI = ServerUI, i
	}
	return __extends(i, t), i.prototype.onAddToStage = function() {
		var t = this;
		this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this), RES.getResAsync("ServerChooseUI_N10_json").then((function(i) {
			t.$sheet = i, t.onComplete(), t.init(), t.reset()
		}))
	}, i.prototype.onClose = function() {}, i.prototype.onComplete = function() {
		var t = this,
			i = new egret.Bitmap;
		i.width = 710, i.height = 1148, i.x = 5, i.y = 54, i.texture = this.$sheet.getTexture("bg_login_lanhei"), i.scale9Grid = new egret.Rectangle(28, 27, 126, 39), this.addChild(i), this.Marks.forEach((function(i, e) {
			var s = new egret.Bitmap;
			s.width = i.width, s.height = i.height, s.x = i.x, s.y = i.y, s.texture = t.$sheet.getTexture(i.img), t.addChild(s)
		})), this.Back = new SimpleButton, this.Back.source = {
			up: "ServerChooseUI_N10_json.btn_login_shangyibu",
			down: "ServerChooseUI_N10_json.btn_login_shangyibuselect"
		}, this.Back.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapBack, this), this.Back.width = 185, this.Back.height = 65, this.Back.x = 524, this.Back.y = 1206;
		var e = new egret.Bitmap;
		e.texture = this.$sheet.getTexture("img_login_shangyibu"), e.x = 60, e.y = 14.6, this.addChild(this.Back), this.Back.addChild(e);
		var s = new egret.Bitmap;
		s.texture = this.$sheet.getTexture("img_login_xuanzefuwuqi"), s.width = 276, s.height = 42, s.y = 85, s.x = 222, this.addChild(s);
		var h = new egret.ScrollView;
		h.x = 29, h.y = 148, h.width = 224, h.height = 1020, this.addChild(h), this.ServerAreaLst = new ServerScrollView(h, ServerAreaItem1, this.chooseAreaByIdx, this, {
			xGap: 5
		});
		var n = new egret.Bitmap;
		n.texture = this.$sheet.getTexture("bg_login_fengeh"), n.x = 265, n.y = 148, n.width = 1020, n.height = 5, n.rotation = 90, this.addChild(n), this.scrServer = new egret.ScrollView, this.scrServer.x = 277, this.scrServer.y = 148, this.scrServer.width = 413.33, this.scrServer.height = 1020, this.addChild(this.scrServer), this.ServerLst = new ServerScrollView(this.scrServer, ServerItemN1, this.onServerChoosen, this, {}), this.ServerLst.ScrollView.visible = !1, this.scrRecent = new egret.ScrollView, this.scrRecent.x = 277, this.scrRecent.y = 148, this.scrRecent.width = 413.33, this.scrRecent.height = 1020, this.addChild(this.scrRecent), this.ServerRecentLst = new ServerScrollView(this.scrRecent, ServerItemN2, this.onRecentCharChoosen, this, {
			yGap: 5,
			mode: ServerScrollView.HorizontalMode
		}), this.completed = !0, this.dispatchEvent(new LoginUIEvent(LoginUIEvent.ONCOMPLETE, this))
	}, i.prototype.onServerChoosen = function(t, e) {
		var s = e;
		s && 0 !== s.serverstate ? this.backUI == ServerUI ? (LoginUIGroup.close(i), LoginUIGroup.open(ServerUI).then((function(t) {
			t.setServer(JSON.parse(JSON.stringify(s)), s.recommend)
		}))) : LoginManager.getInstance().currServer && LoginManager.getInstance().currServer.hostid != s.hostid ? utils.ConfirmBox("切换服务器将打断当前排队进度，是否确认切换服务器", (function(t) {
			t && (LoginUIGroup.close(i), login_net.fe(), LoginUIGroup.open(ServerUI).then((function(t) {
				t.setServer(JSON.parse(JSON.stringify(s)), s.recommend)
			})))
		})) : (LoginUIGroup.close(i), LoginUIGroup.open(this.backUI)) : utils.MessageBox("#cFFDE27服务器维护中")
	}, i.prototype.onRecentCharChoosen = function(t, e) {
		var s = e;
		s && 0 !== s.serverstate ? this.backUI == ServerUI ? (LoginUIGroup.close(i), LoginUIGroup.open(ServerUI).then((function(t) {
			t.setServer(JSON.parse(JSON.stringify(s)), s.recommend)
		}))) : LoginManager.getInstance().currServer && LoginManager.getInstance().currServer.hostid != s.hostid ? utils.ConfirmBox("切换服务器将打断当前排队进度，是否确认切换服务器", (function(t) {
			t && (LoginUIGroup.close(i), login_net.fe(), LoginUIGroup.open(ServerUI).then((function(t) {
				t.setServer(JSON.parse(JSON.stringify(s)), s.recommend)
			})))
		})) : (LoginUIGroup.close(i), LoginUIGroup.open(this.backUI)) : utils.MessageBox("#cFFDE27服务器维护中")
	}, i.prototype.onTouchTapBack = function(t) {
		LoginUIGroup.close(i), LoginUIGroup.open(this.backUI)
	}, i.prototype.chooseAreaByIdx = function(t, i) {
		i && (this.$currArea = i.id ? i.id : i.name, this.refresh())
	}, i.prototype.onServerListUpdate = function(t) {
		this.updateServerInfo(t.data.serverlists)
	}, i.prototype.updateServerInfo = function(t) {
		var e = this,
			s = this.$recentServerLst;
		this.$defaultServers = {}, egret.log("updateServerInfo.servers:", t);
		for (var h = 0, n = Object.keys(t); h < n.length; h++) {
			var r = t[f = n[h]];
			r.hostid = Number(f);
			for (var o = JSON.parse(JSON.stringify(r)), a = 0, l = s; a < l.length; a++)
				if ((U = l[a]).hostid === r.hostid) {
					o.icon = U.icon, o.level = U.level;
					break
				}
			this.addServer2Cache(this.$defaultServers, o)
		}
		if (this.$recentLst = new Array, s)
			for (var u = 0, g = s; u < g.length; u++) {
				var f;
				if (f = t[(U = g[u]).hostid]) {
					o = JSON.parse(JSON.stringify(U));
					for (var c = 0, v = Object.keys(f); c < v.length; c++) {
						var _ = v[c];
						o[_] = f[_]
					}
					this.$recentLst.push(o)
				} else egret.log("[RecentServer] cannot find that server: ", U)
			}
		var b = this.$defaultServers,
			w = [{
				name: i.RecentAreaStr,
				id: 0,
				isNew: !1,
				beta: !1
			}];
		if (b)
			if (LoginManager.getInstance().regionList) {
				var S = [];
				for (var G in LoginManager.getInstance().regionList) G in b && S.push([G, LoginManager.getInstance().regionList[G]]);
				S.sort((function(t, i) {
					return i[1].opentime > t[1].opentime ? 1 : -1
				}));
				for (var I = 0; I < S.length; I++) w.push({
					name: S[I][1].name,
					id: S[I][0],
					isNew: 0 == I,
					beta: S[I][1].beta
				})
			} else
				for (var m = 0, N = Object.keys(b); m < N.length; m++) {
					var U = N[m];
					w.push({
						name: U,
						id: 0,
						isNew: !1,
						beta: !1
					})
				}
		this.ServerAreaLst && (this.ServerAreaLst.SetDatas(w), egret.callLater((function() {
			e.ServerAreaLst.SelectIndex(0)
		}), this)), this.refresh()
	}, i.prototype.refresh = function() {
		if (this.$hasLoaded) {
			egret.log("server list refresh");
			var t = this.$currArea,
				e = t === i.RecentAreaStr;
			this.scrRecent.visible = e, this.scrServer.visible = !e;
			var s = JSON.parse(JSON.stringify(this.$defaultServers)),
				h = [];
			if (e) {
				for (var n = [], r = 0, o = this.$recentLst.length > 10 ? 10 : this.$recentLst.length; r < o; r++) n.push(JSON.parse(JSON.stringify(this.$recentLst[r]))), h.push(Number(this.$recentLst[r].hostid));
				if (n.length !== this.ServerRecentLst.GetDatas().length) this.ServerRecentLst.ScrollView.scrollTop = 0, this.ServerRecentLst.SetDatas(n);
				else
					for (r = 0, o = n.length; r < o; r++) {
						var a = JSON.parse(JSON.stringify(n[r]));
						this.ServerRecentLst.UpdateItemIdx(r, a)
					}
				h.length > 0 && login_net.we(h)
			} else if (s) {
				if (s[t] && s[t].length > 0 && s[t].sort((function(t, i) {
						return t.opentime && i.opentime ? i.opentime > t.opentime ? 1 : -1 : 1
					})), s[t])
					if (s[t].length !== this.ServerLst.GetDatas().length)
						for (this.ServerLst.ScrollView.scrollTop = 0, this.ServerLst.SetDatas(s[t]), r = 0, o = s[t].length; r < o; r++) h.push(Number(s[t][r].hostid));
					else
						for (r = 0, o = s[t].length; r < o; r++) h.push(Number(s[t][r].hostid)), (a = this.ServerLst.GetData(r)).servername = s[t][r].servername, a.servertag = s[t][r].servertag, a.serverstate = s[t][r].serverstate, a.icon = s[t][r].icon, a.level = s[t][r].level, a.hostid = s[t][r].hostid, this.ServerLst.UpdateItemIdx(r, a);
				else this.ServerLst.ScrollView.scrollTop = 0, this.ServerLst.SetDatas([]);
				h.length > 0 && login_net.we(h)
			}
		}
	}, i.prototype.init = function() {
		LoginManager.getInstance().addEventListener(LoginEvent.ServerListUpdate, this.onServerListUpdate, this)
	}, i.prototype.reset = function() {}, i.prototype.destroy = function() {
		LoginManager.getInstance().removeEventListener(LoginEvent.ServerListUpdate, this.onServerListUpdate, this)
	}, i.prototype.chooseChannel = function(t) {
		this.ServerAreaLst.SelectIndex(0)
	}, i.prototype.addServer2Cache = function(t, i) {
		var e = "regionid" in i ? i.regionid : i.regionname;
		e in t ? t[e].push(i) : t[e] = [i]
	}, i.prototype.setServerData = function(t, i) {
		egret.log("setServerData", t, i), this.$recentServerLst = t, this.updateServerInfo(i), this.$hasLoaded = !0
	}, i.prototype.updateServerRoleInfo = function(t) {
		if (this.scrServer.visible)
			for (var i = this.ServerLst.Datas, e = 0; e < t.length; e++)
				for (var s = t[e], h = 0, n = i.length; h < n; h++) {
					var r = i[h];
					if (s.hostid == r.hostid) {
						r.icon = s.icon, r.level = s.lv_lpc, this.ServerLst.UpdateItemIdx(h, r);
						break
					}
				}
	}, i.prototype.updateServerState = function(t) {
		var i, e;
		if (this.scrServer.visible && (i = this.ServerLst.GetDatas(), e = this.ServerLst), this.scrRecent.visible && (i = this.ServerRecentLst.GetDatas(), e = this.ServerRecentLst), i)
			for (var s = 0; s < t.length; s++)
				for (var h = t[s], n = 0, r = i.length; n < r; n++) {
					var o = i[n];
					if (h.hostid == o.hostid && 0 != o.serverstate) {
						o.serverstate = h.state ? 2 : 1, e.UpdateItemIdx(n, o);
						break
					}
				}
	}, i.RecentAreaStr = "最近登录", i.Tags = {
		0: "",
		1: "icon_login_hot_png",
		2: "icon_login_new_png",
		3: "icon_login_hefu_png"
	}, i.States = {
		0: "img_login_hui_png",
		1: "img_login_green_png",
		2: "img_login_rednew_png",
		3: ""
	}, i
}(egret.DisplayObjectContainer);
__reflect(ServerChooseUI.prototype, "ServerChooseUI");
var ServerScrollView = function() {
	function t(i, e, s, h, n) {
		void 0 === n && (n = {}), this.CacheList = [], this.Datas = [], this.Index = -1, this.ScrollView = i, this.Click = s, this.ThisObject = h, this.ItemCls = e, this.Group = new ServerGroup, this.Group.width = i.width, this.Group.height = i.height, this.XGap = n.xGap || 0, this.YGap = n.yGap || 0, this.mode = n.mode || t.VerticalMode, this.lineNum = 1, this.recycle = this.mode === t.VerticalMode && n.recycle, this.recycle && this.ScrollView.addEventListener(egret.Event.CHANGE, this.OnChange, this), i.setContent(this.Group)
	}
	return t.prototype.GetItem = function(t) {
		if (this.CacheList[t]) return this.CacheList[t];
		var i = new this.ItemCls;
		return this.CacheList.push(i), i
	}, t.prototype.RecycleGetItem = function() {
		return this.CacheList.pop() || new this.ItemCls
	}, t.prototype.OnChange = function() {
		for (var t = this.ScrollView.scrollTop, i = t + this.ScrollView.height, e = this.ItemCls.Height, s = 0; s < this.Group.numChildren && ((h = this.Group.getChildAt(s)).y < t - e || h.itemIndex >= this.Datas.length);) this.Group.removeChildAt(s), this.CacheList.push(h);
		for (s = this.Group.numChildren - 1; s >= 0 && ((h = this.Group.getChildAt(s)).y > i || h.itemIndex >= this.Datas.length); --s) this.Group.removeChildAt(s), this.CacheList.push(h);
		for (;;)
			if (null == (h = this.Group.$children[0])) {
				if (!this.AddItem(0, -1)) break
			} else {
				if (!(h.y >= t)) break;
				if (!this.AddItem(h.itemIndex - 1, -1)) break
			}
		for (;;) {
			var h;
			if (null == (h = this.Group.$children[this.Group.numChildren - 1])) break;
			if (!(h.y <= t + this.ScrollView.height - e)) break;
			if (!this.AddItem(h.itemIndex + 1, 1)) break
		}
	}, t.prototype.initData = function() {
		var t = this;
		this.Datas.forEach((function(i, e) {
			t.AddItem(e)
		}))
	}, t.prototype.AddItem = function(i, e) {
		if (void 0 === e && (e = 1), null == this.Datas[i]) return !1;
		var s = this.recycle ? this.RecycleGetItem() : this.GetItem(i);
		return s.addEventListener(egret.TouchEvent.TOUCH_TAP, this.ItemClick, this), s.itemIndex = i, s.y = (this.ItemCls.Height + this.XGap) * Math.floor(i / this.lineNum), this.mode === t.HorizontalMode && (s.x = (this.ItemCls.Width + this.YGap) * (i % this.lineNum == 0 ? 0 : 1)), s.SetData(this.Datas[i]), -1 == e ? this.Group.addChildAt(s, 0) : this.Group.addChild(s), !0
	}, t.prototype.ItemClick = function(t) {
		var i = t.target;
		this.SelectIndex(i.itemIndex)
	}, t.prototype.ClearSelect = function() {
		this.Index = -1;
		for (var t = 0; t < this.Group.numChildren; ++t) this.Group.getChildAt(t).UpdateSel(-1)
	}, t.prototype.SelectIndex = function(t) {
		this.Index = t;
		for (var i = 0; i < this.Group.numChildren; ++i) this.Group.getChildAt(i).UpdateSel(t);
		var e = this.GetData(t);
		this.Click && this.ThisObject && this.Click.call(this.ThisObject, t, e)
	}, t.prototype.GetSelectIndex = function() {
		return this.Index
	}, t.prototype.GetSelectionData = function() {
		return this.Datas[this.Index]
	}, t.prototype.GetData = function(t) {
		return this.Datas[t]
	}, t.prototype.GetDatas = function() {
		return this.Datas
	}, t.prototype.UpdateItemIdx = function(t, i) {
		this.Datas[t] = i, this.Group.getChildAt(t).SetData(i)
	}, t.prototype.SetDatas = function(i) {
		this.Datas = i, this.CacheList = [], this.Index = -1, this.mode === t.HorizontalMode ? (this.lineNum = Math.floor(this.ScrollView.width / (this.ItemCls.Width + this.YGap)), this.Group.height = Math.ceil(i.length / this.lineNum) * (this.ItemCls.Height + this.XGap)) : (this.lineNum = 1, this.Group.height = i.length * (this.ItemCls.Height + this.XGap)), this.recycle ? (0 == this.ScrollView.scrollTop ? this.OnChange() : this.ScrollView.scrollTop = 0, this.OnChange()) : (this.Group.removeChildren(), this.initData())
	}, t.HorizontalMode = 2, t.VerticalMode = 1, t
}();
__reflect(ServerScrollView.prototype, "ServerScrollView");
var ServerGroup = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.touchEnabled = !0, i
	}
	return __extends(i, t), i
}(egret.DisplayObjectContainer);
__reflect(ServerGroup.prototype, "ServerGroup");
var ListItem = function(t) {
	function i() {
		return t.call(this) || this
	}
	return __extends(i, t), i.prototype.SetData = function(t) {
		this._setData(t), this.UpdateSelState()
	}, i.prototype._setData = function(t) {}, i.prototype.UpdateSel = function(t) {
		this.selIndex = t, this.UpdateSelState()
	}, i.prototype.UpdateSelState = function() {}, i
}(egret.DisplayObjectContainer);
__reflect(ListItem.prototype, "ListItem");
var ServerAreaItem1 = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.bg = {
			normal: "btn_login_qu_png",
			select: "btn_login_quselected_png"
		}, i.width = 208, i.height = 68, i.label = new egret.TextField, i.bgImage = new egret.Bitmap, i.bgImage.width = i.width, i.bgImage.height = i.height, i.label.width = i.width, i.label.height = i.height, i.label.fontFamily = "Microsoft YaHei", i.label.size = 26, i.imgTag = new egret.Bitmap, i.imgBeta = new egret.Bitmap, i.selected = !1, i.addEventListener(egret.Event.ADDED_TO_STAGE, i.onAddToStage, i), i
	}
	return __extends(i, t), i.prototype.onAddToStage = function() {
		return __awaiter(this, void 0, void 0, (function() {
			var t;
			return __generator(this, (function(i) {
				switch (i.label) {
					case 0:
						return this.label.textAlign = egret.HorizontalAlign.CENTER, this.label.verticalAlign = egret.VerticalAlign.MIDDLE, t = this.bgImage, [4, Global.getResAsyncToTexture(this.bg.normal)];
					case 1:
						return t.texture = i.sent(), this.imgTag.x = 164, this.imgTag.y = -1.5, this.imgBeta.x = 2, this.imgBeta.y = 2, Global.setSize(this.imgTag, 48, 44), this.addChild(this.bgImage), this.addChild(this.label), this.addChild(this.imgTag), this.addChild(this.imgBeta), this.touchEnabled = !0, this.touchChildren = !1, this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this), [2]
				}
			}))
		}))
	}, i.prototype._setData = function(t) {
		var i = this;
		this.label.text = t.name, t.isNew ? Global.getResAsyncToTexture(ServerChooseUI.Tags[2]).then((function(t) {
			i.imgTag.texture = t
		})) : this.imgTag.texture = null, t.beta ? Global.getResAsyncToTexture("tag_login_gongce_png").then((function(t) {
			i.imgBeta.texture = t
		})) : this.imgBeta.texture = null
	}, i.prototype.UpdateSelState = function() {
		return __awaiter(this, void 0, void 0, (function() {
			var t, i;
			return __generator(this, (function(e) {
				switch (e.label) {
					case 0:
						return this.selIndex != this.itemIndex ? [3, 2] : (this.selected = !0, t = this.bgImage, [4, Global.getResAsyncToTexture(this.bg.select)]);
					case 1:
						return t.texture = e.sent(), [3, 4];
					case 2:
						return this.selected = !1, i = this.bgImage, [4, Global.getResAsyncToTexture(this.bg.normal)];
					case 3:
						i.texture = e.sent(), e.label = 4;
					case 4:
						return [2]
				}
			}))
		}))
	}, i.Width = 210, i.Height = 68, i
}(ListItem);
__reflect(ServerAreaItem1.prototype, "ServerAreaItem1");
var ServerItemN1 = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.bg = {
			normal: "btn_login_lantwo",
			select: "btn_login_lantwoselected"
		}, i.label = new egret.TextField, i.bgImage = new egret.Bitmap, i.bgImageSelect = new egret.Bitmap, i.imgState = new egret.Bitmap, i.imgBase = new egret.Bitmap, i.imgIcon = new egret.Bitmap, i.imgFrame = new egret.Bitmap, i.lblLevel = new egret.TextField, i.imgTag = new egret.Bitmap, i.touchEnabled = !0, i.touchChildren = !1, i.addEventListener(egret.Event.ADDED_TO_STAGE, i.loadRes, i), i
	}
	return __extends(i, t), i.prototype.loadRes = function() {
		var t = this;
		RES.getResAsync("ServerItem_N10_json").then((function(i) {
			t.$sheet = i, t.onComplete()
		})), this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.loadRes, this)
	}, i.prototype.onComplete = function() {
		var t = this;
		this.bgImage.texture = this.$sheet.getTexture(this.bg.normal), this.bgImage.scale9Grid = new egret.Rectangle(25, 16, 154, 32), Global.setSize(this.bgImage, 396, 88), Global.setPosition(this.bgImage, 2.5, 5), this.bgImageSelect.texture = this.$sheet.getTexture(this.bg.select), this.bgImageSelect.scale9Grid = new egret.Rectangle(25, 16, 154, 32), Global.setSize(this.bgImageSelect, 396, 88), Global.setPosition(this.bgImageSelect, 2.5, 5), this.bgImageSelect.visible = !1, Global.setSize(this.imgState, 4, 69), Global.setPosition(this.imgState, 23, 13), Global.setPosition(this.label, 62, 5), Global.initFont(this.label, 26), this.label.verticalAlign = egret.VerticalAlign.MIDDLE, this.label.height = 88, Global.setSize(this.imgBase, 64, 64), Global.setPosition(this.imgBase, 317, 18), this.imgBase.texture = this.$sheet.getTexture("img_login_touxiangkuang"), Global.setSize(this.imgIcon, 56, 56), Global.setPosition(this.imgIcon, 321, 20), Global.setPosition(this.imgFrame, 320, 18), this.imgFrame.texture = this.$sheet.getTexture("img_login_touxiangkuangwai"), Global.setPosition(this.lblLevel, 332, 56), Global.setSize(this.lblLevel, 44, 18), Global.initFont(this.lblLevel, 18), this.lblLevel.textAlign = egret.HorizontalAlign.RIGHT, Global.setStroke(this.lblLevel, 2, 2106166), Global.setPosition(this.imgTag, 356, -.5), Global.setSize(this.imgTag, 48, 44), [this.bgImage, this.bgImageSelect, this.imgState, this.label, this.imgBase, this.imgIcon, this.imgFrame, this.lblLevel, this.imgTag].forEach((function(i) {
			t.addChild(i)
		}))
	}, i.prototype._setData = function(t) {
		var i = this;
		if (this.label.text = t.servername, this.imgBase.visible = this.imgFrame.visible = t.icon, this.lblLevel.text = t.level ? t.level : "", t.icon ? GlobalFunc.B(utils.getNpcIconSmall(t.icon)).then((function(t) {
				var e = new egret.Texture;
				e.bitmapData = t, i.imgIcon.texture = e
			})) : this.imgIcon.texture = null, t.serverstate ? Global.getResAsyncToTexture(ServerChooseUI.States[t.serverstate]).then((function(t) {
				i.imgState.texture = t
			})) : this.imgState.texture = null, t.servertag)
			if (t.opentime) {
				var e = ServerChooseUI.Tags[t.servertag];
				e = Date.now() / 1e3 - t.opentime < 86400 ? ServerChooseUI.Tags[2] : ServerChooseUI.Tags[1], Global.getResAsyncToTexture(e).then((function(t) {
					i.imgTag.texture = t
				}))
			} else Global.getResAsyncToTexture(ServerChooseUI.Tags[t.servertag]).then((function(t) {
				i.imgTag.texture = t
			}));
		else this.imgTag.texture = null
	}, i.prototype.UpdateSelState = function() {
		return __awaiter(this, void 0, void 0, (function() {
			return __generator(this, (function(t) {
				return this.selIndex == this.itemIndex ? this.selected = !0 : this.selected = !1, [2]
			}))
		}))
	}, i.Width = 404, i.Height = 94, i
}(ListItem);
__reflect(ServerItemN1.prototype, "ServerItemN1");
var ServerItemN2 = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.bg = {
			normal: "btn_login_lantwo",
			select: "btn_login_lantwoselected"
		}, i.lblServerName = new egret.TextField, i.lblHeroName = new egret.TextField, i.bgImage = new egret.Bitmap, i.bgImageSelect = new egret.Bitmap, i.imgState = new egret.Bitmap, i.imgBase = new egret.Bitmap, i.imgIcon = new egret.Bitmap, i.imgFrame = new egret.Bitmap, i.lblLevel = new egret.TextField, i.imgTag = new egret.Bitmap, i.touchEnabled = !0, i.touchChildren = !1, i.addEventListener(egret.Event.ADDED_TO_STAGE, i.loadRes, i), i
	}
	return __extends(i, t), i.prototype.loadRes = function() {
		var t = this;
		RES.getResAsync("ServerItem_N20_json").then((function(i) {
			t.$sheet = i, t.onComplete()
		})), this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.loadRes, this)
	}, i.prototype.onComplete = function() {
		var t = this;
		this.bgImage.texture = this.$sheet.getTexture(this.bg.normal), this.bgImage.scale9Grid = new egret.Rectangle(25, 16, 154, 32), Global.setSize(this.bgImage, 189, 228), Global.setPosition(this.bgImage, 4, 3), this.bgImageSelect.texture = this.$sheet.getTexture(this.bg.select), this.bgImageSelect.scale9Grid = new egret.Rectangle(25, 16, 154, 32), Global.setSize(this.bgImageSelect, 189, 228), Global.setPosition(this.bgImageSelect, 4, 3), this.bgImageSelect.visible = !1, this.lblServerName.width = 171, Global.setPosition(this.lblServerName, 13, 172), this.lblServerName.textAlign = egret.HorizontalAlign.CENTER, Global.initFont(this.lblServerName, 26), this.lblServerName.autoAdjustFontSize = !0, this.lblHeroName.width = 171, Global.setPosition(this.lblHeroName, 13, 134), this.lblHeroName.textAlign = egret.HorizontalAlign.CENTER, Global.initFont(this.lblHeroName, 26, 16762457), this.lblHeroName.autoAdjustFontSize = !0, Global.setSize(this.imgState, 163, 4), Global.setPosition(this.imgState, 16, 213), Global.setSize(this.imgBase, 64, 64), Global.setPosition(this.imgBase, 317, 18), this.imgBase.texture = this.$sheet.getTexture("img_login_huawenone"), Global.setSize(this.imgIcon, 88, 88), Global.setPosition(this.imgIcon, 54, 27), Global.setPosition(this.imgFrame, 46, 20), this.imgFrame.texture = this.$sheet.getTexture("frame_touxiang"), Global.setSize(this.imgFrame, 106, 106), Global.setPosition(this.lblLevel, 80, 92), Global.setSize(this.lblLevel, 61, 24), Global.initFont(this.lblLevel, 24), this.lblLevel.textAlign = egret.HorizontalAlign.RIGHT, Global.setStroke(this.lblLevel, 2, 2106166), Global.setPosition(this.imgTag, 150, -3.5), Global.setSize(this.imgTag, 48, 44), [this.bgImage, this.bgImageSelect, this.imgBase, this.imgState, this.lblServerName, this.lblHeroName, this.imgFrame, this.imgIcon, this.lblLevel, this.imgTag].forEach((function(i) {
			t.addChild(i)
		}))
	}, i.prototype._setData = function(t) {
		return __awaiter(this, void 0, void 0, (function() {
			var i = this;
			return __generator(this, (function(e) {
				return this.lblServerName.text = t.servername || "", this.lblHeroName.text = t.name || "", this.lblLevel.text = t.level || "", t.icon ? GlobalFunc.B(utils.getNpcIconSmall(t.icon)).then((function(t) {
					var e = new egret.Texture;
					e.bitmapData = t, i.imgIcon.texture = e
				})) : this.imgIcon.texture = null, t.serverstate ? Global.getResAsyncToTexture(ServerChooseUI.States[t.serverstate]).then((function(t) {
					i.imgState.texture = t
				})) : this.imgState.texture = null, t.servertag ? Global.getResAsyncToTexture(ServerChooseUI.Tags[t.servertag]).then((function(t) {
					i.imgTag.texture = t
				})) : this.imgTag.texture = null, [2]
			}))
		}))
	}, i.prototype.UpdateSelState = function() {
		return __awaiter(this, void 0, void 0, (function() {
			return __generator(this, (function(t) {
				return this.selIndex == this.itemIndex ? this.selected = !0 : this.selected = !1, [2]
			}))
		}))
	}, i.Width = 195, i.Height = 235, i
}(ListItem);
__reflect(ServerItemN2.prototype, "ServerItemN2");
var LoginBtn = function(t) {
	function i(i) {
		var e = t.call(this) || this,
			n = e;
		return e.$imgBtnTxt = new egret.Bitmap, n.anchorOffsetX = 0, n.anchorOffsetY = 0, n.width = 205, n.height = 79, n.x = 255, n.y = 786, n.touchEnabled = !0, e.setLoginBtnBg(), i && (e.$imgBtnTxt.texture = i), e.addChild(e.$imgBtnTxt), e
	}
	return __extends(i, t), i.prototype.setTextImg = function(t, i) {
		t ? (this.$imgBtnTxt.texture = i, this.$imgBtnTxt.x = 60, this.$imgBtnTxt.y = 20) : (this.$imgBtnTxt.texture = i, this.$imgBtnTxt.x = 28, this.$imgBtnTxt.y = 20)
	}, i.prototype.onResize = function() {
		this.$imgBtnTxt && Global.setObjectCenter(this.$imgBtnTxt, 0, -6)
	}, i.prototype.getBtnImg = function() {
		return this.$imgBtnTxt
	}, i.prototype.setLoginBtnBg = function() {
		this.source = {
			up: "ServerUI_new0_json.btn_login_red",
			down: "ServerUI_new0_json.btn_login_redselect"
		}, this.image.width = 205, this.image.height = 79
	}, i.prototype.onTouchLoginBtn = function() {
		console.log("tap")
	}, i
}(SimpleButton);
__reflect(LoginBtn.prototype, "LoginBtn");
var UpInfoGrp = function(t) {
	function i() {
		var i = t.call(this) || this,
			e = new egret.TextField;
		return e.fontFamily = "Microsoft YaHei", e.size = 18, e.text = "抵制不良游戏，拒绝盗版游戏。注意自我保护，谨防受骗上当。", e.textColor = 13423870, e.x = 0, e.y = 0, i.addChild(e), (e = new egret.TextField).fontFamily = "Microsoft YaHei", e.size = 18, e.text = "适度游戏益脑，沉迷游戏伤身。合理安排时间，享受健康生活。", e.textColor = 13423870, e.x = 0, e.y = 28.67, i.addChild(e), i
	}
	return __extends(i, t), i
}(egret.DisplayObjectContainer);
__reflect(UpInfoGrp.prototype, "UpInfoGrp");
var DownInfoGrp = function(t) {
	function i(i) {
		var e = t.call(this) || this;
		return e.checked = !0, e.$sheet = i, e.x = 10, e.y = 1135.91, e.addChild(e.setLabel15()), e.addChild(e.setCompact()), e.addChild(e.setCompactCheck()), e.addChild(e.setLabel16()), e.addChild(e.setLblVersion()), e.addChild(e.setLabel17()), e.refresh(), e
	}
	return __extends(i, t), i.prototype.setLabel15 = function() {
		var t = new egret.TextField;
		return t.border = !1, t.fontFamily = "Microsoft YaHei", t.size = 24, t.stroke = 1, t.text = "我已详细阅读并同意", t.textColor = 16777215, t.x = 208, t.y = 17, t
	}, i.prototype.setCompact = function() {
		var t = new egret.TextField;
		return this.Compact = t, t.anchorOffsetX = 0, t.anchorOffsetY = 0, t.border = !1, t.fontFamily = "Microsoft YaHei", t.height = 49, t.size = 24, t.stroke = 1, t.text = "用户协议", t.textAlign = "center", t.textColor = 16768551, t.verticalAlign = "middle", t.width = 135, t.x = 407.88, t.y = 4, t
	}, i.prototype.setCompactCheck = function() {
		this.checkBoxState = {
			unCheckTexture: this.$sheet.getTexture("frame_login_check"),
			checkedTexture: this.$sheet.getTexture("frame_login_checkselect")
		};
		var t = new egret.Bitmap;
		return t.width = 42, t.height = 42, t.x = 144, t.y = 6, this.CompactCheck = t, t.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchCheckBox, this), t.touchEnabled = !0, t
	}, i.prototype.setLabel16 = function() {
		var t = new egret.TextField;
		return t.anchorOffsetX = 0, t.fontFamily = "Microsoft YaHei", t.size = 18, t.stroke = 2, t.text = "著作权人：网易公司 出版单位：广州网易计算机系统有限公司", t.textAlign = "center", t.width = 700, t.x = 0, t.y = 90.16, t
	}, i.prototype.setLblVersion = function() {
		var t = new egret.TextField;
		return this.lblVersion = t, t.anchorOffsetX = 0, t.fontFamily = "Microsoft YaHei", t.size = 18, t.stroke = 2, t.strokeColor = 0, t.text = "本游戏适合16岁以上的玩家进入 客服电话：95163553 版本号：V0.1.0", t.textAlign = "center", t.width = 700, t.x = 1, t.y = 111.4, t
	}, i.prototype.setLabel17 = function() {
		var t = new egret.TextField;
		return t.anchorOffsetX = 0, t.fontFamily = "Microsoft YaHei", t.size = 18, t.stroke = 2, t.text = "批准文号：国新出审[2020]239号：ISBN 978-7-498-07316-7 ", t.textAlign = "center", t.width = 700, t.x = 0, t.y = 68.16, t
	}, i.prototype.onTouchCheckBox = function() {
		this.checked = !this.checked, this.refresh()
	}, i.prototype.onChecked = function(t) {
		this.checked = t, this.refresh()
	}, i.prototype.refresh = function() {
		var t = this.checkBoxState,
			i = t.checkedTexture,
			e = t.unCheckTexture;
		this.CompactCheck.texture = this.checked ? i : e
	}, i
}(egret.DisplayObjectContainer);
__reflect(DownInfoGrp.prototype, "DownInfoGrp");
var ServerUI = function(t) {
	function i() {
		var i = t.call(this) || this;
		return i.$choosen = null, i.$new = null, i.$lastTouchTimeStamp = 0, i.addEventListener(egret.Event.ADDED_TO_STAGE, (function() {
			return __awaiter(i, void 0, void 0, (function() {
				var t;
				return __generator(this, (function(i) {
					switch (i.label) {
						case 0:
							return t = this, [4, RES.getResAsync("ServerUI_new0_json")];
						case 1:
							return t.$sheet = i.sent(), this.onComplete(), [2]
					}
				}))
			}))
		}), i), i
	}
	return __extends(i, t), i.prototype.setImage = function() {
		var t = new egret.Bitmap;
		t.anchorOffsetX = 0, t.anchorOffsetY = 0, t.height = 48, t.scale9Grid = new egret.Rectangle(12, 13, 50, 24), t.texture = this.$sheet.getTexture("edit_login_mima"), t.width = 228, t.x = 266, t.y = 566.35, this.grpLogin.addChild(t)
	}, i.prototype.setDownInfoGrp = function() {
		var t = new DownInfoGrp(this.$sheet);
		this.downInfoGrp = t, this.Compact = t.Compact, this.lblVersion = t.lblVersion, this.CompactCheck = t.CompactCheck, this.grpLogin.addChild(this.downInfoGrp)
	}, i.prototype.setLogin = function() {
		var t = new LoginBtn;
		this.Login = t, this.imgBtnTxt = t.$imgBtnTxt, this.Login.setTextImg(!0, this.$sheet.getTexture("img_login_dl")), this.grpLogin.addChild(t)
	}, i.prototype.setImg = function() {
		var t = new egret.Bitmap,
			i = new egret.Bitmap;
		this.line = t, t.texture = this.$sheet.getTexture("bg_login_fengeh"), t.y = 536.31, i.texture = this.$sheet.getTexture("img_login_fuwuqi"), i.x = 144.77, i.y = 569.53, this.grpLogin.addChild(t), this.grpLogin.addChild(i)
	}, i.prototype.setNotice = function() {
		var t = new SimpleButton({
			source: {
				up: "ServerUI_new0_json.btn_login_gonggao",
				down: "ServerUI_new0_json.btn_login_gonggao_selected"
			}
		});
		this.Notice = t, t.x = 621, t.y = 17.02, t.width = 75, t.height = 88, this.grpLogin.addChild(t)
	}, i.prototype.setLogo = function() {
		var t = new egret.Bitmap,
			i = new egret.Bitmap;
		this.logo = t, this.loginTitle = i, t.scaleX = .86, t.scaleY = .86, t.texture = this.$sheet.getTexture("img_login_logo"), t.y = 218.75, i.texture = this.$sheet.getTexture("img_login_dlyx"), i.y = 480.35, this.grpLogin.addChild(t), this.grpLogin.addChild(i)
	}, i.prototype.setChoose = function() {
		var t = new SimpleButton;
		t.source = {
			up: "ServerUI_new0_json.btn_login_qiehuan",
			down: "ServerUI_new0_json.btn_login_qiehuan_pre"
		}, this.Choose = t, t.x = 499.48, t.y = 568, this.grpLogin.addChild(t)
	}, i.prototype.setUserCenter = function() {
		var t = new SimpleButton({
			source: {
				up: "ServerUI_new0_json.btn_login_yonghu",
				down: "ServerUI_new0_json.btn_login_yonghu_selected"
			}
		});
		this.UserCenter = t, t.x = 609, t.y = 124, this.grpLogin.addChild(t)
	}, i.prototype.setBtnQRCode = function() {
		var t = new SimpleButton({
			source: {
				up: "ServerUI_new0_json.btn_login_erweima",
				down: "ServerUI_new0_json.btn_login_erweima_selected"
			}
		});
		this.btnQRCode = t, t.x = 620, t.y = 230.92, this.grpLogin.addChild(t)
	}, i.prototype.setEmail = function() {
		var t = new egret.Bitmap;
		t.x = 156, t.y = 646, t.texture = this.$sheet.getTexture("img_youxiangditu"), this.grpLogin.addChild(t)
	}, i.prototype.setGrpHasRole = function() {
		var t = new egret.DisplayObjectContainer;
		this.grpHasRole = t, t.visible = !1, t.x = 154, t.y = 643;
		var i = new egret.DisplayObjectContainer;
		i.x = 12, i.y = 0;
		var e = new egret.Bitmap,
			n = new egret.Bitmap;
		e.texture = this.$sheet.getTexture("frame_touxiang"), e.x = 4.66, e.y = 0, n.texture = this.$sheet.getTexture("image_touxiang"), this.imgIcon = n, n.anchorOffsetX = 47, n.anchorOffsetY = 46, n.height = 88, n.scaleX = 1, n.scaleY = 1, n.width = 88, n.x = 58.32, n.y = 53, i.addChild(e), i.addChild(n);
		var s = new egret.TextField;
		this.lblName = s, s.border = !1, s.fontFamily = "Microsoft YaHei", s.size = 26, s.stroke = 1, s.text = "昵称：玩家名字六字", s.textColor = 16777215, s.x = 153.02, s.y = 23;
		var h = new egret.TextField;
		this.lblLevel = h, h.border = !1, h.fontFamily = "Microsoft YaHei", h.richmode = !0, h.size = 26, h.stroke = 1, h.text = "等级：#c75fd8f138级", h.textColor = 16777215, h.x = 153.02, h.y = 62, t.addChild(i), t.addChild(s), t.addChild(this.lblLevel), this.grpLogin.addChild(t)
	}, i.prototype.setGrpNoRole = function() {
		var t = new egret.DisplayObjectContainer,
			i = new egret.Bitmap,
			e = new egret.TextField;
		this.grpNoRole = t, t.visible = !1, t.x = 249, t.y = 680, i.texture = this.$sheet.getTexture("img_login_biaoqing"), i.x = 188, i.y = -13, e.border = !1, e.fontFamily = "Microsoft YaHei", e.size = 26, e.text = "暂未创建角色...", e.textColor = 14080511, e.x = -10.77, e.y = 6, t.addChild(i), t.addChild(e), this.grpLogin.addChild(t)
	}, i.prototype.setGrpNoLogin = function() {
		var t = new egret.DisplayObjectContainer,
			i = (new egret.Bitmap, new egret.TextField);
		this.grpNoLogin = t, t.visible = !1, t.x = 250, t.y = 681, i.border = !1, i.fontFamily = "Microsoft YaHei", i.size = 26, i.text = "请先选择登录方式", i.textColor = 14080511, i.x = 5.23, i.y = 5, t.addChild(i), this.grpLogin.addChild(t)
	}, i.prototype.setCurr = function() {
		var t = new egret.TextField,
			i = new egret.TextField,
			e = new egret.Bitmap;
		this.CurrName = t, t.fontFamily = "Microsoft YaHei", t.size = 24, t.text = "服务器六个字", t.textAlign = "center", t.verticalAlign = "middle", t.visible = !1, t.x = 276, t.y = 578, t.autoAdjustFontSize = !0, this.CurrNameLong = i, i.anchorOffsetX = 0, i.fontFamily = "Microsoft YaHei", i.size = 24, i.text = "服务器六个字", i.textAlign = "center", i.verticalAlign = "middle", i.visible = !1, i.width = 191, i.x = 284, i.y = 578, i.autoAdjustFontSize = !0, this.imgRecommend = e, e.texture = this.$sheet.getTexture("img_login_tuijian"), e.visible = !1, e.x = 433, e.y = 574, this.grpLogin.addChild(t), this.grpLogin.addChild(i), this.grpLogin.addChild(e)
	}, i.prototype.setGrpProtocol = function() {
		this.grpProtocol = new egret.DisplayObjectContainer, this.grpProtocol.y = 395, this.grpProtocol.x = 26, this.addChild(this.grpProtocol);
		var t = new egret.Bitmap;
		t.width = 668, t.height = 474, t.texture = Global.getTexture("ServerUI_new0_json.bg_login_lanhei"), t.scale9Grid = new egret.Rectangle(27, 35, 119, 43), this.grpProtocol.addChild(t);
		var i = new egret.Bitmap;
		i.width = 300, i.scaleX = i.scaleY = 1.4, i.x = 124, i.y = 62.5, i.texture = Global.getTexture("ServerUI_new0_json.img_gonggao_biao"), i.scale9Grid = new egret.Rectangle(24, 2, 96, 13), this.grpProtocol.addChild(i);
		var e = new egret.Bitmap;
		e.x = 155, e.y = 41.34, e.texture = Global.getTexture("ServerUI_new0_json.txt_login_yhxyyyszc"), this.grpProtocol.addChild(e);
		var n = new egret.Bitmap;
		n.x = 36, n.y = 107.63, n.texture = Global.getTexture("ServerUI_new0_json.img_yonghuxieyi_bg"), this.grpProtocol.addChild(n);
		var s = new egret.ScrollView;
		s.x = 56, s.y = 125, s.width = 554, s.height = 210, this.textScrollView = s, this.grpProtocol.addChild(this.textScrollView);
		var h = new Global.RichTextField(s.width, 10);
		s.setContent(h), this.textGrp = h, h.paddingTop = 10, h.reset();
		for (var r = 0, o = ["感谢您选择梦幻西游网页版", "我们非常重视您的个人信息和隐私保护。", "为了更好地", "保障您的个人权益，在使用我们的服务前，请务必打", "开链接并审慎阅读", "《梦幻西游网页版服务协议》", "和", "《网易集团隐私政策》", "的全部内容，同意并接受全部", "条款后方可开始使用我们的服务。请您特别关注以下条款：\n1、《梦幻西游网页版服务协议》订立于广州市天河区。如双方就该协议的内容或其执行发生任何争议（包括但不限于合同或者其他财产性权益纠纷），双方应友好协商解决；协商不成时，双方同意交由该协议订立地有管辖权的法院进行管辖并处理 ；\n2、我们对您的个人信息的收集/保存使用对外提供保护等规则条款，以及您的用户权利等条款；\n3、免除或者限制网易公司责任的条款（该等条款通常含有“不承担责任”“免责”等词汇）、发生纠纷时适用的法律及管辖条款和其它限制用户权利的条款。"]; r < o.length; r++) {
			var g = o[r],
				a = new egret.TextField;
			a.text = g, a.size = 24, a.fontFamily = "Microsoft YaHei", a.border = !1, a.stroke = 0, a.lineSpacing = 10, a.richmode = !0, a.textColor = 16777215, a.touchEnabled = !1, "《梦幻西游网页版服务协议》" != g && "《网易集团隐私政策》" != g || (a.underline = !0, a.textColor = 7732623, a.touchEnabled = !0, g.indexOf("梦幻西游网页版服务协议") > -1 ? this.lblCompact = a : this.lblPrivacyProtocol = a), this.textGrp.pushText(a)
		}
		this.btnBack = new LoginBtn, this.btnBack.source = {
			up: "ServerUI_new0_json.btn_login_shangyibu",
			down: "ServerUI_new0_json.btn_login_shangyibuselect"
		};
		var l = this.btnBack.getBtnImg();
		l.texture = Global.getTexture("ServerUI_new0_json.img_login_shangyibu"), l.x = 60, l.y = 14.67, this.btnBack.x = 27.5, this.btnBack.y = 380, this.grpProtocol.addChild(this.btnBack), this.btnConfirm = new LoginBtn, this.btnConfirm.source = {
			up: "ServerUI_new0_json.btn_login_red",
			down: "ServerUI_new0_json.btn_login_redselect"
		}, (l = this.btnConfirm.getBtnImg()).texture = Global.getTexture("ServerUI_new0_json.txt_login_tongyibingjixu_png"), l.x = 16, l.y = 14, this.btnConfirm.x = 434, this.btnConfirm.y = 380, this.grpProtocol.addChild(this.btnConfirm), this.btnHasAccount = new LoginBtn, this.btnHasAccount.source = {
			up: "ServerUI_new0_json.btn_login_yyzh",
			down: "ServerUI_new0_json.btn_login_yyzh_pre"
		}, (l = this.btnHasAccount.getBtnImg()).texture = Global.getTexture("ServerUI_new0_json.txt_login_yyzh_png"), l.x = 26, l.y = 14.67, this.btnHasAccount.x = 233, this.btnHasAccount.y = 380, this.grpProtocol.addChild(this.btnHasAccount)
	}, i.prototype.setQRCode = function() {
		var t = this.imgQRCode = new egret.Bitmap;
		t.texture = this.$sheet.getTexture("img_login_smxz"), t.x = 10, t.y = 10, t.visible = !1, this.grpLogin.addChild(t)
	}, i.prototype.onComplete = function() {
		this.grpLogin = new egret.DisplayObjectContainer, this.addChild(this.grpLogin);
		var t = new egret.Bitmap;
		this.grpMiddle = t, t.width = 515, t.height = 443, t.anchorOffsetX = 0, t.anchorOffsetY = 0, t.y = 448, t.texture = this.$sheet.getTexture("bg_login_lanhei"), t.scale9Grid = new egret.Rectangle(27, 35, 119, 43), this.grpLogin.addChild(this.grpMiddle), this.setImage(), this.upInfoGrp = new UpInfoGrp, this.grpLogin.addChild(this.upInfoGrp), this.setLogin(), this.setImg(), this.setLogo(), this.setNotice(), this.setChoose(), this.setUserCenter(), this.setBtnQRCode(), this.setEmail(), this.setQRCode(), this.setGrpHasRole(), this.setGrpNoRole(), this.setGrpNoLogin(), this.setGrpProtocol(), this.grpProtocol.visible = !1, this.setDownInfoGrp(), this.setCurr(), this.onResize(), this.init(), this.completed = !0, this.dispatchEvent(new LoginUIEvent(LoginUIEvent.ONCOMPLETE, this))
	}, i.prototype.onResize = function() {
		this.width = this.parent ? this.parent.width : LoginUIGroup.getInstance().width, this.height = this.parent ? this.parent.height : LoginUIGroup.getInstance().height, this.grpLogin.width = this.width, this.grpLogin.height = this.height, Global.setObjectCenter(this.upInfoGrp, 0), Global.setObjectCenter(this.grpMiddle, -3.5), Global.setObjectCenter(this.loginTitle, -3), Global.setObjectCenter(this.logo, .5), Global.setObjectCenter(this.line, -1.5), this.btnBack.onResize(), this.btnConfirm.onResize(), this.btnHasAccount.onResize(), this.upInfoGrp.y = 27 - (this.stage.stageHeight - this.height >> 2), this.downInfoGrp.y = 1136 + (this.stage.stageHeight - this.height >> 1), this.imgQRCode.y = this.upInfoGrp.y
	}, i.prototype.switchTestClient = function(t) {
		if (void 0 === t && (t = !1), !this.$choosen) return console.log("!no choosen server"), !1;
		for (var i = utils.getQueryStringParameters(), e = utils.getCurrentUrl(), n = "?", s = !1, h = 0, r = Object.keys(i); h < r.length; h++) {
			var o = r[h];
			o && "channel" !== o && "login_sdk_channel" !== o && "is_ios" !== o && (n += o + "=" + i[o] + "&"), "login_sdk_channel" !== o && "is_ios" !== o || (s = !0)
		}
		var g = null,
			a = null;
		return this.$choosen.test && "netease_test" !== i.channel ? (a = this.$choosen.servername + "为#c159f18测试服#c202336，点击确认切换至测试客户端。", n += "channel=netease_test", s && (n += "&is_ios=1"), g = "" + e + n) : this.$choosen.test || "netease_test" !== i.channel || (a = this.$choosen.servername + "为#c159f18正式服#c202336，点击确认切换至正式客户端。", g = e + (n += s ? "login_sdk_channel=ios" : "channel=netease")), console.log("!targetUrl", g || "null", t), g ? t ? (egret.localStorage.removeItem("SwitchClentServerId"), window.location.href = g, !0) : (egret.localStorage.setItem("SwitchClentServerId", this.$choosen.hostid), utils.openDropTips(a, !1, !0, "确认", (function() {
			window.location.href = g
		}), this), !0) : (egret.localStorage.removeItem("SwitchClentServerId"), !1)
	}, i.prototype.onTouchTapLogin = function(t) {
		var e = this;
		if (this.tryTouch()) {
			var n = LoginManager.getInstance().loginState;
			if (n !== LoginState.WAITING_SERVERLIST && n !== LoginState.WAITING_GATECONNECT)
				if (this.downInfoGrp.checked)
					if (n !== LoginState.WAITING_SDKLOGIN)
						if (n === LoginState.WAITING_LOGINAUTHEN)
							if (this.$choosen) {
								if (this.$choosen.running_maintain) return void utils.showMaintainDropTips();
								if (this.grpNoRole.visible) {
									if (this.switchTestClient()) return;
									LoginUIGroup.close(i);
									var s = function(t) {
										t.setServer(e.$choosen, !1), t.setServerData(LoginManager.getInstance().serverList)
									};
									LoginUIGroup.open("NewRoleUI", s).then(s)
								} else {
									if (this.switchTestClient()) return;
									LoginManager.getInstance().lsm.doAction(this.$choosen)
								}
							} else utils.MessageBox("#cFFDE27请选择服务器");
			else egret.log("当前状态错误，可能是没有获取serverlist或者未连接网关");
			else LoginManager.getInstance().lsm.doAction(0);
			else utils.MessageBox("#cFFDE27请先同意下方用户协议");
			else LoginManager.getInstance().lsm.doAction(null)
		}
	}, i.prototype.onTouchTapUserCenter = function(t) {
		if (this.tryTouch())
			if (this.downInfoGrp.checked)
				if (utils.isInAPP() || "netease" !== GlobalValue.appLoginChannel) utils.tryOpenUserCenter();
				else {
					var i = LoginManager.getInstance().loginState;
					i === LoginState.WAITING_SDKLOGIN ? LoginManager.getInstance().lsm.doAction(0) : i !== LoginState.WAITING_LOGINAUTHEN && i !== LoginState.GAMING || utils.tryOpenUserCenter()
				}
		else utils.MessageBox("#cFFDE27请先同意下方用户协议")
	}, i.prototype.onTouchTapNotice = function(t) {
		this.tryTouch() && (this.showServerNotice(), this.Notice.point.visible = !1)
	}, i.prototype.onTouchCompact = function() {
		this.tryTouch() && (1 === GlobalValue.LoginChannel ? (egret.log("userCompactRequest"), JSNativeBridge.getInstance().call("userCompactRequest", [])) : 2 === GlobalValue.LoginChannel && (egret.log("webuserCompact"), LoginManager.getInstance().showWebCompact(!0)))
	}, i.prototype.onTouchPrivacyProtocol = function() {
		this.tryTouch() && utils.openURL("http://gb.corp.163.com/gb/legal.html")
	}, i.prototype.onTouchTapChoose = function(t) {
		if (this.tryTouch()) {
			var e = LoginManager.getInstance().loginState;
			e !== LoginState.WAITING_SDKLOGIN ? this.downInfoGrp.checked ? e === LoginState.WAITING_LOGINAUTHEN ? (LoginUIGroup.close(i), LoginManager.getInstance().showServerChoose()) : egret.warn("当前状态错误，可能是没有获取serverlist或者未连接网关") : utils.MessageBox("#cFFDE27请先同意下方用户协议") : utils.MessageBox("#cFFDE27选服前请先登录")
		}
	}, i.prototype.onTouchTapbtnQRCode = function() {
		if (this.tryTouch()) {
			var t = LoginManager.getInstance().loginState;
			t !== LoginState.WAITING_SDKLOGIN ? t === LoginState.WAITING_LOGINAUTHEN && JSNativeBridge.getInstance().call("openQRCodeScanner", []) : utils.MessageBox("#cFFDE27请先登录")
		}
	}, i.prototype.tryTouch = function() {
		var t = (new Date).getTime();
		return t - this.$lastTouchTimeStamp > 2e3 && (this.$lastTouchTimeStamp = t, !0)
	}, i.prototype.setBtnsVisible = function() {
		if (this.imgQRCode.visible = "netease" === GlobalValue.appLoginChannel, utils.isInAPP() && "iOS" === egret.Capabilities.os) return this.btnQRCode.visible = !0, void(this.UserCenter.visible = !0);
		var t = 0 === Object.keys(GlobalValue.AppVersionInfo).length && utils.isInAPP();
		"netease" === GlobalValue.appLoginChannel || "app_store" === GlobalValue.appChannel || t ? (this.btnQRCode.visible = 1 === GlobalValue.LoginChannel, this.UserCenter.visible = !0) : (this.btnQRCode.visible = !1, this.UserCenter.visible = !1)
	}, i.prototype.initFinger = function(t, i) {
		var e = this;
		this.$finger = new egret.MovieClip, this.downInfoGrp.addChild(this.$finger), this.$finger.x = t + 26, this.$finger.y = i + 38, MCDataCaches.getMCData("resource/assets/animate/HandClick.json", (function(t) {
			e.$finger.movieClipData = egret.MovieClipDataFactory.getInstance().generateMovieClipData(t.mcData, t.mcTexture), e.$finger.gotoAndPlay(e.$finger.movieClipData.labels[0].name, -1), e.$finger.play(-1)
		}), this)
	}, i.prototype.initHint = function() {
		var t = this.CompactCheck.x - 8,
			i = this.CompactCheck.y - 8;
		this.$finger = GuideFinger.getFingerObj(), this.initFinger(t, i)
	}, i.prototype.playHint = function() {
		this.$finger ? (this.$finger.visible = !0, this.$finger.play(-1)) : this.initHint()
	}, i.prototype.stopHint = function() {
		this.$finger && (this.$finger.stop(), this.$finger.visible = !1)
	}, i.prototype.destroyHint = function() {
		this.$finger && (this.downInfoGrp.removeChild(this.$finger), this.$finger.stop(), this.$finger = null)
	}, i.prototype.onChangeSelect = function(t) {
		this.downInfoGrp.checked && "true" !== egret.localStorage.getItem("accept_protocol") && egret.localStorage.setItem("accept_protocol", "true")
	}, i.prototype.init = function() {
		this.setBtnsVisible(), this.imgBtnTxt.touchEnabled = !1, this.Compact.touchEnabled = !0, this.Compact.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchCompact, this), this.UserCenter.redRight = -30, this.Notice.redRight = -20, this.UserCenter.redTop = 0, this.Notice.redTop = 0, this.Notice.refresh(), this.UserCenter.refresh(), LoginManager.getInstance().addEventListener(LoginEvent.SDKUserCenterNotification, this.updateUserCenterNotify, this), this.lblVersion.text = "本游戏适合16岁以上的玩家进入 客服电话：95163553 版本号：V" + GlobalValue.clientVersion(), this.CurrName.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapChoose, this), this.CurrNameLong.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapChoose, this), this.CurrName.touchEnabled = this.CurrNameLong.touchEnabled = !0, this.imgRecommend.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapChoose, this), this.grpNoLogin.visible = !0, this.Login.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapLogin, this), this.UserCenter.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapUserCenter, this), this.btnQRCode.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtnQRCode, this), this.Notice.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapNotice, this), this.Choose.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapChoose, this), this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtnBack, this), this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtnConfirm, this), this.btnHasAccount.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapbtnHasAccount, this), this.lblCompact.touchEnabled = !0, this.lblCompact.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchCompact, this), this.lblPrivacyProtocol.touchEnabled = !0, this.lblPrivacyProtocol.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchPrivacyProtocol, this), this.CompactCheck.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onChangeSelect, this)
	}, i.prototype.reset = function() {
		this.setBtnsVisible(), this.onResize()
	}, i.prototype.destroy = function() {
		LoginManager.getInstance().removeEventListener(LoginEvent.SDKUserCenterNotification, this.updateUserCenterNotify, this), this.$sheet && this.$sheet.dispose()
	}, i.prototype.setServer = function(t, i, e) {
		if (void 0 === e && (e = !1), console.log("setServer in ServerUI", e), console.log(t), this.changeForm(!1), this.grpNoLogin.visible = !1, t) {
			this.$choosen = t, this.CurrName.text = this.CurrNameLong.text = t.servername;
			var n = i || t.hostid === this.$cacheRecommendSid;
			this.imgRecommend.visible = n, this.CurrName.visible = n, this.CurrNameLong.visible = !n, i && (this.$cacheRecommendSid = t.hostid);
			for (var s = 0, h = LoginManager.getInstance().getRecentServer(); s < h.length; s++) {
				var r = h[s];
				if (r.hostid == t.hostid) {
					t.uid = r.uid, t.name = r.name, t.icon = r.icon, t.level = r.level;
					break
				}
			}
			this.setServerUIRoleInfo(t), e && this.switchTestClient(!0)
		}
	}, i.prototype.setServerUIRoleInfo = function(t) {
		var i = this;
		this.grpNoLogin.visible = !1, t.icon ? (this.lblName.text = "昵称：" + t.name, this.lblLevel.text = "等级：#c75fd8f" + t.level, GlobalFunc.B(utils.getNpcIconSmall(t.icon), (function(t) {
			var e = new egret.Texture;
			e.bitmapData = t, i.imgIcon.texture = e
		}), this), this.grpHasRole.visible = !0, this.grpNoRole.visible = !1) : (this.grpHasRole.visible = !1, this.grpNoRole.visible = !0), this.Login.setTextImg(this.grpHasRole.visible, this.grpHasRole.visible ? this.$sheet.getTexture("img_login_dl") : this.$sheet.getTexture("img_login_cjje"))
	}, i.prototype.showServerNotice = function() {
		var t = function(t) {
			t.setBackUI(i), LoginUIGroup.close(i)
		};
		LoginUIGroup.open("ServerNoticeUI", t).then(t)
	}, i.prototype.updateUserCenterNotify = function(t) {
		this.UserCenter && this.UserCenter.point && (this.UserCenter.point.visible = t.data.show)
	}, i.prototype.onTouchTapbtnConfirm = function() {
		this.tryTouch() && (HubbleHelper_.collectTrans("start_guest_login", !1), egret.localStorage.setItem("accept_protocol", "true"), channel_logic_netease_web.setLoginType(!0), LoginManager.getInstance().lsm.doAction(1))
	}, i.prototype.onTouchTapbtnHasAccount = function() {
		this.tryTouch() && (this.changeForm(!1), channel_logic_netease_web.setLoginType(!1), LoginManager.getInstance().lsm.doAction(0))
	}, i.prototype.onTouchTapbtnBack = function() {
		this.changeForm(!1)
	}, i.prototype.changeForm = function(t) {
		if (this.grpLogin.visible = !t, this.grpProtocol.visible = t, !t) {
			this.grpProtocol.visible = !1, this.grpNoLogin.visible = !0, this.grpHasRole.visible = !1, this.grpNoRole.visible = !1, this.$choosen = null, this.CurrName.text = this.CurrNameLong.text = "", this.imgRecommend.visible = !1, this.Login.setTextImg(!0, this.$sheet.getTexture("img_login_dl"));
			var i = egret.localStorage.getItem("accept_protocol");
			this.downInfoGrp.onChecked(i && "true" === i)
		}
	}, i
}(egret.DisplayObjectContainer);
__reflect(ServerUI.prototype, "ServerUI");
var session_helper_;
! function(n) {
	var e, i;

	function o() {
		e && login_net.de(e)
	}
	n.clearToken_ = function() {
		e = null
	}, n.checkTimerRunning_ = function() {
		return i.running
	}, n.gameSessionStart_ = function() {
		i || (i = new FixedTimer(12e5)).addEventListener(egret.TimerEvent.TIMER, o, null), i && i.start()
	}, n.gameSessionStop_ = function() {
		i && i.stop()
	}, n.getSession_ = function() {
		return e
	}, n.updateSessionRequest_ = o, n.onSessionUpdate_ = function(n) {
		e = n
	}
}(session_helper_ || (session_helper_ = {}));
var WarEvent = function(r) {
	function t(t, n) {
		return r.call(this, t, !1, !1, n) || this
	}
	return __extends(t, r), t.START_WAR_EVENT = "StartWarEvent", t.END_WAR_EVENT = "EndWarEvent", t.END_TURN_EVENT = "EndTurnEvent", t.ADD_WARRIOR = "AddWarrior", t
}(egret.Event);
__reflect(WarEvent.prototype, "WarEvent");
var native_net;
! function(n) {
	n.test = function(n) {}, n.setServiceToken = function(n) {
		JSNativeBridge.getInstance().call("setCustomerServiceToken", [n])
	}, n.openServiceView = function() {
		utils.isInAPP() ? JSNativeBridge.getInstance().call("openCustomerServiceView", []) : utils.openURL("https://gm.163.com/user_help.html?index=5&paper_id=4515")
	}, n.onCloseWebView = function(n) {
		egret.log("问卷调查界面被关闭")
	}, n.closeServiceView = function() {
		JSNativeBridge.getInstance().call("closeCustomerServiceView", [])
	}, n.getServiceMsg = function(n) {
		JSNativeBridge.getInstance().call("reciveCustomerServiceMsg", [n])
	}, n.sendUpdateResLog = function(n) {
		JSNativeBridge.getInstance().call("sendUpdateResLog", [n])
	}, n.msgBox = function(n) {
		utils.MessageBox(n[0])
	}, n.setLoginChannel = function(n) {
		egret.log("set loginChannel: " + n.LoginChannel), GlobalValue.LoginChannel = Number(n.LoginChannel)
	}, n.sendLoginSauth = function(n) {
		for (var e in n) ClientLogHelper_.getInst().info[e] = n[e];
		n.is_auth_guest = utils.isAuthGuest(), LoginManager.getInstance().sauthJson = JSON.stringify(n), egret.localStorage.setItem("accept_protocol", "true"), login_net.Me(LoginManager.getInstance().sauthJson), TimeOutHelper.getInst().entrustEvent(new LoginTransitionEvent(LoginTransitionEvent.SDK_LOGIN, {
			result: !1
		}), 50187)
	}, n.onRecvNativeParams = function(e) {
		for (var i in egret.log("onRecievePayLog:" + e), e) ClientLogHelper_.getInst().info[i] = e[i];
		utils.isAdApp() ? GlobalValue.isEmulator = !!e.is_emulator : GlobalValue.isEmulator = !1, n.refreshUIVisilityModeDelay()
	}, n.JSSendUserInfo = function(n, e) {
		JSNativeBridge.getInstance().call("uploadUserInfo", [n, e])
	}, n.NativeUserCenterNotification = function(n) {
		egret.log("NativeUserCenterNotification");
		var e = new LoginEvent(LoginEvent.SDKUserCenterNotification, n);
		LoginManager.getInstance().dispatchEvent(e)
	}, n.logoutDone = function(n) {
		session_helper_.clearToken_(), LoginManager.getInstance().autoSDKLogin = !1, LoginManager.getInstance().userInfo = null, utils.refreshClient(!0), egret.log("on js get logoutdone callback")
	}, n.sendRecordCmd = function(n) {
		egret.log("==========sendRecordCmd========="), JSNativeBridge.getInstance().call("sendRecordCmd", [n])
	}, n.sendVoiceCmd = function(n, e) {
		JSNativeBridge.getInstance().call("sendVoiceCmd", [n, e])
	}, n.getRecordCmdResult = function(n) {
		egret.log("getRecordCmdResult"), !n.result && n.desc && (egret.log(n.desc), utils.MessageBox("#cFFDE27" + n.desc)), VoiceManager.getInst().onRecordEnd()
	}, n.voicePlayFinish = function(n) {
		"VoiceManager" in window && VoiceManager.getInst().onPlayEnd()
	}, n.sendVoice = function(n) {
		VoiceManager.getInst().sendVoice(n)
	}, n.onMemoryWarining = function(n) {
		RESCacheMgr.setMaxSize(RESCacheMgr.getMaxSize() / 2)
	}, n.updateMemoryInfo = function(n) {
		egret.log(n), "ios" === utils.getClientOsType_$() && (n.mem_used = n.mem_usage, n.mem_usage = n.mem_resident), HubbleHelper_.iv(n)
	}, n.updateBatteryInfo = function(n) {
		egret.log(n), HubbleHelper_.iv(n)
	}, n.updateNetflowInfo = function(n) {
		egret.log(n), HubbleHelper_.lv(n)
	}, n.initNativeInputElement = function(n) {
		"UIManager" in window && (UIManager.stage.textAdapter.nativeElement = AndroidInputElement.getInstance(), AndroidInputElement.getInstance().screenWidth = n.width, AndroidInputElement.getInstance().screenHeight = n.height)
	}, n.onInputTextChanged = function(n) {
		AndroidInputElement.getInstance().input(n.text)
	}, n.inputOnKeyDone = function(n) {
		AndroidInputElement.getInstance().onKeyDone()
	}, n.inputOnKeySend = function(n) {
		AndroidInputElement.getInstance().onKeySend()
	}, n.onRecievePayLog = function(n) {
		view_net.$M(JSON.stringify(n))
	}, n.setPayCanTouch = function(n) {
		var e = ShoppingMallMainUI.getSubWidget(MallChargeUI);
		e && e.setGoodCanTouch(n.productId, n.canTouch)
	}, n.reqServiceToken = function(n) {
		ProtDispatcher.getInstance().fv(50369)
	}, n.sendDevIdToServer = function(n) {
		utils.isIosApp() && (n.devId = n.devId + ",apns,com.netease.mhxywyb"), GlobalValue.devId = n.devId, ProtDispatcher.getInstance().fv(57072, [n.devId])
	}, n.shareResultCallBack = function(n) {
		share_utils.shareCallBack(n.result, n.reason)
	}, n.ntShare = function(n) {
		JSNativeBridge.getInstance().call("ntShare", n)
	}, n.sendUserInfo = function() {
		var n = [HeroMainManager.getInstance().nickname, HeroMainManager.getInstance().userId, LoginManager.getInstance().serverInfo.servername];
		JSNativeBridge.getInstance().call("sendUserInfo", n)
	}, n.closeClient = function() {
		JSNativeBridge.getInstance().call("closeClient", [])
	}, n.setAppInfo = function(n) {
		GlobalValue.setAppInfo(n.device_model, n.os_name, n.os_ver, n.oaid, n.phone_st_per), window.h5screenAdapter && h5screenAdapter.setDeviceInfo(n)
	}, n.getAppInfo = function() {
		JSNativeBridge.getInstance().call("getAppInfo", [])
	}, n.setAppChannel = function(n) {
		GlobalValue.appChannel = n.appChannel, GlobalValue.appLoginChannel = n.loginChannel, LoginManager.getInstance().isFirstLogin = n.isFirstLogin, utils.setServerUiBtnVisible && utils.setServerUiBtnVisible()
	}, n.setOnlyAppChannel = function(n) {
		GlobalValue.appChannel = n.appChannel, GlobalValue.appLoginChannel = n.loginChannel, utils.setServerUiBtnVisible && utils.setServerUiBtnVisible()
	}, n.setIsGuestLogin = function(n) {
		LoginManager.getInstance().isGuestLogin = !!n.is_guest, LoginManager.getInstance().isFirstLogin = !1
	}, n.guestBindSuccess = function(n) {
		LoginManager.getInstance().loginState === LoginState.GAMING && login_net.Ce(!0)
	}, n.onAllowNtLogin = function() {
		console.log("onAllowNtLogin"), GlobalValue.appSdkLoginAllowTime = (new Date).getTime();
		var n = LoginManager.getInstance();
		console.log("onAllowNtLogin: loginstate =" + n.loginState + ", autoSDKLogin=" + n.autoSDKLogin), n.loginState === LoginState.WAITING_SDKLOGIN && n.autoSDKLogin && (GlobalValue.appChannel in GlobalValue.appSdkLoginWaitTimeIfNeed ? (console.log("onAllowNtLogin: callLater"), utils.callLater(GlobalValue.appSdkLoginWaitTimeIfNeed[GlobalValue.appChannel], (function() {
			console.log("onAllowNtLogin:do auto sdk login"), LoginManager.getInstance().lsm.doAction()
		}))) : (console.log("onAllowNtLogin:do auto sdk login"), n.lsm.doAction()))
	}, n.refreshUIVisilityMode = function() {
		JSNativeBridge.getInstance().call("refreshUIVisilityMode", [])
	}, n.refreshUIVisilityModeDelay = function() {
		JSNativeBridge.getInstance().call("refreshUIVisilityModeDelay", [])
	}, n.bindDumpCond = function(n, e) {
		JSNativeBridge.getInstance().call("setDumpCon", [1, n, e])
	}, n.unbindDumpCond = function(n, e) {
		JSNativeBridge.getInstance().call("setDumpCon", [0, n, e])
	}, n.postJsScriptError = function(n) {
		JSNativeBridge.getInstance().call("postJsScriptError", [n])
	}, n.ntOpenWebView = function(n) {
		JSNativeBridge.getInstance().call("ntOpenWebView", [n])
	}, n.ntCloseWebView = function() {
		JSNativeBridge.getInstance().call("ntCloseWebView", [])
	}, n.nativeVisibleChange = function(n) {
		egret.log("!!!nativeVisibleChange", n.hidden), egret.lifecycle.isHidden = n.hidden, window.tickWorker && window.tickWorker.postMessage(egret.lifecycle.isHidden), GlobalValue.WebLifeCycleHandlerContext && (egret.lifecycle.isHidden ? GlobalValue.WebLifeCycleHandlerContext.pause() : GlobalValue.WebLifeCycleHandlerContext.resume())
	}, n.saveImg = function(n, e, i) {
		void 0 === i && (i = 100), JSNativeBridge.getInstance().call("ntSaveImg", [n, e, i])
	}, n.getAppVersion = function() {
		JSNativeBridge.getInstance().call("getAppVersion", [])
	}, n.setAppVersion = function(n) {
		GlobalValue.AppVersionInfo.version = n.version, GlobalValue.AppVersionInfo.build = n.build, GlobalValue.AppVersionInfo.packageName = n.packageName ? n.packageName : utils.isAdApp() ? GlobalValue.defualtAdPackageName : ""
	}, n.batteryLevelDidChanged = function(n) {
		BatteryInfo.updateBatterLevel(n.level)
	}, n.batteryStateDidChanged = function(n) {
		var e = n.state;
		n.ad && (-1 === e && (e = 0), e = [0, 0, 2, 1, 1, 3][e]), BatteryInfo.updateBatterState(e)
	}, n.networkStateDidChanged = function(n) {
		var e = n.state;
		n.ad && (0 === e ? e = 2 : 1 !== e && (e = 0)), BatteryInfo.updateNetWorkState(e)
	}, n.setCompactUrl = function(n) {
		console.log("setCompactUrl " + n), JSNativeBridge.getInstance().call("setCompactUrl", [n ? "http://update.unisdk.163.com/html/latest_v14.json" : ""])
	}, n.reqAdPermission = function(n) {
		JSNativeBridge.getInstance().call("reqPermission", [n])
	}, n.hasRequestPermission = function(n) {
		return new Promise((function(e) {
			JSNativeBridge.getInstance().call("hasPermission", [n], (function(n) {
				e(!!n.v)
			}))
		}))
	}, n.onRequestPermissionsResultFailed = function(n) {
		utils.callLater(500, (function() {
			EventBus.dispatchEvent(new CommonEvent(CommonEvent.ADPERMISSIONRESULT, {
				permission: "",
				grantResult: !1
			}))
		}))
	}, n.onRequestPermissionsResult = function(n) {
		utils.callLater(500, (function() {
			EventBus.dispatchEvent(new CommonEvent(CommonEvent.ADPERMISSIONRESULT, {
				permission: n.permission,
				grantResult: 0 == n.grantResult
			}))
		}))
	}, n.setWindowBrightness = function(n) {
		JSNativeBridge.getInstance().call("setWindowBrightness", [n])
	}, n.getBrightnessInfo = function() {
		return new Promise((function(n) {
			JSNativeBridge.getInstance().call("getBrightnessInfo", [], (function(e) {
				n(e)
			}))
		}))
	}, n.recoverBrightness = function() {
		JSNativeBridge.getInstance().call("recoverBrightness", [])
	}
}(native_net || (native_net = {}));
var proto;
! function(o) {
	o.ProtC2S = void 0
}(proto || (proto = {}));
var proto;
! function(_) {
	_.ProtS2C = {
		1: ["login_net", "ie"],
		2: ["login_net", "oe"],
		3: ["login_net", "te"],
		4: ["chat_net", "S_RECEIVE_USER_MSG"],
		5: ["chat_net", "tS"],
		6: ["email_net", "nm"],
		7: ["friend_net", "S_GET_FRIENDS_RESULT"],
		8: ["friend_net", "Qd"],
		9: ["friend_net", "S_EDIT_FRIEND_RESULT"],
		10: ["friend_net", "Rd"],
		11: ["friend_net", "S_SEARCH_USERS__RESULT"],
		12: ["bag_net", "nB"],
		13: ["bag_net", "tB"],
		14: ["bag_net", "oB"],
		15: ["bag_net", "cB"],
		16: ["bag_net", "uB"],
		17: ["bag_net", "rB"],
		18: ["war_net", "_w"],
		19: ["email_net", "im"],
		20: ["email_net", "om"],
		21: ["email_net", "am"],
		22: ["misc_net", "xe"],
		23: ["misc_net", "S_WIZARD_CMD_RESULT"],
		24: ["friend_net", "S_GET_RECOMMEND_LIST_RESULT"],
		25: ["friend_net", "S_GET_BLACK_LIST_RESULT"],
		26: ["friend_net", "S_SET_BLACK_RESULT"],
		27: ["friend_net", "S_DEL_BLACK_RESULT"],
		28: ["friend_net", "S_GIVE_FRIEND_RESULT"],
		29: ["friend_net", "S_RECEIVE_FRIEND_GIVE_RESULT"],
		30: ["bag_net", "eB"],
		31: ["mainiterface_net", "_H"],
		32: ["mainiterface_net", "jH"],
		33: ["mainiterface_net", "kH"],
		34: ["login_net", "ne"],
		35: ["view_net", "S_UPDATE_STORE_INFO"],
		36: ["view_net", "S_UPDATE_STORE_PURCHASE"],
		37: ["view_net", "kU"],
		38: ["view_net", "S_UPDATA_CHARGE_VIP_INFO"],
		39: ["arena_net", "WD"],
		40: ["arena_net", "VD"],
		41: ["arena_net", "XD"],
		42: ["view_net", "dU"],
		43: ["view_net", "yU"],
		44: ["view_net", "GU"],
		45: ["misc_net", "We"],
		46: ["misc_net", "Be"],
		47: ["misc_net", "Xe"],
		48: ["misc_net", "Ye"],
		49: ["misc_net", "Si"],
		50: ["misc_net", "S_UPDATE_BOSS_PROGRESS"],
		51: ["misc_net", "Gi"],
		52: ["misc_net", "Ri"],
		53: ["maze_net", "tt"],
		54: ["maze_net", "mi"],
		55: ["maze_net", "vi"],
		56: ["maze_net", "zi"],
		57: ["maze_net", "S_SET_AUTO_WAR"],
		58: ["maze_net", "ut"],
		59: ["maze_net", "hi"],
		60: ["maze_net", "S_GET_BATTLE_AWARD"],
		61: ["maze_net", "S_GET_FIRST_AWARD"],
		62: ["maze_net", "ot"],
		63: ["gang_net", "nG"],
		64: ["gang_net", "tG"],
		65: ["gang_net", "eG"],
		66: ["gang_net", "aG"],
		67: ["gang_net", "S_DEAL_GANG_APPLAY_RESULT"],
		68: ["gang_net", "iG"],
		69: ["gang_net", "oG"],
		70: ["gang_net", "cG"],
		71: ["gang_net", "uG"],
		72: ["gang_net", "gG"],
		73: ["gang_net", "S_PRE_GET_GANG_APPLY_LIST"],
		74: ["gang_net", "pG"],
		75: ["gang_net", "S_GANG"],
		76: ["gang_net", "hG"],
		77: ["gang_net", "S_UPDATE_GANG_NUM"],
		78: ["maze_net", "it"],
		79: ["maze_net", "al"],
		80: ["maze_net", "S_END_WAR"],
		81: ["pet_net", "oI"],
		82: ["pet_net", "cI"],
		83: ["pet_net", "fI"],
		84: ["pet_net", "uI"],
		85: ["chat_net", "nS"],
		86: ["gang_net", "PG"],
		87: ["gang_net", "DG"],
		88: ["gang_net", "UG"],
		89: ["gang_net", "MG"],
		90: ["gang_net", "lG"],
		91: ["constellation_net", "tt"],
		92: ["constellation_net", "nt"],
		93: ["constellation_net", "S_SET_AUTO_WAR"],
		94: ["constellation_net", "ot"],
		95: ["constellation_net", "it"],
		96: ["constellation_net", "al"],
		97: ["constellation_net", "S_END_WAR"],
		98: ["constellation_net", "vt"],
		99: ["decisive_battle_net", "tt"],
		100: ["decisive_battle_net", "ot"],
		101: ["decisive_battle_net", "it"],
		102: ["decisive_battle_net", "S_SET_AUTO_WAR"],
		103: ["decisive_battle_net", "ut"],
		104: ["decisive_battle_net", "vt"],
		105: ["decisive_battle_net", "al"],
		106: ["decisive_battle_net", "S_END_WAR"],
		107: ["decisive_battle_net", "ft"],
		108: ["ping_test", "S_PONG_TEST"],
		109: ["team_net", "pm"],
		110: ["team_net", "sm"],
		111: ["gang_net", "gang_net"],
		112: ["view_net", "S_RIDE_MAIN_INFO"],
		113: ["view_net", "mU"],
		114: ["view_net", "LU"],
		115: ["view_net", "LD"],
		116: ["gang_net", "GG"],
		117: ["gang_net", "SG"],
		118: ["gang_net", "bG"],
		119: ["gang_net", "gang_net"],
		120: ["misc_net", "xi"],
		121: ["view_net", "DM"],
		122: ["ghost_net", "tt"],
		123: ["ghost_net", "al"],
		124: ["ghost_net", "S_END_WAR"],
		125: ["view_net", "YU"],
		126: ["view_net", "$U"],
		127: ["view_net", "Xh"],
		128: ["ghost_net", "St"],
		129: ["ghost_net", "vt"],
		130: ["ghost_net", "Ct"],
		131: ["view_net", "SM"],
		132: ["view_net", "dM"],
		133: ["misc_net", "Fi"],
		134: ["misc_net", "Ci"],
		135: ["ghost_net", "Gt"],
		136: ["gang_net", "vG"],
		137: ["view_net", "ZU"],
		138: ["gang_net", "S_ENTER_BPQD_SCENE"],
		139: ["gang_net", "S_UPDATE_BPQD_SCENE"],
		140: ["gang_net", "S_END_BPQD_WAR"],
		141: ["xiuxian_net", "nx"],
		142: ["xiuxian_net", "ax"],
		143: ["xiuxian_net", "tx"],
		144: ["xiuxian_net", "ix"],
		145: ["xiuxian_net", "ux"],
		146: ["xiuxian_net", "ox"],
		147: ["race_net", "SU"],
		148: ["race_net", "RU"],
		149: ["race_net", "CU"],
		150: ["race_net", "tt"],
		151: ["race_net", "al"],
		152: ["race_net", "S_END_WAR"],
		153: ["race_net", "lU"],
		154: ["team_net", "Dm"],
		155: ["team_net", "S_GET_MATCH_MEMBERS"],
		156: ["team_net", "Pm"],
		157: ["view_net", "CM"],
		158: ["view_net", "Vh"],
		159: ["view_net", "Yh"],
		160: ["misc_net", "Wi"],
		161: ["race_net", "pU"],
		162: ["gang_net", "RG"],
		163: ["gang_net", "S_UPDATE_BPQD_HIT"],
		164: ["view_net", "$h"],
		165: ["view_net", "UM"],
		166: ["view_net", "sM"],
		167: ["login_net", "re"],
		168: ["login_net", "ae"],
		169: ["partner_net", "Pu"],
		170: ["partner_net", "mu"],
		171: ["partner_net", "Uu"],
		172: ["partner_net", "Du"],
		173: ["partner_net", "du"],
		174: ["partner_net", "hu"],
		175: ["partner_net", "Fu"],
		176: ["partner_net", "xu"],
		177: ["partner_net", "Cu"],
		178: ["partner_net", "Lu"],
		179: ["partner_net", "vu"],
		180: ["partner_net", "S_SHENGXIAN_XIANDAN_ALLBONUS"],
		181: ["shenbing_net", "Sh"],
		182: ["shenbing_net", "Bh"],
		183: ["shenbing_net", "Lh"],
		184: ["shenbing_net", "Wh"],
		185: ["shenbing_net", "xh"],
		186: ["view_net", "wM"],
		187: ["pet_net", "UI"],
		188: ["pet_net", "II"],
		189: ["pet_net", "hI"],
		190: ["pet_net", "sI"],
		191: ["pet_net", "gI"],
		192: ["pet_net", "MI"],
		193: ["pet_net", "DI"],
		194: ["view_net", "OU"],
		195: ["fuben_net", "tt"],
		196: ["fuben_net", "al"],
		197: ["view_net", "yM"],
		198: ["plot_net", "tt"],
		199: ["plot_net", "al"],
		200: ["seal_monster_net", "tt"],
		201: ["seal_monster_net", "al"],
		202: ["view_net", "qU"],
		203: ["pet_net", "lI"],
		204: ["pet_net", "vI"],
		205: ["partner_net", "lu"],
		206: ["misc_net", "Bi"],
		207: ["home_net", "no"],
		208: ["home_net", "oo"],
		209: ["home_net", "ao"],
		210: ["home_net", "to"],
		211: ["partner_net", "Su"],
		212: ["arena_net", "YD"],
		213: ["arena_net", "$D"],
		214: ["arena_net", "Rv"],
		215: ["view_net", "ZM"],
		216: ["view_net", "qM"],
		217: ["view_net", "S_DAZAO_EQUIP_LIST"],
		218: ["partner_net", "pu"],
		219: ["misc_net", "ki"],
		220: ["maptask_net", "IE"],
		221: ["maptask_net", "S_OPEN_GET_YUNBIAO"],
		222: ["maptask_net", "S_START_YUNBIAO"],
		223: ["arena_net", "Wv"],
		224: ["view_net", "gM"],
		225: ["view_net", "lM"],
		226: ["maptask_net", "UE"],
		227: ["misc_net", "Li"],
		228: ["view_net", "S_UPDATE_KEJU_HIT"],
		229: ["pet_net", "eI"],
		230: ["misc_net", "S_OPEN_ACTIVITY_PANEL"],
		231: ["calendar_net", "tt"],
		232: ["calendar_net", "Id"],
		233: ["calendar_net", "Ud"],
		234: ["arena_net", "Zv"],
		235: ["huodong_net", "Zt"],
		236: ["huodong_net", "$t"],
		237: ["misc_net", "Tc"],
		238: ["view_net", "RM"],
		239: ["view_net", "S_MY_KEJU_RANK"],
		240: ["calendar_net", "Md"],
		241: ["gang_net", "sG"],
		242: ["team_net", "P_"],
		243: ["misc_net", "ji"],
		244: ["gang_net", "fG"],
		245: ["gang_net", "S_END_HUODONG_WAR"],
		246: ["misc_net", "bi"],
		247: ["partner_net", "Gu"],
		248: ["view_net", "NM"],
		249: ["misc_net", "Ei"],
		250: ["view_net", "ap"],
		251: ["view_net", "tp"],
		252: ["view_net", "ip"],
		253: ["partner_net", "Tu"],
		254: ["misc_net", "Xi"],
		255: ["misc_net", "Wa"],
		256: ["misc_net", "tu"],
		257: ["misc_net", "Yi"],
		258: ["view_net", "mM"],
		259: ["view_net", "LM"],
		260: ["misc_net", "wi"],
		261: ["view_net", "_M"],
		262: ["misc_net", "ac"],
		263: ["gang_net", "IG"],
		264: ["view_net", "XM"],
		265: ["gang_net", "JS"],
		266: ["view_net", "HM"],
		267: ["team_net", "mm"],
		268: ["misc_net", "di"],
		269: ["view_net", "Lp"],
		270: ["login_net", "Pe"],
		271: ["war_net", "lw"],
		272: ["login_net", "se"],
		273: ["war_net", "yw"],
		274: ["view_net", "qp"],
		275: ["view_net", "jp"],
		276: ["view_net", "1"],
		277: ["view_net", "zp"],
		278: ["view_net", "Vp"],
		279: ["view_net", "1"],
		280: ["view_net", "Kp"],
		281: ["view_net", "cl"],
		282: ["view_net", "Dl"],
		283: ["tinygame_net", "gm"],
		284: ["tinygame_net", "Mm"],
		285: ["tinygame_net", "Hm"],
		286: ["tinygame_net", "Sm"],
		287: ["huodong_net", "nr"],
		288: ["view_net", "np"],
		289: ["view_net", "S_AUTO_FAIL"],
		290: ["view_net", "GM"],
		291: ["misc_net", "Vc"],
		292: ["shenbing_net", "jh"],
		293: ["team_net", "hm"],
		294: ["view_net", "hl"],
		295: ["view_net", "Ml"],
		296: ["misc_net", "Ac"],
		297: ["misc_net", "Pi"],
		298: ["login_net", "ue"],
		299: ["view_net", "VM"],
		300: ["view_net", "AM"],
		301: ["misc_net", "Ni"],
		302: ["misc_net", "Ti"],
		303: ["view_net", "IM"],
		304: ["view_net", "Np"],
		305: ["misc_net", "jc"],
		306: ["misc_net", "Ke"],
		307: ["view_net", "jM"],
		308: ["war_net", "Ww"],
		309: ["view_net", "Zh"],
		310: ["view_net", "aD"],
		311: ["ping_test", "S_YC_SYNC_RPC"],
		312: ["misc_net", "Oi"],
		313: ["seal_monster_net", "el"],
		314: ["seal_monster_net", "nl"],
		315: ["seal_monster_net", "al"],
		316: ["misc_net", "$c"],
		317: ["misc_net", "li"],
		318: ["mainiterface_net", "qH"],
		319: ["misc_net", "nu"],
		320: ["misc_net", "au"],
		321: ["recharge_net", "Uh"],
		322: ["view_net", "uD"],
		323: ["misc_net", "ze"],
		324: ["view_net", "bM"],
		325: ["login_net", "Oe"],
		326: ["pet_net", "pI"],
		327: ["view_net", "lD"],
		328: ["maptask_net", "gE"],
		329: ["misc_net", "eu"],
		330: ["mainiterface_net", "yH"],
		331: ["login_net", "Se"],
		332: ["view_net", "RM"],
		333: ["view_net", "yD"],
		334: ["view_net", "op"],
		335: ["misc_net", "cu"],
		336: ["view_net", "ZD"],
		337: ["pet_net", "S_PET_NEIDAN_UPGRADE_RESULT"],
		1e4: ["huodong_net", "Tt"],
		10001: ["huodong_net", "Rt"],
		10002: ["huodong_net", "S_PLAY_TURTLE"],
		10003: ["huodong_net", "Vt"],
		10004: ["view_net", "FU"],
		10005: ["view_net", "xM"],
		10006: ["huodong_net", "Wt"],
		10007: ["view_net", "kl"],
		10008: ["view_net", "Fl"],
		10009: ["view_net", "dl"],
		10010: ["view_net", "Cl"],
		10011: ["view_net", "wl"],
		10012: ["scene_net", "S_"],
		10013: ["scene_net", "g_"],
		10014: ["scene_net", "M_"],
		10015: ["scene_net", "D_"],
		10016: ["scene_net", "P_"],
		10017: ["scene_net", "s_"],
		10018: ["scene_net", "v_"],
		10019: ["scene_net", "__"],
		10020: ["scene_net", "d_"],
		10021: ["scene_net", "b_"],
		10022: ["scene_net", "j_"],
		10023: ["scene_net", "k_"],
		10024: ["scene_net", "l_"],
		10025: ["view_net", "dp"],
		10026: ["scene_net", "m_"],
		10027: ["scene_net", "w_"],
		10028: ["scene_net", "q_"],
		10029: ["huodong_net", "pr"],
		10030: ["huodong_net", "Dr"],
		10031: ["huodong_net", "Tr"],
		10032: ["huodong_net", "Rr"],
		10033: ["huodong_net", "dr"],
		10034: ["huodong_net", "Cr"],
		10035: ["huodong_net", "Xt"],
		10036: ["view_net", "yl"],
		10037: ["huodong_net", "gr"],
		10038: ["misc_net", "zc"],
		10039: ["huodong_net", "Vr"],
		10040: ["recharge_net", "Rs"],
		10041: ["recharge_net", "ds"],
		10042: ["recharge_net", "Cs"],
		10043: ["recharge_net", "Gs"],
		10044: ["recharge_net", "Ms"],
		10045: ["recharge_net", "S_OPEN_TODAY_GIFT"],
		10046: ["recharge_net", "Ai"],
		10047: ["huodong_net", "vr"],
		10048: ["huodong_net", "Sr"],
		11e3: ["open_service_net", "tt"],
		11001: ["open_service_net", "nO"],
		11002: ["open_service_net", "aO"],
		11003: ["misc_net", "Ji"],
		11007: ["misc_net", "yi"],
		11008: ["misc_net", "Zi"],
		11009: ["misc_net", "$i"],
		11010: ["misc_net", "nc"],
		11011: ["forge_shop_net", "o_"],
		11012: ["email_net", "tm"],
		11013: ["friend_chat_net", "Jd"],
		11014: ["friend_chat_net", "Kd"],
		11015: ["friend_chat_net", "Ld"],
		11016: ["friend_chat_net", "Ed"],
		11017: ["friend_chat_net", "S_SEARCH_FRIEND"],
		11018: ["friend_chat_net", "Fd"],
		11019: ["friend_chat_net", "Nd"],
		11020: ["friend_chat_net", "Gd"],
		11021: ["friend_chat_net", "Hd"],
		11022: ["friend_chat_net", "Od"],
		11023: ["friend_chat_net", "Qd"],
		11024: ["friend_chat_net", "Rd"],
		11025: ["friend_chat_net", "Sd"],
		11026: ["friend_chat_net", "Vd"],
		11027: ["recharge_net", "es"],
		11028: ["recharge_net", "ns"],
		11029: ["decisive_battle_net", "rt"],
		11030: ["decisive_battle_net", "st"],
		11031: ["potency_net", "rt"],
		11032: ["potency_net", "nM"],
		11033: ["potency_net", "aM"],
		11034: ["artifact_net", "tk"],
		11035: ["artifact_net", "ak"],
		11036: ["artifact_net", "nk"],
		11037: ["artifact_net", "rk"],
		11038: ["artifact_net", "Uk"],
		11039: ["artifact_net", "ik"],
		11040: ["artifact_net", "ck"],
		11041: ["welfare_net", "S_OPEN_EVERYDAY_SIGNIN"],
		11042: ["recharge_net", "S_OPEN_SEVENDAY_GIFT"],
		11043: ["artifact_net", "ek"],
		11044: ["artifact_net", "Ik"],
		11045: ["artifact_net", "In"],
		11046: ["artifact_net", "fk"],
		11047: ["flyup_net", "lt"],
		11048: ["flyup_net", "gt"],
		11049: ["flyup_net", "Mt"],
		11050: ["flyup_net", "ht"],
		11051: ["flyup_net", "pt"],
		11052: ["flyup_net", "yt"],
		11053: ["heaven_star_net", "rt"],
		11054: ["heaven_star_net", "gd"],
		11055: ["heaven_star_net", "nH"],
		11056: ["heaven_star_net", "al"],
		11057: ["heaven_star_net", "eH"],
		11058: ["heaven_star_net", "tH"],
		11059: ["heaven_star_net", "S_OPEN_TEAM_MAIN"],
		11060: ["heaven_star_net", "rH"],
		11061: ["chat_net", "eS"],
		11063: ["chat_net", "rS"],
		11064: ["wushentan_net", "rt"],
		11065: ["wushentan_net", "TW"],
		11066: ["wushentan_net", "BW"],
		11067: ["wushentan_net", "LW"],
		11068: ["wushentan_net", "jW"],
		11069: ["wushentan_net", "qW"],
		11070: ["wushentan_net", "NW"],
		11071: ["wushentan_net", "mW"],
		11072: ["wushentan_net", "HW"],
		11073: ["wushentan_net", "OW"],
		11074: ["wushentan_net", "VW"],
		11075: ["wushentan_net", "QW"],
		11076: ["wushentan_net", "RW"],
		11077: ["wushentan_net", "XW"],
		11078: ["wushentan_net", "zW"],
		11079: ["wushentan_net", "EW"],
		11080: ["wushentan_net", "KW"],
		11082: ["wushentan_net", "S_GET_FINAL_READY_SCENE_UI"],
		11083: ["view_net", "Hl"],
		11084: ["view_net", "Jl"],
		11085: ["view_net", "Bl"],
		11086: ["view_net", "_l"],
		11087: ["view_net", "Wl"],
		11088: ["view_net", "Xl"],
		11089: ["misc_net", "S_ICON_AREA_TIPS"],
		11090: ["heaven_star_net", "aH"],
		11091: ["calendar_net", "gd"],
		11092: ["wushentan_net", "YW"],
		11093: ["wushentan_net", "ZW"],
		11094: ["wushentan_net", "$W"],
		11095: ["wushentan_net", "nT"],
		11096: ["wushentan_net", "tT"],
		11097: ["recharge_net", "S_NEW_SERVER_GIFT"],
		11098: ["recharge_net", "as"],
		11099: ["recharge_net", "os"],
		11100: ["misc_net", "qi"],
		11101: ["recharge_net", "S_OPEN_NEW_PIT_GIFT"],
		11102: ["recharge_net", "S_OPEN_DIRECT_ASCENT"],
		11103: ["recharge_net", "S_OPEN_FIRST_RECHARGE_FIVE"],
		11104: ["recharge_net", "S_OPEN_FIRST_RECHARGE_FIVE_TIPS"],
		11105: ["misc_net", "Vi"],
		11106: ["co_requisite_net", "rt"],
		11107: ["bell_award_net", "rt"],
		11108: ["bell_award_net", "nd"],
		11109: ["bell_award_net", "ad"],
		11110: ["recharge_net", "Ds"],
		11111: ["recharge_net", "gs"],
		11112: ["bell_award_net", "td"],
		11113: ["recharge_net", "ps"],
		11114: ["recharge_net", "Ps"],
		11115: ["recharge_net", "vs"],
		11116: ["recharge_net", "ws"],
		11117: ["potency_net", "rt"],
		11118: ["potency_net", "tM"],
		11119: ["potency_net", "oM"],
		11120: ["life_suffering_net", "tt"],
		11121: ["life_suffering_net", "ii"],
		11122: ["god_pet_apperance_net", "cO"],
		11123: ["god_pet_apperance_net", "a_"],
		11124: ["life_suffering_net", "ni"],
		11125: ["god_shop_net", "c_"],
		11126: ["war_net", "Fw"],
		11127: ["advance_payback_net", "yv"],
		11128: ["advance_payback_net", "Bv"],
		11129: ["recharge_net", "Fs"],
		11130: ["misc_net", "_i"],
		11131: ["artifact_net", "ap"],
		11132: ["artifact_net", "tp"],
		11133: ["god_shop_net", "i_"],
		11134: ["recharge_net", "Es"],
		11135: ["recharge_net", "Hs"],
		11136: ["view_net", "iD"],
		11137: ["misc_net", "ou"],
		11138: ["view_net", "MD"],
		11139: ["vip_chat_net", "Kd"],
		11140: ["vip_chat_net", "Ld"],
		11141: ["recharge_net", "_s"],
		11142: ["maptask_net", "GE"],
		11143: ["maptask_net", "WE"],
		11144: ["maptask_net", "mE"],
		11145: ["maptask_net", "bE"],
		11146: ["welfare_net", "S_OPEN_NEW_MONEY_PLAN"],
		11147: ["maptask_net", "yE"],
		11148: ["recharge_net", "gh"],
		11149: ["misc_net", "Ki"],
		11150: ["misc_net", "Qi"],
		11151: ["mall_net", "_y"],
		11152: ["mall_net", "by"],
		11153: ["mall_net", "jy"],
		11154: ["view_net", "ED"],
		11156: ["view_net", "FD"],
		11157: ["mall_net", "Ty"],
		11158: ["view_net", "GD"],
		11159: ["chat_net", "aS"],
		11160: ["misc_net", "iu"],
		11161: ["advance_payback_net", "zv"],
		11162: ["chat_net", "iS"],
		11163: ["misc_net", "S_SET_BAN_CURRENCY"],
		15001: ["gang_net", "kG"],
		15002: ["achievement_net", "mv"],
		15003: ["achievement_net", "Dv"],
		15004: ["achievement_net", "Iv"],
		15005: ["achievement_net", "Uv"],
		15006: ["achievement_net", "Av"],
		15007: ["stronger_net", "SB"],
		15008: ["stronger_net", "WB"],
		15009: ["stronger_net", "jB"],
		15010: ["achievement_net", "Mv"],
		15011: ["achievement_net", "Gv"],
		15012: ["pet_net", "dI"],
		15013: ["pet_net", "FI"],
		15014: ["pet_net", "GI"],
		15015: ["pet_net", "SI"],
		15016: ["pet_net", "NI"],
		15017: ["pet_net", "TI"],
		15018: ["pet_net", "WI"],
		15019: ["pet_net", "XI"],
		15020: ["pet_net", "YI"],
		15021: ["pet_net", "qI"],
		15022: ["pet_net", "wI"],
		15023: ["pet_net", "BI"],
		15024: ["pet_net", "RI"],
		15025: ["partner_net", "Tf"],
		15026: ["view_net", "DD"],
		15027: ["partner_net", "wf"],
		15028: ["partner_net", "zf"],
		15029: ["partner_net", "Af"],
		15030: ["partner_net", "Ef"],
		15031: ["partner_net", "pP"],
		15032: ["qunxiongzhulu_net", "S_OPEN_QXZL_MAIN_ON"],
		15033: ["qunxiongzhulu_net", "S_OPEN_QXZL_MAIN_OFF"],
		15034: ["qunxiongzhulu_net", "S_OPEN_QXZL_FORMAT_TIPS"],
		15035: ["qunxiongzhulu_net", "S_OPEN_QXZL_FORMAT_EDIT"],
		15036: ["qunxiongzhulu_net", "S_OPEN_QXZL_MATCH"],
		16001: ["view_net", "KM"],
		16002: ["xiuxian_net", "ex"],
		16003: ["partner_net", "S_PARTNER_XIANQI_UPGRADE_RESULT"],
		16004: ["view_net", "JM"],
		16005: ["view_net", "BM"],
		16006: ["misc_net", "je"],
		16007: ["misc_net", "Qe"],
		16008: ["view_net", "WM"],
		16009: ["huodong_net", "lr"],
		16010: ["huodong_net", "sr"],
		16011: ["huodong_net", "Pr"],
		16012: ["huodong_net", "Ir"],
		16013: ["huodong_net", "hr"],
		16014: ["huodong_net", "Ur"],
		16015: ["view_net", "Cp"],
		16016: ["welfare_net", "WW"],
		16017: ["welfare_net", "DW"],
		16018: ["view_net", "TM"],
		16019: ["view_net", "zM"],
		16020: ["arena_net", "cA"],
		16021: ["arena_net", "uA"],
		16022: ["arena_net", "UA"],
		16023: ["arena_net", "IA"],
		16024: ["arena_net", "S_OPEN_WORLD_SEGMENT"],
		16025: ["arena_net", "fA"],
		16026: ["arena_net", "MA"],
		16027: ["arena_net", "gA"],
		16028: ["arena_net", "sA"],
		16029: ["arena_net", "hA"],
		16030: ["home_net", "wo"],
		16031: ["home_net", "yo"],
		16032: ["home_net", "Lo"],
		16033: ["home_net", "zo"],
		16034: ["home_net", "ho"],
		16035: ["home_net", "lo"],
		16036: ["home_net", "Fo"],
		16037: ["home_net", "$o"],
		16038: ["home_net", "Ma"],
		16039: ["home_net", "ma"],
		16040: ["home_net", "Pa"],
		16041: ["home_net", "ga"],
		16042: ["home_net", "pa"],
		16043: ["home_net", "Ha"],
		16044: ["home_net", "ha"],
		16045: ["wishwell_net", "hC"],
		16046: ["child_net", "C"],
		16047: ["child_net", "H"],
		16048: ["child_net", "K"],
		16049: ["child_net", "X"],
		16050: ["child_net", "Y"],
		16051: ["child_net", "nn"],
		16052: ["child_net", "in"],
		16053: ["child_net", "k"],
		16054: ["child_net", "q"],
		16055: ["jingmai_net", "ba"],
		16056: ["jingmai_net", "_a"],
		16057: ["jingmai_net", "Aa"],
		16058: ["jingmai_net", "Ba"],
		16059: ["jingmai_net", "wa"],
		16060: ["misc_net", "xc"],
		16061: ["misc_net", "yc"],
		16062: ["misc_net", "Bc"],
		16063: ["misc_net", "_c"],
		16064: ["jingmai_net", "Ka"],
		16065: ["jingmai_net", "S_UPDATE_JINGMAI_MARTIAL"],
		16066: ["jingmai_net", "S_OPEN_SHOW_MARTIAL"],
		16067: ["jingmai_net", "S_UPDATE_MARTIAL_BATTLE"],
		16068: ["login_net", "Le"],
		16069: ["misc_net", "Fc"],
		16070: ["jingmai_net", "S_MARTIAL_BATTLE_STATE"],
		16071: ["misc_net", "Qe"],
		16072: ["misc_net", "S_ANTI_ADDICTION_BTN_SHOW"],
		16073: ["misc_net", "Ve"],
		16074: ["pet_net", "Gf"],
		16075: ["rainbow_championship_net", "nw"],
		16076: ["rainbow_championship_net", "aw"],
		16077: ["rainbow_championship_net", "tw"],
		16078: ["rainbow_championship_net", "ew"],
		16079: ["rainbow_championship_net", "cw"],
		16080: ["rainbow_championship_net", "sw"],
		16081: ["rainbow_championship_net", "Xn"],
		16082: ["rainbow_championship_net", "uw"],
		16083: ["rainbow_championship_net", "pw"],
		16084: ["rainbow_championship_net", "Rw"],
		16085: ["home_net", "ro"],
		16086: ["home_net", "io"],
		16087: ["home_net", "eo"],
		16088: ["welfare_net", "AW"],
		16089: ["bag_net", "qB"],
		16090: ["open_service_net", "cO"],
		16091: ["open_service_net", "a_"],
		16092: ["open_service_net", "_s"],
		16093: ["view_net", "$l"],
		16094: ["view_net", "nD"],
		16095: ["open_service_net", "oO"],
		16096: ["open_service_net", "uO"],
		16097: ["open_service_net", "MO"],
		16098: ["misc_net", "Jc"],
		16099: ["open_service_net", "fO"],
		16100: ["view_net", "yp"],
		16101: ["home_net", "Eo"],
		16102: ["open_service_net", "lO"],
		16103: ["misc_net", "S_OPEN_CERT_CONFIRM"],
		16104: ["login_net", "Ue"],
		16105: ["login_net", "Te"],
		16106: ["login_net", "Ne"],
		16107: ["login_net", "Fe"],
		16108: ["login_net", "Ge"],
		16109: ["open_service_net", "vO"],
		16110: ["partner_net", "Gf"],
		16111: ["login_net", "ye"],
		16112: ["rainbow_championship_net", "Dw"],
		16113: ["rainbow_championship_net", "dw"],
		16114: ["partner_net", "xf"],
		16120: ["qunxiongzhulu_net", "S_OPEN_QUNXIONG_ZHANDOUJILU_UI"],
		16121: ["qunxiongzhulu_net", "S_OPEN_QUNXIONG_WINORLOSE_UI"],
		16122: ["qunxiongzhulu_net", "S_OPEN_QUNXIONG_AWARD_SCORE_UI"],
		16123: ["qunxiongzhulu_net", "S_OPEN_QUNXIONG_AWARD_RINKINGS_UI"],
		16124: ["qunxiongzhulu_net", "S_OPEN_QUNXIONG_RONGYU_UI"],
		17001: ["maptask_net", "ME"],
		17002: ["maptask_net", "PE"],
		17003: ["maptask_net", "pE"],
		17004: ["maptask_net", "vE"],
		17005: ["maptask_net", "DE"],
		17006: ["maptask_net", "EE"],
		17007: ["greenDragon_net", "ib"],
		17008: ["greenDragon_net", "fb"],
		17009: ["mainiterface_net", "xH"],
		17010: ["welfare_net", "vW"],
		17011: ["wishwell_net", "IC"],
		17012: ["wishwell_net", "UC"],
		17013: ["wishwell_net", "lC"],
		17014: ["defense_changan_net", "gS"],
		17015: ["defense_changan_net", "tt"],
		17016: ["defense_changan_net", "fS"],
		17017: ["defense_changan_net", "sS"],
		17018: ["defense_changan_net", "DS"],
		17019: ["kuafugangwar_net", "tW"],
		17020: ["kuafugangwar_net", "aW"],
		17021: ["kuafugangwar_net", "eW"],
		17022: ["kuafugangwar_net", "nW"],
		17023: ["kuafugangwar_net", "rW"],
		17024: ["defense_changan_net", "MS"],
		17025: ["defense_changan_net", "SS"],
		17026: ["magictreasure_net", "Ta"],
		17027: ["magictreasure_net", "Xa"],
		17028: ["magictreasure_net", "Na"],
		17029: ["magictreasure_net", "Oa"],
		17030: ["recharge_net", "rs"],
		17031: ["magictreasure_net", "Qa"],
		17032: ["magictreasure_net", "Sa"],
		17033: ["dragonwat_net", "nb"],
		17034: ["dragonwat_net", "ab"],
		17035: ["dragonwat_net", "rb"],
		17036: ["heromeeting_net", "HH"],
		17037: ["heromeeting_net", "DH"],
		17038: ["magictreasure_net", "Va"],
		17039: ["heromeeting_net", "mH"],
		17040: ["heromeeting_net", "PH"],
		17041: ["heromeeting_net", "lH"],
		17042: ["heromeeting_net", "wH"],
		17043: ["magictreasure_net", "Wa"],
		17044: ["welfare_net", "_W"],
		17045: ["heromeeting_net", "dH"],
		17046: ["view_net", "KU"],
		17047: ["view_net", "jU"],
		17048: ["view_net", "HU"],
		17049: ["magictreasure_net", "Ya"],
		17050: ["kuafugangwar_net", "uW"],
		17051: ["kuafugangwar_net", "cW"],
		17052: ["kuafugangwar_net", "iW"],
		17053: ["greenDragon_net", "Db"],
		17054: ["magictreasure_net", "Za"],
		17055: ["magictreasure_net", "Ra"],
		17056: ["home_net", "Da"],
		17057: ["home_net", "va"],
		17058: ["home_net", "Ga"],
		17059: ["view_net", "UD"],
		17060: ["welfare_net", "JW"],
		17061: ["maptask_net", "S_OPEN_VIP_TASK_CHAIN"],
		17062: ["calendar_net", "Cd"],
		17063: ["calendar_net", "_d"],
		17064: ["bag_net", "aB"],
		17065: ["huodong_net", "Mr"],
		18001: ["demonking_net", "o"],
		18002: ["demonking_net", "i"],
		18003: ["demonking_net", "I"],
		18004: ["gang_net", "jS"],
		18005: ["gang_net", "VS"],
		18006: ["gang_net", "zS"],
		18007: ["wishwell_net", "gC"],
		18008: ["maptask_net", "CE"],
		18009: ["maptask_net", "wE"],
		18010: ["secretArea_net", "AU"],
		18011: ["maptask_net", "xE"],
		18012: ["maptask_net", "_E"],
		18013: ["secretArea_net", "BU"],
		18014: ["secretArea_net", "WU"],
		18015: ["bag_net", "fB"],
		18016: ["view_net", "vM"],
		18017: ["maptask_net", "BE"],
		18018: ["extraequip_net", "Ln"],
		18019: ["extraequip_net", "Nn"],
		18020: ["extraequip_net", "On"],
		18021: ["extraequip_net", "Qn"],
		18022: ["extraequip_net", "Rn"],
		18023: ["extraequip_net", "Tn"],
		18024: ["partner_net", "ku"],
		18025: ["partner_net", "Xu"],
		18026: ["partner_net", "bu"],
		18027: ["partner_net", "qu"],
		18028: ["partner_net", "ju"],
		18029: ["partner_net", "_u"],
		18030: ["festival_net", "Wn"],
		18031: ["festival_net", "$n"],
		18032: ["maptask_net", "kE"],
		18033: ["misc_net", "Yc"],
		18034: ["festival_net", "ra"],
		18035: ["festival_net", "ea"],
		18036: ["festival_net", "ua"],
		18037: ["festival_net", "fa"],
		18038: ["view_net", "PD"],
		18039: ["festival_net", "Xn"],
		18040: ["bindphone_net", "ud"],
		18041: ["bindphone_net", "sd"],
		18042: ["bindphone_net", "hd"],
		18043: ["mall_net", "Gy"],
		18044: ["mall_net", "Qy"],
		18045: ["mall_net", "Xy"],
		18046: ["mall_net", "zy"],
		18047: ["mall_net", "Ey"],
		18048: ["demonking_net", "M"],
		19001: ["maintask_net", "ny"],
		19002: ["maintask_net", "ty"],
		19003: ["maintask_net", "ay"],
		19004: ["maintask_net", "uy"],
		19005: ["maintask_net", "iy"],
		19006: ["maintask_net", "ey"],
		19007: ["maintask_net", "Iy"],
		19008: ["maintask_net", "sy"],
		19009: ["maintask_net", "Py"],
		19010: ["maintask_net", "oy"],
		19011: ["maintask_net", "Sy"],
		19012: ["yaojieruqin_net", "S_OPEN_YAOJIE_MAIN"],
		19013: ["yaojieruqin_net", "S_OPEN_YAOJIE_RANK"],
		19014: ["yaojieruqin_net", "S_OPEN_YAOJIE_DANYAO"],
		19015: ["yaojieruqin_net", "S_OPEN_YAOJIE_AWARD"],
		19016: ["yaojieruqin_net", "S_CLOSE_YAOJIE_MAIN"],
		19017: ["yaojieruqin_net", "S_CLOSE_YAOJIE_DANYAO"],
		19018: ["recharge_net", "ss"],
		19019: ["recharge_net", "hs"],
		19020: ["pet_net", "aI"],
		19021: ["dishaxing_net", "gn"],
		19022: ["dishaxing_net", "sn"],
		19023: ["dishaxing_net", "fn"],
		19024: ["dishaxing_net", "Dn"],
		19025: ["dishaxing_net", "En"],
		19026: ["partner_net", "aP"],
		19027: ["partner_net", "Wf"],
		19028: ["dishaxing_net", "vn"],
		19029: ["partner_net", "aP"],
		19030: ["dishaxing_net", "Hn"],
		19031: ["mall_net", "Jy"],
		19032: ["mall_net", "Ky"],
		19033: ["mall_net", "Ny"],
		19034: ["mall_net", "S_SHOW_XQP_DESC"],
		19035: ["yaojieruqin_net", "BD"],
		19036: ["yaojieruqin_net", "xD"],
		19037: ["yaojieruqin_net", "S_OPEN_YJRQ_DIFFICULTY"],
		19038: ["yaojieruqin_net", "zD"],
		19039: ["yaojieruqin_net", "OD"],
		19040: ["recharge_net", "cs"],
		19041: ["misc_net", "Mu"],
		19042: ["yaojieruqin_net", "TD"],
		19043: ["bag_net", "pB"],
		19044: ["yinmengerju_net", "Em"],
		19045: ["yinmengerju_net", "km"],
		19046: ["yinmengerju_net", "Bm"],
		19047: ["zyjshare_net", "Km"],
		19048: ["zyjshare_net", "Lm"],
		20001: ["open_service_net", "sO"],
		20002: ["misc_net", "Cc"],
		20003: ["open_service_net", "AO"],
		20004: ["view_net", "rp"],
		20005: ["view_net", "ep"],
		20006: ["recharge_net", "bh"],
		20007: ["recharge_net", "mh"],
		20008: ["recharge_net", "dh"],
		20009: ["view_net", "bD"],
		20010: ["view_net", "mD"],
		20011: ["bag_net", "gB"],
		20012: ["maptask_net", "iC"],
		20013: ["maptask_net", "uC"],
		20014: ["maptask_net", "sC"],
		20015: ["view_net", "RD"],
		20016: ["partner_net", "Rf"],
		20017: ["partner_net", "Qf"],
		20018: ["partner_net", "Vf"],
		20019: ["partner_net", "oP"],
		20020: ["recharge_net", "Fh"],
		20021: ["view_net", "jD"],
		20022: ["misc_net", "su"],
		20023: ["partner_net", "fP"],
		20024: ["partner_net", "lP"],
		20025: ["arena_net", "BA"],
		20026: ["arena_net", "LA"],
		20027: ["arena_net", "TA"],
		20028: ["arena_net", "qA"],
		20029: ["arena_net", "EA"],
		20030: ["arena_net", "QA"],
		20031: ["arena_net", "VA"],
		20032: ["view_net", "ND"],
		21001: ["misc_net", "gu"],
		21002: ["huodong_net", "yr"],
		21003: ["huodong_net", "zr"],
		21004: ["huodong_net", "Hr"],
		21005: ["huodong_net", "Lr"],
		21006: ["bag_net", "iB"],
		21007: ["arena_net", "lA"],
		21008: ["arena_net", "DA"],
		21009: ["arena_net", "pA"],
		21010: ["arena_net", "vA"],
		21011: ["arena_net", "ZA"],
		21012: ["arena_net", "kA"],
		21013: ["jingmai_net", "Ka"],
		21014: ["mall_net", "$y"],
		21015: ["mall_net", "S_CACHE_MALL_REWARD"],
		21016: ["pet_net", "UU"],
		21017: ["pet_net", "hU"],
		21018: ["pet_net", "sU"],
		21019: ["pet_net", "gU"],
		21020: ["pet_net", "S_OPEN_SHOW_NEIDAN"],
		21021: ["pet_net", "iI"],
		21022: ["pet_net", "MU"],
		21023: ["pet_net", "DU"],
		21027: ["arena_net", "oR"],
		22001: ["recharge_net", "Ia"],
		22002: ["view_net", "EM"],
		23001: ["recharge_net", "Ua"],
		23002: ["welfare_net", "pW"],
		23003: ["chat_net", "S_SOCIAL_PLAY_STATE"],
		24001: ["recharge_net", "S_OPEN_JIAOSHIJIE"],
		24002: ["recharge_net", "S_OPEN_JIAOSHIJIE"],
		24003: ["recharge_net", "S_OPEN_JIAOSHIJIE"],
		24004: ["recharge_net", "S_OPEN_JIAOSHIJIE"],
		24005: ["recharge_net", "S_OPEN_JIAOSHIJIE"],
		26001: ["arena_net", "aR"],
		26002: ["arena_net", "tR"],
		26003: ["arena_net", "iR"],
		26004: ["arena_net", "rR"],
		26005: ["arena_net", "eR"],
		0: []
	}
}(proto || (proto = {}));
var loadingTips;
! function(i) {
	i.BootTips = {
		1: "宠物和伙伴无论是否出战，培养都会增加主角的属性与战力。",
		2: "宠物和伙伴将会继承主角的属性。",
		3: "在主城商会的铁匠铺，可以用赤铁矿打造十分稀有的橙色装备。",
		4: "商会的铁匠铺里可以回购你不需要的橙装。",
		5: "回购橙装会返回100%的赤铁矿。",
		6: "完成日常的运镖任务可以获得大量银两。",
		7: "通关二十八星宿，不但可以获得海量经验，还有大量仙玉奖励。",
		8: "已经获得的法宝即使不装备也会给主角提供基础属性。",
		9: "法宝的附加技能只有装备后才会在战斗中生效。",
		10: "不同属性之间具有克制关系，属性克制时会造成更多的伤害。",
		11: "在战斗时，最左边的伙伴默认会先出手。",
		12: "备战宠物会在当前宠物被击败后上场参与战斗。",
		13: "战斗失败时，可以尝试调整主角技能的释放顺序。",
		14: "针对性地调整上阵的伙伴和宠物，才能有效应对不同的战斗。",
		15: "升星后伙伴会获得1个新的技能。",
		16: "为保护您的帐号安全，请勿使用非官方充值。",
		0: []
	}
}(loadingTips || (loadingTips = {}));
